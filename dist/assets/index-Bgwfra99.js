function Gh(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function zh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Of={exports:{}},ws={},Bf={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=Symbol.for("react.element"),qh=Symbol.for("react.portal"),Hh=Symbol.for("react.fragment"),Wh=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),Yh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),Xh=Symbol.for("react.memo"),eg=Symbol.for("react.lazy"),qu=Symbol.iterator;function tg(t){return t===null||typeof t!="object"?null:(t=qu&&t[qu]||t["@@iterator"],typeof t=="function"?t:null)}var Gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zf=Object.assign,qf={};function Hr(t,e,n){this.props=t,this.context=e,this.refs=qf,this.updater=n||Gf}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hf(){}Hf.prototype=Hr.prototype;function ja(t,e,n){this.props=t,this.context=e,this.refs=qf,this.updater=n||Gf}var $a=ja.prototype=new Hf;$a.constructor=ja;zf($a,Hr.prototype);$a.isPureReactComponent=!0;var Hu=Array.isArray,Wf=Object.prototype.hasOwnProperty,Oa={current:null},Jf={key:!0,ref:!0,__self:!0,__source:!0};function Yf(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Wf.call(e,r)&&!Jf.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];i.children=d}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Xi,type:t,key:o,ref:s,props:i,_owner:Oa.current}}function ng(t,e){return{$$typeof:Xi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ba(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xi}function rg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wu=/\/+/g;function Ks(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rg(""+t.key):e.toString(36)}function Eo(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Xi:case qh:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ks(s,0):r,Hu(i)?(n="",t!=null&&(n=t.replace(Wu,"$&/")+"/"),Eo(i,e,n,"",function(f){return f})):i!=null&&(Ba(i)&&(i=ng(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Wu,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Hu(t))for(var u=0;u<t.length;u++){o=t[u];var d=r+Ks(o,u);s+=Eo(o,e,n,d,i)}else if(d=tg(t),typeof d=="function")for(t=d.call(t),u=0;!(o=t.next()).done;)o=o.value,d=r+Ks(o,u++),s+=Eo(o,e,n,d,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function so(t,e,n){if(t==null)return t;var r=[],i=0;return Eo(t,r,"","",function(o){return e.call(n,o,i++)}),r}function ig(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},Io={transition:null},og={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Io,ReactCurrentOwner:Oa};function Kf(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:so,forEach:function(t,e,n){so(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return so(t,function(){e++}),e},toArray:function(t){return so(t,function(e){return e})||[]},only:function(t){if(!Ba(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Hr;te.Fragment=Hh;te.Profiler=Jh;te.PureComponent=ja;te.StrictMode=Wh;te.Suspense=Qh;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;te.act=Kf;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zf({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Oa.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)Wf.call(e,d)&&!Jf.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Xi,type:t.type,key:i,ref:o,props:r,_owner:s}};te.createContext=function(t){return t={$$typeof:Kh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Yh,_context:t},t.Consumer=t};te.createElement=Yf;te.createFactory=function(t){var e=Yf.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:Zh,render:t}};te.isValidElement=Ba;te.lazy=function(t){return{$$typeof:eg,_payload:{_status:-1,_result:t},_init:ig}};te.memo=function(t,e){return{$$typeof:Xh,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Io.transition;Io.transition={};try{t()}finally{Io.transition=e}};te.unstable_act=Kf;te.useCallback=function(t,e){return Qe.current.useCallback(t,e)};te.useContext=function(t){return Qe.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};te.useEffect=function(t,e){return Qe.current.useEffect(t,e)};te.useId=function(){return Qe.current.useId()};te.useImperativeHandle=function(t,e,n){return Qe.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Qe.current.useMemo(t,e)};te.useReducer=function(t,e,n){return Qe.current.useReducer(t,e,n)};te.useRef=function(t){return Qe.current.useRef(t)};te.useState=function(t){return Qe.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return Qe.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Qe.current.useTransition()};te.version="18.3.1";Bf.exports=te;var w=Bf.exports;const Ga=zh(w),sg=Gh({__proto__:null,default:Ga},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg=w,ag=Symbol.for("react.element"),ug=Symbol.for("react.fragment"),cg=Object.prototype.hasOwnProperty,dg=lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fg={key:!0,ref:!0,__self:!0,__source:!0};function Zf(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)cg.call(e,r)&&!fg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ag,type:t,key:o,ref:s,props:i,_owner:dg.current}}ws.Fragment=ug;ws.jsx=Zf;ws.jsxs=Zf;Of.exports=ws;var c=Of.exports,Oo={},Qf={exports:{}},dt={},Xf={exports:{}},em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,K){var Q=$.length;$.push(K);e:for(;0<Q;){var me=Q-1>>>1,le=$[me];if(0<i(le,K))$[me]=K,$[Q]=le,Q=me;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var K=$[0],Q=$.pop();if(Q!==K){$[0]=Q;e:for(var me=0,le=$.length,Xt=le>>>1;me<Xt;){var wt=2*(me+1)-1,st=$[wt],_t=wt+1,en=$[_t];if(0>i(st,Q))_t<le&&0>i(en,st)?($[me]=en,$[_t]=Q,me=_t):($[me]=st,$[wt]=Q,me=wt);else if(_t<le&&0>i(en,Q))$[me]=en,$[_t]=Q,me=_t;else break e}}return K}function i($,K){var Q=$.sortIndex-K.sortIndex;return Q!==0?Q:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var d=[],f=[],m=1,p=null,h=3,g=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=$)r(f),K.sortIndex=K.expirationTime,e(d,K);else break;K=n(f)}}function I($){if(x=!1,v($),!y)if(n(d)!==null)y=!0,Rn(R);else{var K=n(f);K!==null&&bn(I,K.startTime-$)}}function R($,K){y=!1,x&&(x=!1,C(A),A=-1),g=!0;var Q=h;try{for(v(K),p=n(d);p!==null&&(!(p.expirationTime>K)||$&&!ee());){var me=p.callback;if(typeof me=="function"){p.callback=null,h=p.priorityLevel;var le=me(p.expirationTime<=K);K=t.unstable_now(),typeof le=="function"?p.callback=le:p===n(d)&&r(d),v(K)}else r(d);p=n(d)}if(p!==null)var Xt=!0;else{var wt=n(f);wt!==null&&bn(I,wt.startTime-K),Xt=!1}return Xt}finally{p=null,h=Q,g=!1}}var _=!1,D=null,A=-1,U=5,V=-1;function ee(){return!(t.unstable_now()-V<U)}function xe(){if(D!==null){var $=t.unstable_now();V=$;var K=!0;try{K=D(!0,$)}finally{K?b():(_=!1,D=null)}}else _=!1}var b;if(typeof T=="function")b=function(){T(xe)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,ot=Me.port2;Me.port1.onmessage=xe,b=function(){ot.postMessage(null)}}else b=function(){S(xe,0)};function Rn($){D=$,_||(_=!0,b())}function bn($,K){A=S(function(){$(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,Rn(R))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var Q=h;h=K;try{return $()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=h;h=$;try{return K()}finally{h=Q}},t.unstable_scheduleCallback=function($,K,Q){var me=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?me+Q:me):Q=me,$){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Q+le,$={id:m++,callback:K,priorityLevel:$,startTime:Q,expirationTime:le,sortIndex:-1},Q>me?($.sortIndex=Q,e(f,$),n(d)===null&&$===n(f)&&(x?(C(A),A=-1):x=!0,bn(I,Q-me))):($.sortIndex=le,e(d,$),y||g||(y=!0,Rn(R))),$},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function($){var K=h;return function(){var Q=h;h=K;try{return $.apply(this,arguments)}finally{h=Q}}}})(em);Xf.exports=em;var mg=Xf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=w,ct=mg;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tm=new Set,Pi={};function rr(t,e){Pr(t,e),Pr(t+"Capture",e)}function Pr(t,e){for(Pi[t]=e,t=0;t<e.length;t++)tm.add(e[t])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sl=Object.prototype.hasOwnProperty,hg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ju={},Yu={};function gg(t){return Sl.call(Yu,t)?!0:Sl.call(Ju,t)?!1:hg.test(t)?Yu[t]=!0:(Ju[t]=!0,!1)}function yg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vg(t,e,n,r){if(e===null||typeof e>"u"||yg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xe(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new Xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new Xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new Xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new Xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new Xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new Xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new Xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new Xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new Xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var za=/[\-:]([a-z])/g;function qa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(za,qa);Ge[e]=new Xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(za,qa);Ge[e]=new Xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(za,qa);Ge[e]=new Xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new Xe(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new Xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ha(t,e,n,r){var i=Ge.hasOwnProperty(e)?Ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vg(e,n,i,r)&&(n=null),r||i===null?gg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qt=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lo=Symbol.for("react.element"),cr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),Wa=Symbol.for("react.strict_mode"),El=Symbol.for("react.profiler"),nm=Symbol.for("react.provider"),rm=Symbol.for("react.context"),Ja=Symbol.for("react.forward_ref"),Il=Symbol.for("react.suspense"),Al=Symbol.for("react.suspense_list"),Ya=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),im=Symbol.for("react.offscreen"),Ku=Symbol.iterator;function ei(t){return t===null||typeof t!="object"?null:(t=Ku&&t[Ku]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,Zs;function mi(t){if(Zs===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zs=e&&e[1]||""}return`
`+Zs+t}var Qs=!1;function Xs(t,e){if(!t||Qs)return"";Qs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,u=o.length-1;1<=s&&0<=u&&i[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==o[u]){var d=`
`+i[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=u);break}}}finally{Qs=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mi(t):""}function xg(t){switch(t.tag){case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return t=Xs(t.type,!1),t;case 11:return t=Xs(t.type.render,!1),t;case 1:return t=Xs(t.type,!0),t;default:return""}}function kl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dr:return"Fragment";case cr:return"Portal";case El:return"Profiler";case Wa:return"StrictMode";case Il:return"Suspense";case Al:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rm:return(t.displayName||"Context")+".Consumer";case nm:return(t._context.displayName||"Context")+".Provider";case Ja:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ya:return e=t.displayName||null,e!==null?e:kl(t.type)||"Memo";case nn:e=t._payload,t=t._init;try{return kl(t(e))}catch{}}return null}function Cg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kl(e);case 8:return e===Wa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function om(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Tg(t){var e=om(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ao(t){t._valueTracker||(t._valueTracker=Tg(t))}function sm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=om(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ml(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zu(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lm(t,e){e=e.checked,e!=null&&Ha(t,"checked",e,!1)}function Pl(t,e){lm(t,e);var n=Tn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rl(t,e.type,Tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rl(t,e,n){(e!=="number"||Bo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pi=Array.isArray;function _r(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(pi(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tn(n)}}function am(t,e){var n=Tn(e.value),r=Tn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ec(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function um(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?um(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uo,cm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ri(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wg=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(t){wg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xi[e]=xi[t]})});function dm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xi.hasOwnProperty(t)&&xi[t]?(""+e).trim():e+"px"}function fm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _g=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(t,e){if(e){if(_g[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Fl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vl=null;function Ka(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ul=null,Nr=null,Sr=null;function tc(t){if(t=no(t)){if(typeof Ul!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Is(e),Ul(t.stateNode,t.type,e))}}function mm(t){Nr?Sr?Sr.push(t):Sr=[t]:Nr=t}function pm(){if(Nr){var t=Nr,e=Sr;if(Sr=Nr=null,tc(t),e)for(t=0;t<e.length;t++)tc(e[t])}}function hm(t,e){return t(e)}function gm(){}var el=!1;function ym(t,e,n){if(el)return t(e,n);el=!0;try{return hm(t,e,n)}finally{el=!1,(Nr!==null||Sr!==null)&&(gm(),pm())}}function bi(t,e){var n=t.stateNode;if(n===null)return null;var r=Is(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var jl=!1;if(Wt)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){jl=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{jl=!1}function Ng(t,e,n,r,i,o,s,u,d){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Ci=!1,Go=null,zo=!1,$l=null,Sg={onError:function(t){Ci=!0,Go=t}};function Eg(t,e,n,r,i,o,s,u,d){Ci=!1,Go=null,Ng.apply(Sg,arguments)}function Ig(t,e,n,r,i,o,s,u,d){if(Eg.apply(this,arguments),Ci){if(Ci){var f=Go;Ci=!1,Go=null}else throw Error(L(198));zo||(zo=!0,$l=f)}}function ir(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nc(t){if(ir(t)!==t)throw Error(L(188))}function Ag(t){var e=t.alternate;if(!e){if(e=ir(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nc(i),t;if(o===r)return nc(i),e;o=o.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function xm(t){return t=Ag(t),t!==null?Cm(t):null}function Cm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cm(t);if(e!==null)return e;t=t.sibling}return null}var Tm=ct.unstable_scheduleCallback,rc=ct.unstable_cancelCallback,kg=ct.unstable_shouldYield,Mg=ct.unstable_requestPaint,Ee=ct.unstable_now,Pg=ct.unstable_getCurrentPriorityLevel,Za=ct.unstable_ImmediatePriority,wm=ct.unstable_UserBlockingPriority,qo=ct.unstable_NormalPriority,Rg=ct.unstable_LowPriority,_m=ct.unstable_IdlePriority,_s=null,Ut=null;function bg(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(_s,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Fg,Dg=Math.log,Lg=Math.LN2;function Fg(t){return t>>>=0,t===0?32:31-(Dg(t)/Lg|0)|0}var co=64,fo=4194304;function hi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ho(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var u=s&~i;u!==0?r=hi(u):(o&=s,o!==0&&(r=hi(o)))}else s=n&~i,s!==0?r=hi(s):o!==0&&(r=hi(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kt(e),i=1<<n,r|=t[n],e&=~i;return r}function Vg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ug(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-kt(o),u=1<<s,d=i[s];d===-1?(!(u&n)||u&r)&&(i[s]=Vg(u,e)):d<=e&&(t.expiredLanes|=u),o&=~u}}function Ol(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nm(){var t=co;return co<<=1,!(co&4194240)&&(co=64),t}function tl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function jg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Qa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function Sm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Em,Xa,Im,Am,km,Bl=!1,mo=[],dn=null,fn=null,mn=null,Di=new Map,Li=new Map,sn=[],$g="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(t,e){switch(t){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Di.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(e.pointerId)}}function ni(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=no(e),e!==null&&Xa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Og(t,e,n,r,i){switch(e){case"focusin":return dn=ni(dn,t,e,n,r,i),!0;case"dragenter":return fn=ni(fn,t,e,n,r,i),!0;case"mouseover":return mn=ni(mn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Di.set(o,ni(Di.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Li.set(o,ni(Li.get(o)||null,t,e,n,r,i)),!0}return!1}function Mm(t){var e=zn(t.target);if(e!==null){var n=ir(e);if(n!==null){if(e=n.tag,e===13){if(e=vm(n),e!==null){t.blockedOn=e,km(t.priority,function(){Im(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vl=r,n.target.dispatchEvent(r),Vl=null}else return e=no(n),e!==null&&Xa(e),t.blockedOn=n,!1;e.shift()}return!0}function oc(t,e,n){Ao(t)&&n.delete(e)}function Bg(){Bl=!1,dn!==null&&Ao(dn)&&(dn=null),fn!==null&&Ao(fn)&&(fn=null),mn!==null&&Ao(mn)&&(mn=null),Di.forEach(oc),Li.forEach(oc)}function ri(t,e){t.blockedOn===e&&(t.blockedOn=null,Bl||(Bl=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Bg)))}function Fi(t){function e(i){return ri(i,t)}if(0<mo.length){ri(mo[0],t);for(var n=1;n<mo.length;n++){var r=mo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dn!==null&&ri(dn,t),fn!==null&&ri(fn,t),mn!==null&&ri(mn,t),Di.forEach(e),Li.forEach(e),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Mm(n),n.blockedOn===null&&sn.shift()}var Er=Qt.ReactCurrentBatchConfig,Wo=!0;function Gg(t,e,n,r){var i=ae,o=Er.transition;Er.transition=null;try{ae=1,eu(t,e,n,r)}finally{ae=i,Er.transition=o}}function zg(t,e,n,r){var i=ae,o=Er.transition;Er.transition=null;try{ae=4,eu(t,e,n,r)}finally{ae=i,Er.transition=o}}function eu(t,e,n,r){if(Wo){var i=Gl(t,e,n,r);if(i===null)dl(t,e,r,Jo,n),ic(t,r);else if(Og(i,t,e,n,r))r.stopPropagation();else if(ic(t,r),e&4&&-1<$g.indexOf(t)){for(;i!==null;){var o=no(i);if(o!==null&&Em(o),o=Gl(t,e,n,r),o===null&&dl(t,e,r,Jo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else dl(t,e,r,null,n)}}var Jo=null;function Gl(t,e,n,r){if(Jo=null,t=Ka(r),t=zn(t),t!==null)if(e=ir(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jo=t,null}function Pm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pg()){case Za:return 1;case wm:return 4;case qo:case Rg:return 16;case _m:return 536870912;default:return 16}default:return 16}}var an=null,tu=null,ko=null;function Rm(){if(ko)return ko;var t,e=tu,n=e.length,r,i="value"in an?an.value:an.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ko=i.slice(t,1<r?1-r:void 0)}function Mo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function po(){return!0}function sc(){return!1}function ft(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?po:sc,this.isPropagationStopped=sc,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),e}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=ft(Wr),to=_e({},Wr,{view:0,detail:0}),qg=ft(to),nl,rl,ii,Ns=_e({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(nl=t.screenX-ii.screenX,rl=t.screenY-ii.screenY):rl=nl=0,ii=t),nl)},movementY:function(t){return"movementY"in t?t.movementY:rl}}),lc=ft(Ns),Hg=_e({},Ns,{dataTransfer:0}),Wg=ft(Hg),Jg=_e({},to,{relatedTarget:0}),il=ft(Jg),Yg=_e({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kg=ft(Yg),Zg=_e({},Wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qg=ft(Zg),Xg=_e({},Wr,{data:0}),ac=ft(Xg),ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ry(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ny[t])?!!e[t]:!1}function ru(){return ry}var iy=_e({},to,{key:function(t){if(t.key){var e=ey[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ty[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(t){return t.type==="keypress"?Mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oy=ft(iy),sy=_e({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=ft(sy),ly=_e({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),ay=ft(ly),uy=_e({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cy=ft(uy),dy=_e({},Ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fy=ft(dy),my=[9,13,27,32],iu=Wt&&"CompositionEvent"in window,Ti=null;Wt&&"documentMode"in document&&(Ti=document.documentMode);var py=Wt&&"TextEvent"in window&&!Ti,bm=Wt&&(!iu||Ti&&8<Ti&&11>=Ti),cc=" ",dc=!1;function Dm(t,e){switch(t){case"keyup":return my.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function hy(t,e){switch(t){case"compositionend":return Lm(e);case"keypress":return e.which!==32?null:(dc=!0,cc);case"textInput":return t=e.data,t===cc&&dc?null:t;default:return null}}function gy(t,e){if(fr)return t==="compositionend"||!iu&&Dm(t,e)?(t=Rm(),ko=tu=an=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bm&&e.locale!=="ko"?null:e.data;default:return null}}var yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yy[t.type]:e==="textarea"}function Fm(t,e,n,r){mm(r),e=Yo(e,"onChange"),0<e.length&&(n=new nu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wi=null,Vi=null;function vy(t){Wm(t,0)}function Ss(t){var e=hr(t);if(sm(e))return t}function xy(t,e){if(t==="change")return e}var Vm=!1;if(Wt){var ol;if(Wt){var sl="oninput"in document;if(!sl){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),sl=typeof mc.oninput=="function"}ol=sl}else ol=!1;Vm=ol&&(!document.documentMode||9<document.documentMode)}function pc(){wi&&(wi.detachEvent("onpropertychange",Um),Vi=wi=null)}function Um(t){if(t.propertyName==="value"&&Ss(Vi)){var e=[];Fm(e,Vi,t,Ka(t)),ym(vy,e)}}function Cy(t,e,n){t==="focusin"?(pc(),wi=e,Vi=n,wi.attachEvent("onpropertychange",Um)):t==="focusout"&&pc()}function Ty(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ss(Vi)}function wy(t,e){if(t==="click")return Ss(e)}function _y(t,e){if(t==="input"||t==="change")return Ss(e)}function Ny(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rt=typeof Object.is=="function"?Object.is:Ny;function Ui(t,e){if(Rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sl.call(e,i)||!Rt(t[i],e[i]))return!1}return!0}function hc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gc(t,e){var n=hc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hc(n)}}function jm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $m(){for(var t=window,e=Bo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bo(t.document)}return e}function ou(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sy(t){var e=$m(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jm(n.ownerDocument.documentElement,n)){if(r!==null&&ou(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=gc(n,o);var s=gc(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ey=Wt&&"documentMode"in document&&11>=document.documentMode,mr=null,zl=null,_i=null,ql=!1;function yc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ql||mr==null||mr!==Bo(r)||(r=mr,"selectionStart"in r&&ou(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_i&&Ui(_i,r)||(_i=r,r=Yo(zl,"onSelect"),0<r.length&&(e=new nu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function ho(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pr={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},ll={},Om={};Wt&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Es(t){if(ll[t])return ll[t];if(!pr[t])return t;var e=pr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Om)return ll[t]=e[n];return t}var Bm=Es("animationend"),Gm=Es("animationiteration"),zm=Es("animationstart"),qm=Es("transitionend"),Hm=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(t,e){Hm.set(t,e),rr(e,[t])}for(var al=0;al<vc.length;al++){var ul=vc[al],Iy=ul.toLowerCase(),Ay=ul[0].toUpperCase()+ul.slice(1);Nn(Iy,"on"+Ay)}Nn(Bm,"onAnimationEnd");Nn(Gm,"onAnimationIteration");Nn(zm,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(qm,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ky=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function xc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ig(r,e,void 0,t),t.currentTarget=null}function Wm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var u=r[s],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==o&&i.isPropagationStopped())break e;xc(i,u,f),o=d}else for(s=0;s<r.length;s++){if(u=r[s],d=u.instance,f=u.currentTarget,u=u.listener,d!==o&&i.isPropagationStopped())break e;xc(i,u,f),o=d}}}if(zo)throw t=$l,zo=!1,$l=null,t}function pe(t,e){var n=e[Kl];n===void 0&&(n=e[Kl]=new Set);var r=t+"__bubble";n.has(r)||(Jm(e,t,2,!1),n.add(r))}function cl(t,e,n){var r=0;e&&(r|=4),Jm(n,t,r,e)}var go="_reactListening"+Math.random().toString(36).slice(2);function ji(t){if(!t[go]){t[go]=!0,tm.forEach(function(n){n!=="selectionchange"&&(ky.has(n)||cl(n,!1,t),cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[go]||(e[go]=!0,cl("selectionchange",!1,e))}}function Jm(t,e,n,r){switch(Pm(e)){case 1:var i=Gg;break;case 4:i=zg;break;default:i=eu}n=i.bind(null,e,n,t),i=void 0,!jl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function dl(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;s=s.return}for(;u!==null;){if(s=zn(u),s===null)return;if(d=s.tag,d===5||d===6){r=o=s;continue e}u=u.parentNode}}r=r.return}ym(function(){var f=o,m=Ka(n),p=[];e:{var h=Hm.get(t);if(h!==void 0){var g=nu,y=t;switch(t){case"keypress":if(Mo(n)===0)break e;case"keydown":case"keyup":g=oy;break;case"focusin":y="focus",g=il;break;case"focusout":y="blur",g=il;break;case"beforeblur":case"afterblur":g=il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ay;break;case Bm:case Gm:case zm:g=Kg;break;case qm:g=cy;break;case"scroll":g=qg;break;case"wheel":g=fy;break;case"copy":case"cut":case"paste":g=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=uc}var x=(e&4)!==0,S=!x&&t==="scroll",C=x?h!==null?h+"Capture":null:h;x=[];for(var T=f,v;T!==null;){v=T;var I=v.stateNode;if(v.tag===5&&I!==null&&(v=I,C!==null&&(I=bi(T,C),I!=null&&x.push($i(T,I,v)))),S)break;T=T.return}0<x.length&&(h=new g(h,y,null,n,m),p.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Vl&&(y=n.relatedTarget||n.fromElement)&&(zn(y)||y[Jt]))break e;if((g||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=f,y=y?zn(y):null,y!==null&&(S=ir(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=f),g!==y)){if(x=lc,I="onMouseLeave",C="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(x=uc,I="onPointerLeave",C="onPointerEnter",T="pointer"),S=g==null?h:hr(g),v=y==null?h:hr(y),h=new x(I,T+"leave",g,n,m),h.target=S,h.relatedTarget=v,I=null,zn(m)===f&&(x=new x(C,T+"enter",y,n,m),x.target=v,x.relatedTarget=S,I=x),S=I,g&&y)t:{for(x=g,C=y,T=0,v=x;v;v=lr(v))T++;for(v=0,I=C;I;I=lr(I))v++;for(;0<T-v;)x=lr(x),T--;for(;0<v-T;)C=lr(C),v--;for(;T--;){if(x===C||C!==null&&x===C.alternate)break t;x=lr(x),C=lr(C)}x=null}else x=null;g!==null&&Cc(p,h,g,x,!1),y!==null&&S!==null&&Cc(p,S,y,x,!0)}}e:{if(h=f?hr(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var R=xy;else if(fc(h))if(Vm)R=_y;else{R=Ty;var _=Cy}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=wy);if(R&&(R=R(t,f))){Fm(p,R,n,m);break e}_&&_(t,h,f),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Rl(h,"number",h.value)}switch(_=f?hr(f):window,t){case"focusin":(fc(_)||_.contentEditable==="true")&&(mr=_,zl=f,_i=null);break;case"focusout":_i=zl=mr=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,yc(p,n,m);break;case"selectionchange":if(Ey)break;case"keydown":case"keyup":yc(p,n,m)}var D;if(iu)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fr?Dm(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(bm&&n.locale!=="ko"&&(fr||A!=="onCompositionStart"?A==="onCompositionEnd"&&fr&&(D=Rm()):(an=m,tu="value"in an?an.value:an.textContent,fr=!0)),_=Yo(f,A),0<_.length&&(A=new ac(A,t,null,n,m),p.push({event:A,listeners:_}),D?A.data=D:(D=Lm(n),D!==null&&(A.data=D)))),(D=py?hy(t,n):gy(t,n))&&(f=Yo(f,"onBeforeInput"),0<f.length&&(m=new ac("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:f}),m.data=D))}Wm(p,e)})}function $i(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yo(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bi(t,n),o!=null&&r.unshift($i(t,o,i)),o=bi(t,e),o!=null&&r.push($i(t,o,i))),t=t.return}return r}function lr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cc(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&f!==null&&(u=f,i?(d=bi(n,o),d!=null&&s.unshift($i(n,d,u))):i||(d=bi(n,o),d!=null&&s.push($i(n,d,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var My=/\r\n?/g,Py=/\u0000|\uFFFD/g;function Tc(t){return(typeof t=="string"?t:""+t).replace(My,`
`).replace(Py,"")}function yo(t,e,n){if(e=Tc(e),Tc(t)!==e&&n)throw Error(L(425))}function Ko(){}var Hl=null,Wl=null;function Jl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yl=typeof setTimeout=="function"?setTimeout:void 0,Ry=typeof clearTimeout=="function"?clearTimeout:void 0,wc=typeof Promise=="function"?Promise:void 0,by=typeof queueMicrotask=="function"?queueMicrotask:typeof wc<"u"?function(t){return wc.resolve(null).then(t).catch(Dy)}:Yl;function Dy(t){setTimeout(function(){throw t})}function fl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fi(e)}function pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _c(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Jr,Oi="__reactProps$"+Jr,Jt="__reactContainer$"+Jr,Kl="__reactEvents$"+Jr,Ly="__reactListeners$"+Jr,Fy="__reactHandles$"+Jr;function zn(t){var e=t[Lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jt]||n[Lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_c(t);t!==null;){if(n=t[Lt])return n;t=_c(t)}return e}t=n,n=t.parentNode}return null}function no(t){return t=t[Lt]||t[Jt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Is(t){return t[Oi]||null}var Zl=[],gr=-1;function Sn(t){return{current:t}}function ve(t){0>gr||(t.current=Zl[gr],Zl[gr]=null,gr--)}function de(t,e){gr++,Zl[gr]=t.current,t.current=e}var wn={},We=Sn(wn),nt=Sn(!1),Yn=wn;function Rr(t,e){var n=t.type.contextTypes;if(!n)return wn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rt(t){return t=t.childContextTypes,t!=null}function Zo(){ve(nt),ve(We)}function Nc(t,e,n){if(We.current!==wn)throw Error(L(168));de(We,e),de(nt,n)}function Ym(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,Cg(t)||"Unknown",i));return _e({},n,r)}function Qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,Yn=We.current,de(We,t),de(nt,nt.current),!0}function Sc(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=Ym(t,e,Yn),r.__reactInternalMemoizedMergedChildContext=t,ve(nt),ve(We),de(We,t)):ve(nt),de(nt,n)}var Gt=null,As=!1,ml=!1;function Km(t){Gt===null?Gt=[t]:Gt.push(t)}function Vy(t){As=!0,Km(t)}function En(){if(!ml&&Gt!==null){ml=!0;var t=0,e=ae;try{var n=Gt;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gt=null,As=!1}catch(i){throw Gt!==null&&(Gt=Gt.slice(t+1)),Tm(Za,En),i}finally{ae=e,ml=!1}}return null}var yr=[],vr=0,Xo=null,es=0,mt=[],pt=0,Kn=null,zt=1,qt="";function $n(t,e){yr[vr++]=es,yr[vr++]=Xo,Xo=t,es=e}function Zm(t,e,n){mt[pt++]=zt,mt[pt++]=qt,mt[pt++]=Kn,Kn=t;var r=zt;t=qt;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var o=32-kt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,zt=1<<32-kt(e)+i|n<<i|r,qt=o+t}else zt=1<<o|n<<i|r,qt=t}function su(t){t.return!==null&&($n(t,1),Zm(t,1,0))}function lu(t){for(;t===Xo;)Xo=yr[--vr],yr[vr]=null,es=yr[--vr],yr[vr]=null;for(;t===Kn;)Kn=mt[--pt],mt[pt]=null,qt=mt[--pt],mt[pt]=null,zt=mt[--pt],mt[pt]=null}var ut=null,at=null,Ce=!1,At=null;function Qm(t,e){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ec(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ut=t,at=pn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ut=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kn!==null?{id:zt,overflow:qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ut=t,at=null,!0):!1;default:return!1}}function Ql(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xl(t){if(Ce){var e=at;if(e){var n=e;if(!Ec(t,e)){if(Ql(t))throw Error(L(418));e=pn(n.nextSibling);var r=ut;e&&Ec(t,e)?Qm(r,n):(t.flags=t.flags&-4097|2,Ce=!1,ut=t)}}else{if(Ql(t))throw Error(L(418));t.flags=t.flags&-4097|2,Ce=!1,ut=t}}}function Ic(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ut=t}function vo(t){if(t!==ut)return!1;if(!Ce)return Ic(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jl(t.type,t.memoizedProps)),e&&(e=at)){if(Ql(t))throw Xm(),Error(L(418));for(;e;)Qm(t,e),e=pn(e.nextSibling)}if(Ic(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=pn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=ut?pn(t.stateNode.nextSibling):null;return!0}function Xm(){for(var t=at;t;)t=pn(t.nextSibling)}function br(){at=ut=null,Ce=!1}function au(t){At===null?At=[t]:At.push(t)}var Uy=Qt.ReactCurrentBatchConfig;function oi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var u=i.refs;s===null?delete u[o]:u[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function xo(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ac(t){var e=t._init;return e(t._payload)}function ep(t){function e(C,T){if(t){var v=C.deletions;v===null?(C.deletions=[T],C.flags|=16):v.push(T)}}function n(C,T){if(!t)return null;for(;T!==null;)e(C,T),T=T.sibling;return null}function r(C,T){for(C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function i(C,T){return C=vn(C,T),C.index=0,C.sibling=null,C}function o(C,T,v){return C.index=v,t?(v=C.alternate,v!==null?(v=v.index,v<T?(C.flags|=2,T):v):(C.flags|=2,T)):(C.flags|=1048576,T)}function s(C){return t&&C.alternate===null&&(C.flags|=2),C}function u(C,T,v,I){return T===null||T.tag!==6?(T=Cl(v,C.mode,I),T.return=C,T):(T=i(T,v),T.return=C,T)}function d(C,T,v,I){var R=v.type;return R===dr?m(C,T,v.props.children,I,v.key):T!==null&&(T.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===nn&&Ac(R)===T.type)?(I=i(T,v.props),I.ref=oi(C,T,v),I.return=C,I):(I=Vo(v.type,v.key,v.props,null,C.mode,I),I.ref=oi(C,T,v),I.return=C,I)}function f(C,T,v,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==v.containerInfo||T.stateNode.implementation!==v.implementation?(T=Tl(v,C.mode,I),T.return=C,T):(T=i(T,v.children||[]),T.return=C,T)}function m(C,T,v,I,R){return T===null||T.tag!==7?(T=Jn(v,C.mode,I,R),T.return=C,T):(T=i(T,v),T.return=C,T)}function p(C,T,v){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Cl(""+T,C.mode,v),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lo:return v=Vo(T.type,T.key,T.props,null,C.mode,v),v.ref=oi(C,null,T),v.return=C,v;case cr:return T=Tl(T,C.mode,v),T.return=C,T;case nn:var I=T._init;return p(C,I(T._payload),v)}if(pi(T)||ei(T))return T=Jn(T,C.mode,v,null),T.return=C,T;xo(C,T)}return null}function h(C,T,v,I){var R=T!==null?T.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return R!==null?null:u(C,T,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lo:return v.key===R?d(C,T,v,I):null;case cr:return v.key===R?f(C,T,v,I):null;case nn:return R=v._init,h(C,T,R(v._payload),I)}if(pi(v)||ei(v))return R!==null?null:m(C,T,v,I,null);xo(C,v)}return null}function g(C,T,v,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return C=C.get(v)||null,u(T,C,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case lo:return C=C.get(I.key===null?v:I.key)||null,d(T,C,I,R);case cr:return C=C.get(I.key===null?v:I.key)||null,f(T,C,I,R);case nn:var _=I._init;return g(C,T,v,_(I._payload),R)}if(pi(I)||ei(I))return C=C.get(v)||null,m(T,C,I,R,null);xo(T,I)}return null}function y(C,T,v,I){for(var R=null,_=null,D=T,A=T=0,U=null;D!==null&&A<v.length;A++){D.index>A?(U=D,D=null):U=D.sibling;var V=h(C,D,v[A],I);if(V===null){D===null&&(D=U);break}t&&D&&V.alternate===null&&e(C,D),T=o(V,T,A),_===null?R=V:_.sibling=V,_=V,D=U}if(A===v.length)return n(C,D),Ce&&$n(C,A),R;if(D===null){for(;A<v.length;A++)D=p(C,v[A],I),D!==null&&(T=o(D,T,A),_===null?R=D:_.sibling=D,_=D);return Ce&&$n(C,A),R}for(D=r(C,D);A<v.length;A++)U=g(D,C,A,v[A],I),U!==null&&(t&&U.alternate!==null&&D.delete(U.key===null?A:U.key),T=o(U,T,A),_===null?R=U:_.sibling=U,_=U);return t&&D.forEach(function(ee){return e(C,ee)}),Ce&&$n(C,A),R}function x(C,T,v,I){var R=ei(v);if(typeof R!="function")throw Error(L(150));if(v=R.call(v),v==null)throw Error(L(151));for(var _=R=null,D=T,A=T=0,U=null,V=v.next();D!==null&&!V.done;A++,V=v.next()){D.index>A?(U=D,D=null):U=D.sibling;var ee=h(C,D,V.value,I);if(ee===null){D===null&&(D=U);break}t&&D&&ee.alternate===null&&e(C,D),T=o(ee,T,A),_===null?R=ee:_.sibling=ee,_=ee,D=U}if(V.done)return n(C,D),Ce&&$n(C,A),R;if(D===null){for(;!V.done;A++,V=v.next())V=p(C,V.value,I),V!==null&&(T=o(V,T,A),_===null?R=V:_.sibling=V,_=V);return Ce&&$n(C,A),R}for(D=r(C,D);!V.done;A++,V=v.next())V=g(D,C,A,V.value,I),V!==null&&(t&&V.alternate!==null&&D.delete(V.key===null?A:V.key),T=o(V,T,A),_===null?R=V:_.sibling=V,_=V);return t&&D.forEach(function(xe){return e(C,xe)}),Ce&&$n(C,A),R}function S(C,T,v,I){if(typeof v=="object"&&v!==null&&v.type===dr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case lo:e:{for(var R=v.key,_=T;_!==null;){if(_.key===R){if(R=v.type,R===dr){if(_.tag===7){n(C,_.sibling),T=i(_,v.props.children),T.return=C,C=T;break e}}else if(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===nn&&Ac(R)===_.type){n(C,_.sibling),T=i(_,v.props),T.ref=oi(C,_,v),T.return=C,C=T;break e}n(C,_);break}else e(C,_);_=_.sibling}v.type===dr?(T=Jn(v.props.children,C.mode,I,v.key),T.return=C,C=T):(I=Vo(v.type,v.key,v.props,null,C.mode,I),I.ref=oi(C,T,v),I.return=C,C=I)}return s(C);case cr:e:{for(_=v.key;T!==null;){if(T.key===_)if(T.tag===4&&T.stateNode.containerInfo===v.containerInfo&&T.stateNode.implementation===v.implementation){n(C,T.sibling),T=i(T,v.children||[]),T.return=C,C=T;break e}else{n(C,T);break}else e(C,T);T=T.sibling}T=Tl(v,C.mode,I),T.return=C,C=T}return s(C);case nn:return _=v._init,S(C,T,_(v._payload),I)}if(pi(v))return y(C,T,v,I);if(ei(v))return x(C,T,v,I);xo(C,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,T!==null&&T.tag===6?(n(C,T.sibling),T=i(T,v),T.return=C,C=T):(n(C,T),T=Cl(v,C.mode,I),T.return=C,C=T),s(C)):n(C,T)}return S}var Dr=ep(!0),tp=ep(!1),ts=Sn(null),ns=null,xr=null,uu=null;function cu(){uu=xr=ns=null}function du(t){var e=ts.current;ve(ts),t._currentValue=e}function ea(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ir(t,e){ns=t,uu=xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tt=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(uu!==t)if(t={context:t,memoizedValue:e,next:null},xr===null){if(ns===null)throw Error(L(308));xr=t,ns.dependencies={lanes:0,firstContext:t}}else xr=xr.next=t;return e}var qn=null;function fu(t){qn===null?qn=[t]:qn.push(t)}function np(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yt(t,r)}function Yt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rn=!1;function mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yt(t,n)}return i=r.interleaved,i===null?(e.next=e,fu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yt(t,n)}function Po(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qa(t,n)}}function kc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rs(t,e,n,r){var i=t.updateQueue;rn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,f=d.next;d.next=null,s===null?o=f:s.next=f,s=d;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==s&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=d))}if(o!==null){var p=i.baseState;s=0,m=f=d=null,u=o;do{var h=u.lane,g=u.eventTime;if((r&h)===h){m!==null&&(m=m.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var y=t,x=u;switch(h=e,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){p=y.call(g,p,h);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(g,p,h):y,h==null)break e;p=_e({},p,h);break e;case 2:rn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[u]:h.push(u))}else g={eventTime:g,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=g,d=p):m=m.next=g,s|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;h=u,u=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(m===null&&(d=p),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Qn|=s,t.lanes=s,t.memoizedState=p}}function Mc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var ro={},jt=Sn(ro),Bi=Sn(ro),Gi=Sn(ro);function Hn(t){if(t===ro)throw Error(L(174));return t}function pu(t,e){switch(de(Gi,e),de(Bi,t),de(jt,ro),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dl(e,t)}ve(jt),de(jt,e)}function Lr(){ve(jt),ve(Bi),ve(Gi)}function ip(t){Hn(Gi.current);var e=Hn(jt.current),n=Dl(e,t.type);e!==n&&(de(Bi,t),de(jt,n))}function hu(t){Bi.current===t&&(ve(jt),ve(Bi))}var Te=Sn(0);function is(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pl=[];function gu(){for(var t=0;t<pl.length;t++)pl[t]._workInProgressVersionPrimary=null;pl.length=0}var Ro=Qt.ReactCurrentDispatcher,hl=Qt.ReactCurrentBatchConfig,Zn=0,we=null,Fe=null,Ue=null,os=!1,Ni=!1,zi=0,jy=0;function ze(){throw Error(L(321))}function yu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rt(t[n],e[n]))return!1;return!0}function vu(t,e,n,r,i,o){if(Zn=o,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ro.current=t===null||t.memoizedState===null?Gy:zy,t=n(r,i),Ni){o=0;do{if(Ni=!1,zi=0,25<=o)throw Error(L(301));o+=1,Ue=Fe=null,e.updateQueue=null,Ro.current=qy,t=n(r,i)}while(Ni)}if(Ro.current=ss,e=Fe!==null&&Fe.next!==null,Zn=0,Ue=Fe=we=null,os=!1,e)throw Error(L(300));return t}function xu(){var t=zi!==0;return zi=0,t}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?we.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Ct(){if(Fe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=Ue===null?we.memoizedState:Ue.next;if(e!==null)Ue=e,Fe=t;else{if(t===null)throw Error(L(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ue===null?we.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function qi(t,e){return typeof e=="function"?e(t):e}function gl(t){var e=Ct(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Fe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=s=null,d=null,f=o;do{var m=f.lane;if((Zn&m)===m)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var p={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=p,s=r):d=d.next=p,we.lanes|=m,Qn|=m}f=f.next}while(f!==null&&f!==o);d===null?s=r:d.next=u,Rt(r,e.memoizedState)||(tt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,we.lanes|=o,Qn|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yl(t){var e=Ct(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Rt(o,e.memoizedState)||(tt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function op(){}function sp(t,e){var n=we,r=Ct(),i=e(),o=!Rt(r.memoizedState,i);if(o&&(r.memoizedState=i,tt=!0),r=r.queue,Cu(up.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Hi(9,ap.bind(null,n,r,i,e),void 0,null),$e===null)throw Error(L(349));Zn&30||lp(n,e,i)}return i}function lp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ap(t,e,n,r){e.value=n,e.getSnapshot=r,cp(e)&&dp(t)}function up(t,e,n){return n(function(){cp(e)&&dp(t)})}function cp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rt(t,n)}catch{return!0}}function dp(t){var e=Yt(t,1);e!==null&&Mt(e,t,1,-1)}function Pc(t){var e=Dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},e.queue=t,t=t.dispatch=By.bind(null,we,t),[e.memoizedState,t]}function Hi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fp(){return Ct().memoizedState}function bo(t,e,n,r){var i=Dt();we.flags|=t,i.memoizedState=Hi(1|e,n,void 0,r===void 0?null:r)}function ks(t,e,n,r){var i=Ct();r=r===void 0?null:r;var o=void 0;if(Fe!==null){var s=Fe.memoizedState;if(o=s.destroy,r!==null&&yu(r,s.deps)){i.memoizedState=Hi(e,n,o,r);return}}we.flags|=t,i.memoizedState=Hi(1|e,n,o,r)}function Rc(t,e){return bo(8390656,8,t,e)}function Cu(t,e){return ks(2048,8,t,e)}function mp(t,e){return ks(4,2,t,e)}function pp(t,e){return ks(4,4,t,e)}function hp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gp(t,e,n){return n=n!=null?n.concat([t]):null,ks(4,4,hp.bind(null,e,t),n)}function Tu(){}function yp(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vp(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xp(t,e,n){return Zn&21?(Rt(n,e)||(n=Nm(),we.lanes|=n,Qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tt=!0),t.memoizedState=n)}function $y(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=hl.transition;hl.transition={};try{t(!1),e()}finally{ae=n,hl.transition=r}}function Cp(){return Ct().memoizedState}function Oy(t,e,n){var r=yn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tp(t))wp(e,n);else if(n=np(t,e,n,r),n!==null){var i=Ke();Mt(n,t,r,i),_p(n,e,r)}}function By(t,e,n){var r=yn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tp(t))wp(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,n);if(i.hasEagerState=!0,i.eagerState=u,Rt(u,s)){var d=e.interleaved;d===null?(i.next=i,fu(e)):(i.next=d.next,d.next=i),e.interleaved=i;return}}catch{}finally{}n=np(t,e,i,r),n!==null&&(i=Ke(),Mt(n,t,r,i),_p(n,e,r))}}function Tp(t){var e=t.alternate;return t===we||e!==null&&e===we}function wp(t,e){Ni=os=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _p(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qa(t,n)}}var ss={readContext:xt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Gy={readContext:xt,useCallback:function(t,e){return Dt().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:Rc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bo(4194308,4,hp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bo(4194308,4,t,e)},useInsertionEffect:function(t,e){return bo(4,2,t,e)},useMemo:function(t,e){var n=Dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Oy.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=Dt();return t={current:t},e.memoizedState=t},useState:Pc,useDebugValue:Tu,useDeferredValue:function(t){return Dt().memoizedState=t},useTransition:function(){var t=Pc(!1),e=t[0];return t=$y.bind(null,t[1]),Dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,i=Dt();if(Ce){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),$e===null)throw Error(L(349));Zn&30||lp(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Rc(up.bind(null,r,o,t),[t]),r.flags|=2048,Hi(9,ap.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Dt(),e=$e.identifierPrefix;if(Ce){var n=qt,r=zt;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zy={readContext:xt,useCallback:yp,useContext:xt,useEffect:Cu,useImperativeHandle:gp,useInsertionEffect:mp,useLayoutEffect:pp,useMemo:vp,useReducer:gl,useRef:fp,useState:function(){return gl(qi)},useDebugValue:Tu,useDeferredValue:function(t){var e=Ct();return xp(e,Fe.memoizedState,t)},useTransition:function(){var t=gl(qi)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:op,useSyncExternalStore:sp,useId:Cp,unstable_isNewReconciler:!1},qy={readContext:xt,useCallback:yp,useContext:xt,useEffect:Cu,useImperativeHandle:gp,useInsertionEffect:mp,useLayoutEffect:pp,useMemo:vp,useReducer:yl,useRef:fp,useState:function(){return yl(qi)},useDebugValue:Tu,useDeferredValue:function(t){var e=Ct();return Fe===null?e.memoizedState=t:xp(e,Fe.memoizedState,t)},useTransition:function(){var t=yl(qi)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:op,useSyncExternalStore:sp,useId:Cp,unstable_isNewReconciler:!1};function Et(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ta(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ms={isMounted:function(t){return(t=t._reactInternals)?ir(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ke(),i=yn(t),o=Ht(r,i);o.payload=e,n!=null&&(o.callback=n),e=hn(t,o,i),e!==null&&(Mt(e,t,i,r),Po(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ke(),i=yn(t),o=Ht(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=hn(t,o,i),e!==null&&(Mt(e,t,i,r),Po(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),r=yn(t),i=Ht(n,r);i.tag=2,e!=null&&(i.callback=e),e=hn(t,i,r),e!==null&&(Mt(e,t,r,n),Po(e,t,r))}};function bc(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ui(n,r)||!Ui(i,o):!0}function Np(t,e,n){var r=!1,i=wn,o=e.contextType;return typeof o=="object"&&o!==null?o=xt(o):(i=rt(e)?Yn:We.current,r=e.contextTypes,o=(r=r!=null)?Rr(t,i):wn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ms,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Dc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ms.enqueueReplaceState(e,e.state,null)}function na(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mu(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=xt(o):(o=rt(e)?Yn:We.current,i.context=Rr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ta(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ms.enqueueReplaceState(i,i.state,null),rs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fr(t,e){try{var n="",r=e;do n+=xg(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function vl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ra(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hy=typeof WeakMap=="function"?WeakMap:Map;function Sp(t,e,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){as||(as=!0,ma=r),ra(t,e)},n}function Ep(t,e,n){n=Ht(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ra(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ra(t,e),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Lc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hy;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sv.bind(null,t,e,n),e.then(t,t))}function Fc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ht(-1,1),e.tag=2,hn(n,e,1))),n.lanes|=1),t)}var Wy=Qt.ReactCurrentOwner,tt=!1;function Je(t,e,n,r){e.child=t===null?tp(e,null,n,r):Dr(e,t.child,n,r)}function Uc(t,e,n,r,i){n=n.render;var o=e.ref;return Ir(e,i),r=vu(t,e,n,r,o,i),n=xu(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kt(t,e,i)):(Ce&&n&&su(e),e.flags|=1,Je(t,e,r,i),e.child)}function jc(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ku(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Ip(t,e,o,r,i)):(t=Vo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ui,n(s,r)&&t.ref===e.ref)return Kt(t,e,i)}return e.flags|=1,t=vn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Ip(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ui(o,r)&&t.ref===e.ref)if(tt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tt=!0);else return e.lanes=t.lanes,Kt(t,e,i)}return ia(t,e,n,r,i)}function Ap(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Tr,lt),lt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(Tr,lt),lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(Tr,lt),lt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,de(Tr,lt),lt|=r;return Je(t,e,i,n),e.child}function kp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ia(t,e,n,r,i){var o=rt(n)?Yn:We.current;return o=Rr(e,o),Ir(e,i),n=vu(t,e,n,r,o,i),r=xu(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kt(t,e,i)):(Ce&&r&&su(e),e.flags|=1,Je(t,e,n,i),e.child)}function $c(t,e,n,r,i){if(rt(n)){var o=!0;Qo(e)}else o=!1;if(Ir(e,i),e.stateNode===null)Do(t,e),Np(e,n,r),na(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,u=e.memoizedProps;s.props=u;var d=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=xt(f):(f=rt(n)?Yn:We.current,f=Rr(e,f));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||d!==f)&&Dc(e,s,r,f),rn=!1;var h=e.memoizedState;s.state=h,rs(e,r,s,i),d=e.memoizedState,u!==r||h!==d||nt.current||rn?(typeof m=="function"&&(ta(e,n,m,r),d=e.memoizedState),(u=rn||bc(e,n,u,r,h,d,f))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=f,r=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,rp(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:Et(e.type,u),s.props=f,p=e.pendingProps,h=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=xt(d):(d=rt(n)?Yn:We.current,d=Rr(e,d));var g=n.getDerivedStateFromProps;(m=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==p||h!==d)&&Dc(e,s,r,d),rn=!1,h=e.memoizedState,s.state=h,rs(e,r,s,i);var y=e.memoizedState;u!==p||h!==y||nt.current||rn?(typeof g=="function"&&(ta(e,n,g,r),y=e.memoizedState),(f=rn||bc(e,n,f,r,h,y,d)||!1)?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,d)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=d,r=f):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return oa(t,e,n,r,o,i)}function oa(t,e,n,r,i,o){kp(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Sc(e,n,!1),Kt(t,e,o);r=e.stateNode,Wy.current=e;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Dr(e,t.child,null,o),e.child=Dr(e,null,u,o)):Je(t,e,u,o),e.memoizedState=r.state,i&&Sc(e,n,!0),e.child}function Mp(t){var e=t.stateNode;e.pendingContext?Nc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nc(t,e.context,!1),pu(t,e.containerInfo)}function Oc(t,e,n,r,i){return br(),au(i),e.flags|=256,Je(t,e,n,r),e.child}var sa={dehydrated:null,treeContext:null,retryLane:0};function la(t){return{baseLanes:t,cachePool:null,transitions:null}}function Pp(t,e,n){var r=e.pendingProps,i=Te.current,o=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),de(Te,i&1),t===null)return Xl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=bs(s,r,0,null),t=Jn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=la(n),e.memoizedState=sa,t):wu(e,s));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Jy(t,e,s,r,u,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,u=i.sibling;var d={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=vn(i,d),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=vn(u,o):(o=Jn(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?la(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=sa,r}return o=t.child,t=o.sibling,r=vn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wu(t,e){return e=bs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Co(t,e,n,r){return r!==null&&au(r),Dr(e,t.child,null,n),t=wu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jy(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=vl(Error(L(422))),Co(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=bs({mode:"visible",children:r.children},i,0,null),o=Jn(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Dr(e,t.child,null,s),e.child.memoizedState=la(s),e.memoizedState=sa,o);if(!(e.mode&1))return Co(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(L(419)),r=vl(o,r,void 0),Co(t,e,s,r)}if(u=(s&t.childLanes)!==0,tt||u){if(r=$e,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Yt(t,i),Mt(r,t,i,-1))}return Au(),r=vl(Error(L(421))),Co(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lv.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,at=pn(i.nextSibling),ut=e,Ce=!0,At=null,t!==null&&(mt[pt++]=zt,mt[pt++]=qt,mt[pt++]=Kn,zt=t.id,qt=t.overflow,Kn=e),e=wu(e,r.children),e.flags|=4096,e)}function Bc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ea(t.return,e,n)}function xl(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Rp(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Je(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bc(t,n,e);else if(t.tag===19)Bc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&is(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xl(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&is(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xl(e,!0,n,null,o);break;case"together":xl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Do(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=vn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yy(t,e,n){switch(e.tag){case 3:Mp(e),br();break;case 5:ip(e);break;case 1:rt(e.type)&&Qo(e);break;case 4:pu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;de(ts,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?Pp(t,e,n):(de(Te,Te.current&1),t=Kt(t,e,n),t!==null?t.sibling:null);de(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Rp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,Ap(t,e,n)}return Kt(t,e,n)}var bp,aa,Dp,Lp;bp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aa=function(){};Dp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hn(jt.current);var o=null;switch(n){case"input":i=Ml(t,i),r=Ml(t,r),o=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),o=[];break;case"textarea":i=bl(t,i),r=bl(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ko)}Ll(n,r);var s;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Pi.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var d=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(s in u)!u.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&u[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(o||(o=[]),o.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(o=o||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&pe("scroll",t),o||u===d||(o=[])):(o=o||[]).push(f,d))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};Lp=function(t,e,n,r){n!==r&&(e.flags|=4)};function si(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ky(t,e,n){var r=e.pendingProps;switch(lu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return rt(e.type)&&Zo(),qe(e),null;case 3:return r=e.stateNode,Lr(),ve(nt),ve(We),gu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,At!==null&&(ga(At),At=null))),aa(t,e),qe(e),null;case 5:hu(e);var i=Hn(Gi.current);if(n=e.type,t!==null&&e.stateNode!=null)Dp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return qe(e),null}if(t=Hn(jt.current),vo(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Lt]=e,r[Oi]=o,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<gi.length;i++)pe(gi[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Zu(r,o),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},pe("invalid",r);break;case"textarea":Xu(r,o),pe("invalid",r)}Ll(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&yo(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&yo(r.textContent,u,t),i=["children",""+u]):Pi.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&pe("scroll",r)}switch(n){case"input":ao(r),Qu(r,o,!0);break;case"textarea":ao(r),ec(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ko)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=um(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Lt]=e,t[Oi]=r,bp(t,e,!1,!1),e.stateNode=t;e:{switch(s=Fl(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<gi.length;i++)pe(gi[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Zu(t,r),i=Ml(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Xu(t,r),i=bl(t,r),pe("invalid",t);break;default:i=r}Ll(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var d=u[o];o==="style"?fm(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&cm(t,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ri(t,d):typeof d=="number"&&Ri(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pi.hasOwnProperty(o)?d!=null&&o==="onScroll"&&pe("scroll",t):d!=null&&Ha(t,o,d,s))}switch(n){case"input":ao(t),Qu(t,r,!1);break;case"textarea":ao(t),ec(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?_r(t,!!r.multiple,o,!1):r.defaultValue!=null&&_r(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ko)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)Lp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=Hn(Gi.current),Hn(jt.current),vo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lt]=e,(o=r.nodeValue!==n)&&(t=ut,t!==null))switch(t.tag){case 3:yo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yo(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=e,e.stateNode=r}return qe(e),null;case 13:if(ve(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&at!==null&&e.mode&1&&!(e.flags&128))Xm(),br(),e.flags|=98560,o=!1;else if(o=vo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(L(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Lt]=e}else br(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),o=!1}else At!==null&&(ga(At),At=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ve===0&&(Ve=3):Au())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return Lr(),aa(t,e),t===null&&ji(e.stateNode.containerInfo),qe(e),null;case 10:return du(e.type._context),qe(e),null;case 17:return rt(e.type)&&Zo(),qe(e),null;case 19:if(ve(Te),o=e.memoizedState,o===null)return qe(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)si(o,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=is(t),s!==null){for(e.flags|=128,si(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(Te,Te.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ee()>Vr&&(e.flags|=128,r=!0,si(o,!1),e.lanes=4194304)}else{if(!r)if(t=is(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),si(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return qe(e),null}else 2*Ee()-o.renderingStartTime>Vr&&n!==1073741824&&(e.flags|=128,r=!0,si(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ee(),e.sibling=null,n=Te.current,de(Te,r?n&1|2:n&1),e):(qe(e),null);case 22:case 23:return Iu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lt&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function Zy(t,e){switch(lu(e),e.tag){case 1:return rt(e.type)&&Zo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lr(),ve(nt),ve(We),gu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hu(e),null;case 13:if(ve(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));br()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Te),null;case 4:return Lr(),null;case 10:return du(e.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var To=!1,He=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,O=null;function Cr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function ua(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var Gc=!1;function Xy(t,e){if(Hl=Wo,t=$m(),ou(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,d=-1,f=0,m=0,p=t,h=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(u=s+i),p!==o||r!==0&&p.nodeType!==3||(d=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)h=p,p=g;for(;;){if(p===t)break t;if(h===n&&++f===i&&(u=s),h===o&&++m===r&&(d=s),(g=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=g}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wl={focusedElem:t,selectionRange:n},Wo=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,C=e.stateNode,T=C.getSnapshotBeforeUpdate(e.elementType===e.type?x:Et(e.type,x),S);C.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(I){Ne(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return y=Gc,Gc=!1,y}function Si(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ua(e,n,o)}i=i.next}while(i!==r)}}function Ps(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ca(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fp(t){var e=t.alternate;e!==null&&(t.alternate=null,Fp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lt],delete e[Oi],delete e[Kl],delete e[Ly],delete e[Fy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vp(t){return t.tag===5||t.tag===3||t.tag===4}function zc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function da(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ko));else if(r!==4&&(t=t.child,t!==null))for(da(t,e,n),t=t.sibling;t!==null;)da(t,e,n),t=t.sibling}function fa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fa(t,e,n),t=t.sibling;t!==null;)fa(t,e,n),t=t.sibling}var Oe=null,It=!1;function tn(t,e,n){for(n=n.child;n!==null;)Up(t,e,n),n=n.sibling}function Up(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(_s,n)}catch{}switch(n.tag){case 5:He||Cr(n,e);case 6:var r=Oe,i=It;Oe=null,tn(t,e,n),Oe=r,It=i,Oe!==null&&(It?(t=Oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(It?(t=Oe,n=n.stateNode,t.nodeType===8?fl(t.parentNode,n):t.nodeType===1&&fl(t,n),Fi(t)):fl(Oe,n.stateNode));break;case 4:r=Oe,i=It,Oe=n.stateNode.containerInfo,It=!0,tn(t,e,n),Oe=r,It=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ua(n,e,s),i=i.next}while(i!==r)}tn(t,e,n);break;case 1:if(!He&&(Cr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ne(n,e,u)}tn(t,e,n);break;case 21:tn(t,e,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,tn(t,e,n),He=r):tn(t,e,n);break;default:tn(t,e,n)}}function qc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qy),e.forEach(function(r){var i=av.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function St(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 5:Oe=u.stateNode,It=!1;break e;case 3:Oe=u.stateNode.containerInfo,It=!0;break e;case 4:Oe=u.stateNode.containerInfo,It=!0;break e}u=u.return}if(Oe===null)throw Error(L(160));Up(o,s,i),Oe=null,It=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){Ne(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jp(e,t),e=e.sibling}function jp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(St(e,t),bt(t),r&4){try{Si(3,t,t.return),Ps(3,t)}catch(x){Ne(t,t.return,x)}try{Si(5,t,t.return)}catch(x){Ne(t,t.return,x)}}break;case 1:St(e,t),bt(t),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(St(e,t),bt(t),r&512&&n!==null&&Cr(n,n.return),t.flags&32){var i=t.stateNode;try{Ri(i,"")}catch(x){Ne(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&lm(i,o),Fl(u,s);var f=Fl(u,o);for(s=0;s<d.length;s+=2){var m=d[s],p=d[s+1];m==="style"?fm(i,p):m==="dangerouslySetInnerHTML"?cm(i,p):m==="children"?Ri(i,p):Ha(i,m,p,f)}switch(u){case"input":Pl(i,o);break;case"textarea":am(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?_r(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?_r(i,!!o.multiple,o.defaultValue,!0):_r(i,!!o.multiple,o.multiple?[]:"",!1))}i[Oi]=o}catch(x){Ne(t,t.return,x)}}break;case 6:if(St(e,t),bt(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){Ne(t,t.return,x)}}break;case 3:if(St(e,t),bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fi(e.containerInfo)}catch(x){Ne(t,t.return,x)}break;case 4:St(e,t),bt(t);break;case 13:St(e,t),bt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Su=Ee())),r&4&&qc(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(He=(f=He)||m,St(e,t),He=f):St(e,t),bt(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(O=t,m=t.child;m!==null;){for(p=O=m;O!==null;){switch(h=O,g=h.child,h.tag){case 0:case 11:case 14:case 15:Si(4,h,h.return);break;case 1:Cr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Ne(r,n,x)}}break;case 5:Cr(h,h.return);break;case 22:if(h.memoizedState!==null){Wc(p);continue}}g!==null?(g.return=h,O=g):Wc(p)}m=m.sibling}e:for(m=null,p=t;;){if(p.tag===5){if(m===null){m=p;try{i=p.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=p.stateNode,d=p.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=dm("display",s))}catch(x){Ne(t,t.return,x)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(x){Ne(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:St(e,t),bt(t),r&4&&qc(t);break;case 21:break;default:St(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vp(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ri(i,""),r.flags&=-33);var o=zc(t);fa(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,u=zc(t);da(t,u,s);break;default:throw Error(L(161))}}catch(d){Ne(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ev(t,e,n){O=t,$p(t)}function $p(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||To;if(!s){var u=i.alternate,d=u!==null&&u.memoizedState!==null||He;u=To;var f=He;if(To=s,(He=d)&&!f)for(O=i;O!==null;)s=O,d=s.child,s.tag===22&&s.memoizedState!==null?Jc(i):d!==null?(d.return=s,O=d):Jc(i);for(;o!==null;)O=o,$p(o),o=o.sibling;O=i,To=u,He=f}Hc(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,O=o):Hc(t)}}function Hc(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||Ps(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Et(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Mc(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mc(e,s,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&Fi(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}He||e.flags&512&&ca(e)}catch(h){Ne(e,e.return,h)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function Wc(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Jc(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ps(4,e)}catch(d){Ne(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(d){Ne(e,i,d)}}var o=e.return;try{ca(e)}catch(d){Ne(e,o,d)}break;case 5:var s=e.return;try{ca(e)}catch(d){Ne(e,s,d)}}}catch(d){Ne(e,e.return,d)}if(e===t){O=null;break}var u=e.sibling;if(u!==null){u.return=e.return,O=u;break}O=e.return}}var tv=Math.ceil,ls=Qt.ReactCurrentDispatcher,_u=Qt.ReactCurrentOwner,gt=Qt.ReactCurrentBatchConfig,oe=0,$e=null,be=null,Be=0,lt=0,Tr=Sn(0),Ve=0,Wi=null,Qn=0,Rs=0,Nu=0,Ei=null,et=null,Su=0,Vr=1/0,Bt=null,as=!1,ma=null,gn=null,wo=!1,un=null,us=0,Ii=0,pa=null,Lo=-1,Fo=0;function Ke(){return oe&6?Ee():Lo!==-1?Lo:Lo=Ee()}function yn(t){return t.mode&1?oe&2&&Be!==0?Be&-Be:Uy.transition!==null?(Fo===0&&(Fo=Nm()),Fo):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Pm(t.type)),t):1}function Mt(t,e,n,r){if(50<Ii)throw Ii=0,pa=null,Error(L(185));eo(t,n,r),(!(oe&2)||t!==$e)&&(t===$e&&(!(oe&2)&&(Rs|=n),Ve===4&&ln(t,Be)),it(t,r),n===1&&oe===0&&!(e.mode&1)&&(Vr=Ee()+500,As&&En()))}function it(t,e){var n=t.callbackNode;Ug(t,e);var r=Ho(t,t===$e?Be:0);if(r===0)n!==null&&rc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rc(n),e===1)t.tag===0?Vy(Yc.bind(null,t)):Km(Yc.bind(null,t)),by(function(){!(oe&6)&&En()}),n=null;else{switch(Sm(r)){case 1:n=Za;break;case 4:n=wm;break;case 16:n=qo;break;case 536870912:n=_m;break;default:n=qo}n=Jp(n,Op.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Op(t,e){if(Lo=-1,Fo=0,oe&6)throw Error(L(327));var n=t.callbackNode;if(Ar()&&t.callbackNode!==n)return null;var r=Ho(t,t===$e?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cs(t,r);else{e=r;var i=oe;oe|=2;var o=Gp();($e!==t||Be!==e)&&(Bt=null,Vr=Ee()+500,Wn(t,e));do try{iv();break}catch(u){Bp(t,u)}while(!0);cu(),ls.current=o,oe=i,be!==null?e=0:($e=null,Be=0,e=Ve)}if(e!==0){if(e===2&&(i=Ol(t),i!==0&&(r=i,e=ha(t,i))),e===1)throw n=Wi,Wn(t,0),ln(t,r),it(t,Ee()),n;if(e===6)ln(t,r);else{if(i=t.current.alternate,!(r&30)&&!nv(i)&&(e=cs(t,r),e===2&&(o=Ol(t),o!==0&&(r=o,e=ha(t,o))),e===1))throw n=Wi,Wn(t,0),ln(t,r),it(t,Ee()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:On(t,et,Bt);break;case 3:if(ln(t,r),(r&130023424)===r&&(e=Su+500-Ee(),10<e)){if(Ho(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yl(On.bind(null,t,et,Bt),e);break}On(t,et,Bt);break;case 4:if(ln(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-kt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tv(r/1960))-r,10<r){t.timeoutHandle=Yl(On.bind(null,t,et,Bt),r);break}On(t,et,Bt);break;case 5:On(t,et,Bt);break;default:throw Error(L(329))}}}return it(t,Ee()),t.callbackNode===n?Op.bind(null,t):null}function ha(t,e){var n=Ei;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=cs(t,e),t!==2&&(e=et,et=n,e!==null&&ga(e)),t}function ga(t){et===null?et=t:et.push.apply(et,t)}function nv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Rt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ln(t,e){for(e&=~Nu,e&=~Rs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),r=1<<n;t[n]=-1,e&=~r}}function Yc(t){if(oe&6)throw Error(L(327));Ar();var e=Ho(t,0);if(!(e&1))return it(t,Ee()),null;var n=cs(t,e);if(t.tag!==0&&n===2){var r=Ol(t);r!==0&&(e=r,n=ha(t,r))}if(n===1)throw n=Wi,Wn(t,0),ln(t,e),it(t,Ee()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,On(t,et,Bt),it(t,Ee()),null}function Eu(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(Vr=Ee()+500,As&&En())}}function Xn(t){un!==null&&un.tag===0&&!(oe&6)&&Ar();var e=oe;oe|=1;var n=gt.transition,r=ae;try{if(gt.transition=null,ae=1,t)return t()}finally{ae=r,gt.transition=n,oe=e,!(oe&6)&&En()}}function Iu(){lt=Tr.current,ve(Tr)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ry(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zo();break;case 3:Lr(),ve(nt),ve(We),gu();break;case 5:hu(r);break;case 4:Lr();break;case 13:ve(Te);break;case 19:ve(Te);break;case 10:du(r.type._context);break;case 22:case 23:Iu()}n=n.return}if($e=t,be=t=vn(t.current,null),Be=lt=e,Ve=0,Wi=null,Nu=Rs=Qn=0,et=Ei=null,qn!==null){for(e=0;e<qn.length;e++)if(n=qn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}qn=null}return t}function Bp(t,e){do{var n=be;try{if(cu(),Ro.current=ss,os){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}os=!1}if(Zn=0,Ue=Fe=we=null,Ni=!1,zi=0,_u.current=null,n===null||n.return===null){Ve=1,Wi=e,be=null;break}e:{var o=t,s=n.return,u=n,d=e;if(e=Be,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,m=u,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var g=Fc(s);if(g!==null){g.flags&=-257,Vc(g,s,u,o,e),g.mode&1&&Lc(o,f,e),e=g,d=f;var y=e.updateQueue;if(y===null){var x=new Set;x.add(d),e.updateQueue=x}else y.add(d);break e}else{if(!(e&1)){Lc(o,f,e),Au();break e}d=Error(L(426))}}else if(Ce&&u.mode&1){var S=Fc(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Vc(S,s,u,o,e),au(Fr(d,u));break e}}o=d=Fr(d,u),Ve!==4&&(Ve=2),Ei===null?Ei=[o]:Ei.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var C=Sp(o,d,e);kc(o,C);break e;case 1:u=d;var T=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(gn===null||!gn.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=Ep(o,u,e);kc(o,I);break e}}o=o.return}while(o!==null)}qp(n)}catch(R){e=R,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function Gp(){var t=ls.current;return ls.current=ss,t===null?ss:t}function Au(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),$e===null||!(Qn&268435455)&&!(Rs&268435455)||ln($e,Be)}function cs(t,e){var n=oe;oe|=2;var r=Gp();($e!==t||Be!==e)&&(Bt=null,Wn(t,e));do try{rv();break}catch(i){Bp(t,i)}while(!0);if(cu(),oe=n,ls.current=r,be!==null)throw Error(L(261));return $e=null,Be=0,Ve}function rv(){for(;be!==null;)zp(be)}function iv(){for(;be!==null&&!kg();)zp(be)}function zp(t){var e=Wp(t.alternate,t,lt);t.memoizedProps=t.pendingProps,e===null?qp(t):be=e,_u.current=null}function qp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Zy(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,be=null;return}}else if(n=Ky(n,e,lt),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);Ve===0&&(Ve=5)}function On(t,e,n){var r=ae,i=gt.transition;try{gt.transition=null,ae=1,ov(t,e,n,r)}finally{gt.transition=i,ae=r}return null}function ov(t,e,n,r){do Ar();while(un!==null);if(oe&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jg(t,o),t===$e&&(be=$e=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wo||(wo=!0,Jp(qo,function(){return Ar(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=gt.transition,gt.transition=null;var s=ae;ae=1;var u=oe;oe|=4,_u.current=null,Xy(t,n),jp(n,t),Sy(Wl),Wo=!!Hl,Wl=Hl=null,t.current=n,ev(n),Mg(),oe=u,ae=s,gt.transition=o}else t.current=n;if(wo&&(wo=!1,un=t,us=i),o=t.pendingLanes,o===0&&(gn=null),bg(n.stateNode),it(t,Ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(as)throw as=!1,t=ma,ma=null,t;return us&1&&t.tag!==0&&Ar(),o=t.pendingLanes,o&1?t===pa?Ii++:(Ii=0,pa=t):Ii=0,En(),null}function Ar(){if(un!==null){var t=Sm(us),e=gt.transition,n=ae;try{if(gt.transition=null,ae=16>t?16:t,un===null)var r=!1;else{if(t=un,un=null,us=0,oe&6)throw Error(L(331));var i=oe;for(oe|=4,O=t.current;O!==null;){var o=O,s=o.child;if(O.flags&16){var u=o.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(O=f;O!==null;){var m=O;switch(m.tag){case 0:case 11:case 15:Si(8,m,o)}var p=m.child;if(p!==null)p.return=m,O=p;else for(;O!==null;){m=O;var h=m.sibling,g=m.return;if(Fp(m),m===f){O=null;break}if(h!==null){h.return=g,O=h;break}O=g}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}O=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,O=s;else e:for(;O!==null;){if(o=O,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Si(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,O=C;break e}O=o.return}}var T=t.current;for(O=T;O!==null;){s=O;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,O=v;else e:for(s=T;O!==null;){if(u=O,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ps(9,u)}}catch(R){Ne(u,u.return,R)}if(u===s){O=null;break e}var I=u.sibling;if(I!==null){I.return=u.return,O=I;break e}O=u.return}}if(oe=i,En(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(_s,t)}catch{}r=!0}return r}finally{ae=n,gt.transition=e}}return!1}function Kc(t,e,n){e=Fr(n,e),e=Sp(t,e,1),t=hn(t,e,1),e=Ke(),t!==null&&(eo(t,1,e),it(t,e))}function Ne(t,e,n){if(t.tag===3)Kc(t,t,n);else for(;e!==null;){if(e.tag===3){Kc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){t=Fr(n,t),t=Ep(e,t,1),e=hn(e,t,1),t=Ke(),e!==null&&(eo(e,1,t),it(e,t));break}}e=e.return}}function sv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(Be&n)===n&&(Ve===4||Ve===3&&(Be&130023424)===Be&&500>Ee()-Su?Wn(t,0):Nu|=n),it(t,e)}function Hp(t,e){e===0&&(t.mode&1?(e=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):e=1);var n=Ke();t=Yt(t,e),t!==null&&(eo(t,e,n),it(t,n))}function lv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Hp(t,n)}function av(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),Hp(t,n)}var Wp;Wp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tt=!1,Yy(t,e,n);tt=!!(t.flags&131072)}else tt=!1,Ce&&e.flags&1048576&&Zm(e,es,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Do(t,e),t=e.pendingProps;var i=Rr(e,We.current);Ir(e,n),i=vu(null,e,r,t,i,n);var o=xu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(o=!0,Qo(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mu(e),i.updater=Ms,e.stateNode=i,i._reactInternals=e,na(e,r,t,n),e=oa(null,e,r,!0,o,n)):(e.tag=0,Ce&&o&&su(e),Je(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Do(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cv(r),t=Et(r,t),i){case 0:e=ia(null,e,r,t,n);break e;case 1:e=$c(null,e,r,t,n);break e;case 11:e=Uc(null,e,r,t,n);break e;case 14:e=jc(null,e,r,Et(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Et(r,i),ia(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Et(r,i),$c(t,e,r,i,n);case 3:e:{if(Mp(e),t===null)throw Error(L(387));r=e.pendingProps,o=e.memoizedState,i=o.element,rp(t,e),rs(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Fr(Error(L(423)),e),e=Oc(t,e,r,n,i);break e}else if(r!==i){i=Fr(Error(L(424)),e),e=Oc(t,e,r,n,i);break e}else for(at=pn(e.stateNode.containerInfo.firstChild),ut=e,Ce=!0,At=null,n=tp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===i){e=Kt(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return ip(e),t===null&&Xl(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Jl(r,i)?s=null:o!==null&&Jl(r,o)&&(e.flags|=32),kp(t,e),Je(t,e,s,n),e.child;case 6:return t===null&&Xl(e),null;case 13:return Pp(t,e,n);case 4:return pu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dr(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Et(r,i),Uc(t,e,r,i,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,de(ts,r._currentValue),r._currentValue=s,o!==null)if(Rt(o.value,s)){if(o.children===i.children&&!nt.current){e=Kt(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=Ht(-1,n&-n),d.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?d.next=d:(d.next=m.next,m.next=d),f.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),ea(o.return,n,e),u.lanes|=n;break}d=d.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(L(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ea(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Je(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ir(e,n),i=xt(i),r=r(i),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,i=Et(r,e.pendingProps),i=Et(r.type,i),jc(t,e,r,i,n);case 15:return Ip(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Et(r,i),Do(t,e),e.tag=1,rt(r)?(t=!0,Qo(e)):t=!1,Ir(e,n),Np(e,r,i),na(e,r,i,n),oa(null,e,r,!0,t,n);case 19:return Rp(t,e,n);case 22:return Ap(t,e,n)}throw Error(L(156,e.tag))};function Jp(t,e){return Tm(t,e)}function uv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(t,e,n,r){return new uv(t,e,n,r)}function ku(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cv(t){if(typeof t=="function")return ku(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ja)return 11;if(t===Ya)return 14}return 2}function vn(t,e){var n=t.alternate;return n===null?(n=ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vo(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ku(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case dr:return Jn(n.children,i,o,e);case Wa:s=8,i|=8;break;case El:return t=ht(12,n,e,i|2),t.elementType=El,t.lanes=o,t;case Il:return t=ht(13,n,e,i),t.elementType=Il,t.lanes=o,t;case Al:return t=ht(19,n,e,i),t.elementType=Al,t.lanes=o,t;case im:return bs(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nm:s=10;break e;case rm:s=9;break e;case Ja:s=11;break e;case Ya:s=14;break e;case nn:s=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=ht(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Jn(t,e,n,r){return t=ht(7,t,r,e),t.lanes=n,t}function bs(t,e,n,r){return t=ht(22,t,r,e),t.elementType=im,t.lanes=n,t.stateNode={isHidden:!1},t}function Cl(t,e,n){return t=ht(6,t,null,e),t.lanes=n,t}function Tl(t,e,n){return e=ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mu(t,e,n,r,i,o,s,u,d){return t=new dv(t,e,n,u,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ht(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(o),t}function fv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Yp(t){if(!t)return wn;t=t._reactInternals;e:{if(ir(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(rt(n))return Ym(t,n,e)}return e}function Kp(t,e,n,r,i,o,s,u,d){return t=Mu(n,r,!0,t,i,o,s,u,d),t.context=Yp(null),n=t.current,r=Ke(),i=yn(n),o=Ht(r,i),o.callback=e??null,hn(n,o,i),t.current.lanes=i,eo(t,i,r),it(t,r),t}function Ds(t,e,n,r){var i=e.current,o=Ke(),s=yn(i);return n=Yp(n),e.context===null?e.context=n:e.pendingContext=n,e=Ht(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hn(i,e,s),t!==null&&(Mt(t,i,s,o),Po(t,i,s)),s}function ds(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pu(t,e){Zc(t,e),(t=t.alternate)&&Zc(t,e)}function mv(){return null}var Zp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ru(t){this._internalRoot=t}Ls.prototype.render=Ru.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Ds(t,e,null,null)};Ls.prototype.unmount=Ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xn(function(){Ds(null,t,null,null)}),e[Jt]=null}};function Ls(t){this._internalRoot=t}Ls.prototype.unstable_scheduleHydration=function(t){if(t){var e=Am();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sn.length&&e!==0&&e<sn[n].priority;n++);sn.splice(n,0,t),n===0&&Mm(t)}};function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qc(){}function pv(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=ds(s);o.call(f)}}var s=Kp(e,r,t,0,null,!1,!1,"",Qc);return t._reactRootContainer=s,t[Jt]=s.current,ji(t.nodeType===8?t.parentNode:t),Xn(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=ds(d);u.call(f)}}var d=Mu(t,0,!1,null,null,!1,!1,"",Qc);return t._reactRootContainer=d,t[Jt]=d.current,ji(t.nodeType===8?t.parentNode:t),Xn(function(){Ds(e,d,n,r)}),d}function Vs(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var u=i;i=function(){var d=ds(s);u.call(d)}}Ds(e,s,t,i)}else s=pv(n,e,t,i,r);return ds(s)}Em=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hi(e.pendingLanes);n!==0&&(Qa(e,n|1),it(e,Ee()),!(oe&6)&&(Vr=Ee()+500,En()))}break;case 13:Xn(function(){var r=Yt(t,1);if(r!==null){var i=Ke();Mt(r,t,1,i)}}),Pu(t,1)}};Xa=function(t){if(t.tag===13){var e=Yt(t,134217728);if(e!==null){var n=Ke();Mt(e,t,134217728,n)}Pu(t,134217728)}};Im=function(t){if(t.tag===13){var e=yn(t),n=Yt(t,e);if(n!==null){var r=Ke();Mt(n,t,e,r)}Pu(t,e)}};Am=function(){return ae};km=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Ul=function(t,e,n){switch(e){case"input":if(Pl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Is(r);if(!i)throw Error(L(90));sm(r),Pl(r,i)}}}break;case"textarea":am(t,n);break;case"select":e=n.value,e!=null&&_r(t,!!n.multiple,e,!1)}};hm=Eu;gm=Xn;var hv={usingClientEntryPoint:!1,Events:[no,hr,Is,mm,pm,Eu]},li={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gv={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xm(t),t===null?null:t.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||mv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{_s=_o.inject(gv),Ut=_o}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hv;dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(e))throw Error(L(200));return fv(t,e,null,n)};dt.createRoot=function(t,e){if(!bu(t))throw Error(L(299));var n=!1,r="",i=Zp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mu(t,1,!1,null,null,n,!1,r,i),t[Jt]=e.current,ji(t.nodeType===8?t.parentNode:t),new Ru(e)};dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=xm(e),t=t===null?null:t.stateNode,t};dt.flushSync=function(t){return Xn(t)};dt.hydrate=function(t,e,n){if(!Fs(e))throw Error(L(200));return Vs(null,t,e,!0,n)};dt.hydrateRoot=function(t,e,n){if(!bu(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Zp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Kp(e,null,t,1,n??null,i,!1,o,s),t[Jt]=e.current,ji(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ls(e)};dt.render=function(t,e,n){if(!Fs(e))throw Error(L(200));return Vs(null,t,e,!1,n)};dt.unmountComponentAtNode=function(t){if(!Fs(t))throw Error(L(40));return t._reactRootContainer?(Xn(function(){Vs(null,null,t,!1,function(){t._reactRootContainer=null,t[Jt]=null})}),!0):!1};dt.unstable_batchedUpdates=Eu;dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fs(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Vs(t,e,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function Qp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qp)}catch(t){console.error(t)}}Qp(),Qf.exports=dt;var yv=Qf.exports,Xc=yv;Oo.createRoot=Xc.createRoot,Oo.hydrateRoot=Xc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ji.apply(this,arguments)}var cn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cn||(cn={}));const ed="popstate";function vv(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:u="",hash:d=""}=or(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ya("",{pathname:s,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof o=="string"?o:fs(o))}function r(i,o){Du(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Cv(e,n,r,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Du(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xv(){return Math.random().toString(36).substr(2,8)}function td(t,e){return{usr:t.state,key:t.key,idx:e}}function ya(t,e,n,r){return n===void 0&&(n=null),Ji({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?or(e):e,{state:n,key:e&&e.key||r||xv()})}function fs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function or(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Cv(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u=cn.Pop,d=null,f=m();f==null&&(f=0,s.replaceState(Ji({},s.state,{idx:f}),""));function m(){return(s.state||{idx:null}).idx}function p(){u=cn.Pop;let S=m(),C=S==null?null:S-f;f=S,d&&d({action:u,location:x.location,delta:C})}function h(S,C){u=cn.Push;let T=ya(x.location,S,C);n&&n(T,S),f=m()+1;let v=td(T,f),I=x.createHref(T);try{s.pushState(v,"",I)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(I)}o&&d&&d({action:u,location:x.location,delta:1})}function g(S,C){u=cn.Replace;let T=ya(x.location,S,C);n&&n(T,S),f=m();let v=td(T,f),I=x.createHref(T);s.replaceState(v,"",I),o&&d&&d({action:u,location:x.location,delta:0})}function y(S){let C=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof S=="string"?S:fs(S);return T=T.replace(/ $/,"%20"),Ie(C,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,C)}let x={get action(){return u},get location(){return t(i,s)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(ed,p),d=S,()=>{i.removeEventListener(ed,p),d=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let C=y(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:h,replace:g,go(S){return s.go(S)}};return x}var nd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nd||(nd={}));function Tv(t,e,n){return n===void 0&&(n="/"),wv(t,e,n)}function wv(t,e,n,r){let i=typeof e=="string"?or(e):e,o=Lu(i.pathname||"/",n);if(o==null)return null;let s=Xp(t);_v(s);let u=null;for(let d=0;u==null&&d<s.length;++d){let f=Lv(o);u=Rv(s[d],f)}return u}function Xp(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};d.relativePath.startsWith("/")&&(Ie(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=xn([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(Ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Xp(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Mv(f,o.index),routesMeta:m})};return t.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,s);else for(let d of eh(o.path))i(o,s,d)}),e}function eh(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=eh(r.join("/")),u=[];return u.push(...s.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...s),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function _v(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Pv(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nv=/^:[\w-]+$/,Sv=3,Ev=2,Iv=1,Av=10,kv=-2,rd=t=>t==="*";function Mv(t,e){let n=t.split("/"),r=n.length;return n.some(rd)&&(r+=kv),e&&(r+=Ev),n.filter(i=>!rd(i)).reduce((i,o)=>i+(Nv.test(o)?Sv:o===""?Iv:Av),r)}function Pv(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Rv(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",p=bv({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),h=d.route;if(!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:xn([o,p.pathname]),pathnameBase:jv(xn([o,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(o=xn([o,p.pathnameBase]))}return s}function bv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Dv(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,m,p)=>{let{paramName:h,isOptional:g}=m;if(h==="*"){let x=u[p]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const y=u[p];return g&&!y?f[h]=void 0:f[h]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:s,pattern:t}}function Dv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Du(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Lv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Du(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Fv(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?or(t):t;return{pathname:n?n.startsWith("/")?n:Vv(n,e):e,search:$v(r),hash:Ov(i)}}function Vv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fu(t,e){let n=Uv(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vu(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=or(t):(i=Ji({},t),Ie(!i.pathname||!i.pathname.includes("?"),wl("?","pathname","search",i)),Ie(!i.pathname||!i.pathname.includes("#"),wl("#","pathname","hash",i)),Ie(!i.search||!i.search.includes("#"),wl("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,u;if(s==null)u=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),p-=1;i.pathname=h.join("/")}u=p>=0?e[p]:"/"}let d=Fv(i,u),f=s&&s!=="/"&&s.endsWith("/"),m=(o||s===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const xn=t=>t.join("/").replace(/\/\/+/g,"/"),jv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$v=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ov=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Bv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const th=["post","put","patch","delete"];new Set(th);const Gv=["get",...th];new Set(Gv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(){return Yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yi.apply(this,arguments)}const Uu=w.createContext(null),zv=w.createContext(null),In=w.createContext(null),Us=w.createContext(null),An=w.createContext({outlet:null,matches:[],isDataRoute:!1}),nh=w.createContext(null);function qv(t,e){let{relative:n}=e===void 0?{}:e;Yr()||Ie(!1);let{basename:r,navigator:i}=w.useContext(In),{hash:o,pathname:s,search:u}=ih(t,{relative:n}),d=s;return r!=="/"&&(d=s==="/"?r:xn([r,s])),i.createHref({pathname:d,search:u,hash:o})}function Yr(){return w.useContext(Us)!=null}function sr(){return Yr()||Ie(!1),w.useContext(Us).location}function rh(t){w.useContext(In).static||w.useLayoutEffect(t)}function kn(){let{isDataRoute:t}=w.useContext(An);return t?ix():Hv()}function Hv(){Yr()||Ie(!1);let t=w.useContext(Uu),{basename:e,future:n,navigator:r}=w.useContext(In),{matches:i}=w.useContext(An),{pathname:o}=sr(),s=JSON.stringify(Fu(i,n.v7_relativeSplatPath)),u=w.useRef(!1);return rh(()=>{u.current=!0}),w.useCallback(function(f,m){if(m===void 0&&(m={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let p=Vu(f,JSON.parse(s),o,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:xn([e,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[e,r,s,o,t])}function ih(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(In),{matches:i}=w.useContext(An),{pathname:o}=sr(),s=JSON.stringify(Fu(i,r.v7_relativeSplatPath));return w.useMemo(()=>Vu(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function Wv(t,e){return Jv(t,e)}function Jv(t,e,n,r){Yr()||Ie(!1);let{navigator:i}=w.useContext(In),{matches:o}=w.useContext(An),s=o[o.length-1],u=s?s.params:{};s&&s.pathname;let d=s?s.pathnameBase:"/";s&&s.route;let f=sr(),m;if(e){var p;let S=typeof e=="string"?or(e):e;d==="/"||(p=S.pathname)!=null&&p.startsWith(d)||Ie(!1),m=S}else m=f;let h=m.pathname||"/",g=h;if(d!=="/"){let S=d.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=Tv(t,{pathname:g}),x=Xv(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:xn([d,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:xn([d,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return e&&x?w.createElement(Us.Provider,{value:{location:Yi({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:cn.Pop}},x):x}function Yv(){let t=rx(),e=Bv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const Kv=w.createElement(Yv,null);class Zv extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(An.Provider,{value:this.props.routeContext},w.createElement(nh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qv(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Uu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(An.Provider,{value:e},r)}function Xv(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let m=s.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||Ie(!1),s=s.slice(0,Math.min(s.length,m+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:h,errors:g}=n,y=p.route.loader&&h[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||y){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((m,p,h)=>{let g,y=!1,x=null,S=null;n&&(g=u&&p.route.id?u[p.route.id]:void 0,x=p.route.errorElement||Kv,d&&(f<0&&h===0?(ox("route-fallback"),y=!0,S=null):f===h&&(y=!0,S=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,h+1)),T=()=>{let v;return g?v=x:y?v=S:p.route.Component?v=w.createElement(p.route.Component,null):p.route.element?v=p.route.element:v=m,w.createElement(Qv,{match:p,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:v})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?w.createElement(Zv,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}var oh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oh||{}),sh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sh||{});function ex(t){let e=w.useContext(Uu);return e||Ie(!1),e}function tx(t){let e=w.useContext(zv);return e||Ie(!1),e}function nx(t){let e=w.useContext(An);return e||Ie(!1),e}function lh(t){let e=nx(),n=e.matches[e.matches.length-1];return n.route.id||Ie(!1),n.route.id}function rx(){var t;let e=w.useContext(nh),n=tx(),r=lh();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ix(){let{router:t}=ex(oh.UseNavigateStable),e=lh(sh.UseNavigateStable),n=w.useRef(!1);return rh(()=>{n.current=!0}),w.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yi({fromRouteId:e},o)))},[t,e])}const id={};function ox(t,e,n){id[t]||(id[t]=!0)}function sx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function je(t){let{to:e,replace:n,state:r,relative:i}=t;Yr()||Ie(!1);let{future:o,static:s}=w.useContext(In),{matches:u}=w.useContext(An),{pathname:d}=sr(),f=kn(),m=Vu(e,Fu(u,o.v7_relativeSplatPath),d,i==="path"),p=JSON.stringify(m);return w.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:i}),[f,p,i,n,r]),null}function z(t){Ie(!1)}function lx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=cn.Pop,navigator:o,static:s=!1,future:u}=t;Yr()&&Ie(!1);let d=e.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:d,navigator:o,static:s,future:Yi({v7_relativeSplatPath:!1},u)}),[d,u,o,s]);typeof r=="string"&&(r=or(r));let{pathname:m="/",search:p="",hash:h="",state:g=null,key:y="default"}=r,x=w.useMemo(()=>{let S=Lu(m,d);return S==null?null:{location:{pathname:S,search:p,hash:h,state:g,key:y},navigationType:i}},[d,m,p,h,g,y,i]);return x==null?null:w.createElement(In.Provider,{value:f},w.createElement(Us.Provider,{children:n,value:x}))}function js(t){let{children:e,location:n}=t;return Wv(va(e),n)}new Promise(()=>{});function va(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let o=[...e,i];if(r.type===w.Fragment){n.push.apply(n,va(r.props.children,o));return}r.type!==z&&Ie(!1),!r.props.index||!r.props.children||Ie(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=va(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xa.apply(this,arguments)}function ax(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ux(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cx(t,e){return t.button===0&&(!e||e==="_self")&&!ux(t)}const dx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fx="6";try{window.__reactRouterVersion=fx}catch{}const mx="startTransition",od=sg[mx];function ah(t){let{basename:e,children:n,future:r,window:i}=t,o=w.useRef();o.current==null&&(o.current=vv({window:i,v5Compat:!0}));let s=o.current,[u,d]=w.useState({action:s.action,location:s.location}),{v7_startTransition:f}=r||{},m=w.useCallback(p=>{f&&od?od(()=>d(p)):d(p)},[d,f]);return w.useLayoutEffect(()=>s.listen(m),[s,m]),w.useEffect(()=>sx(r),[r]),w.createElement(lx,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:s,future:r})}const px=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:u,target:d,to:f,preventScrollReset:m,viewTransition:p}=e,h=ax(e,dx),{basename:g}=w.useContext(In),y,x=!1;if(typeof f=="string"&&hx.test(f)&&(y=f,px))try{let v=new URL(window.location.href),I=f.startsWith("//")?new URL(v.protocol+f):new URL(f),R=Lu(I.pathname,g);I.origin===v.origin&&R!=null?f=R+I.search+I.hash:x=!0}catch{}let S=qv(f,{relative:i}),C=gx(f,{replace:s,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:p});function T(v){r&&r(v),v.defaultPrevented||C(v)}return w.createElement("a",xa({},h,{href:y||S,onClick:x||o?r:T,ref:n,target:d}))});var sd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sd||(sd={}));var ld;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ld||(ld={}));function gx(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:u}=e===void 0?{}:e,d=kn(),f=sr(),m=ih(t,{relative:s});return w.useCallback(p=>{if(cx(p,n)){p.preventDefault();let h=r!==void 0?r:fs(f)===fs(m);d(t,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:u})}},[f,d,m,r,i,n,t,o,s,u])}var q=(t=>(t.ADMIN="admin",t.TRAINER="trainer",t.TRAINEE="trainee",t))(q||{}),De=(t=>(t.PENDING="pending",t.ACTIVE="active",t.REJECTED="rejected",t))(De||{}),Ai=(t=>(t.LOSE_WEIGHT="lose_weight",t.MAINTAIN_WEIGHT="maintain_weight",t.GAIN_WEIGHT="gain_weight",t))(Ai||{}),Bn=(t=>(t.SEDENTARY="sedentary",t.LIGHT="light",t.MODERATE="moderate",t.ACTIVE="active",t.VERY_ACTIVE="very_active",t))(Bn||{});const uh=w.createContext(void 0);async function ue(t,e={},n,r){const i={"Content-Type":"application/json"};n&&(i["x-user-id"]=n),r&&(i["x-user-role"]=r);const o={...e,headers:{...i,...e.headers}},s=await fetch(`/api${t}`,o);if(!s.ok){const u=await s.json().catch(()=>({message:"An unknown error occurred on the API server."}));throw console.error(`API Error (${s.status}) for ${t}:`,u),new Error(u.message||`Request failed with status ${s.status}`)}return s.status===204?null:s.json()}const yx=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState([]),[o,s]=w.useState([]),[u,d]=w.useState([]),[f,m]=w.useState([]),[p,h]=w.useState([]),[g,y]=w.useState([]),[x,S]=w.useState([]),[C,T]=w.useState([]),[v,I]=w.useState(!0),[R,_]=w.useState(!1),D=()=>{n(null),i([]),s([]),d([]),m([]),h([]),y([]),S([]),T([]),localStorage.removeItem("currentUserId")},A=async(N,E)=>{_(!0);try{const P=await ue("/login",{method:"POST",body:JSON.stringify({emailOrPhone:N,password:E})});return P&&P.user?(n(P.user),localStorage.setItem("currentUserId",P.user.id),await ee(P.user),!0):!1}catch(P){return alert(`فشل تسجيل الدخول: ${P.message}`),!1}finally{_(!1)}},U=async N=>{_(!0);try{const E=await ue("/signup",{method:"POST",body:JSON.stringify(N)});return alert(E.message||"تم التسجيل بنجاح! حسابك قيد المراجعة."),{success:!0,message:E.message}}catch(E){return alert(`فشل إنشاء الحساب: ${E.message}`),{success:!1,message:E.message}}finally{_(!1)}},V=()=>{D()},ee=w.useCallback(async N=>{N&&(I(!0),await $(),await Dn(),N.role===q.ADMIN?(await xe(),await Xr(),await le(),await st()):N.role===q.TRAINER?(await xe(),await le(N.id),await st({uploadedById:N.id})):N.role===q.TRAINEE&&(N.trainerId?await le(N.trainerId):await le(),await st({forTraineeId:N.id}),await Nt(N.id),N.trainerId&&await Qr(N.trainerId)),I(!1))},[]);w.useEffect(()=>{(async()=>{I(!0);const E=localStorage.getItem("currentUserId");if(E)try{_(!0);const P=await ue(`/get-current-user?userId=${E}`);P&&P.user?(n(P.user),await ee(P.user)):D()}catch(P){console.error("Auto-login failed:",P),D()}finally{_(!1)}I(!1)})()},[ee]);const xe=async()=>{if(!((e==null?void 0:e.role)!==q.ADMIN&&(e==null?void 0:e.role)!==q.TRAINER)){_(!0);try{const N=await ue("/get-users",{},e==null?void 0:e.id,e==null?void 0:e.role);N&&N.users&&i(N.users)}catch(N){console.error("Failed to fetch users:",N.message)}finally{_(!1)}}},b=async(N,E)=>{if((e==null?void 0:e.role)!==q.ADMIN)return alert("غير مصرح لك."),!1;_(!0);try{const P=await ue("/admin-manage-user",{method:"PUT",body:JSON.stringify({userId:N,...E})},e.id,e.role);return P&&P.user?(i(W=>W.map(Se=>Se.id===N?{...Se,...P.user}:Se)),e.id===N&&n(W=>W?{...W,...P.user}:null),!0):!1}catch(P){return alert(`فشل تحديث المستخدم: ${P.message}`),!1}finally{_(!1)}},Me=async(N,E)=>b(N,{status:E}),ot=async N=>b(N,{role:q.TRAINER,status:De.ACTIVE}),Rn=async(N,E)=>{if(!e||e.id!==N&&e.role!==q.ADMIN)return alert("غير مصرح لك."),!1;_(!0);try{const P=await ue("/admin-manage-user",{method:"PUT",body:JSON.stringify({userId:N,...E})},e.id,e.role);return P&&P.user?(e.role===q.ADMIN&&i(W=>W.map(Se=>Se.id===N?{...Se,...P.user}:Se)),e.id===N&&n(W=>W?{...W,...P.user}:null),!0):!1}catch(P){return alert(`فشل تحديث الملف الشخصي: ${P.message}`),!1}finally{_(!1)}},bn=async(N,E)=>b(N,{trainerId:E}),$=async()=>{try{const N=await ue("/get-plans",{},e==null?void 0:e.id,e==null?void 0:e.role);N&&N.plans&&s(N.plans)}catch(N){console.error("Failed to fetch plans:",N.message)}},K=async N=>{if((e==null?void 0:e.role)!==q.ADMIN)return alert("غير مصرح لك."),null;_(!0);try{const E=await ue("/admin-manage-plan",{method:"POST",body:JSON.stringify(N)},e.id,e.role);return E&&E.plan?(s(P=>[...P,E.plan]),E.plan):null}catch(E){return alert(`فشل إضافة الخطة: ${E.message}`),null}finally{_(!1)}},Q=async(N,E)=>{if((e==null?void 0:e.role)!==q.ADMIN)return alert("غير مصرح لك."),null;_(!0);try{const P=await ue("/admin-manage-plan",{method:"PUT",body:JSON.stringify({planId:N,...E})},e.id,e.role);return P&&P.plan?(s(W=>W.map(Se=>Se.id===N?P.plan:Se)),P.plan):null}catch(P){return alert(`فشل تعديل الخطة: ${P.message}`),null}finally{_(!1)}},me=async N=>{if((e==null?void 0:e.role)!==q.ADMIN)return alert("غير مصرح لك."),{success:!1,message:"Unauthorized"};_(!0);try{return await ue("/admin-manage-plan",{method:"DELETE",body:JSON.stringify({planId:N})},e.id,e.role),s(E=>E.filter(P=>P.id!==N)),{success:!0,message:"تم حذف الخطة بنجاح."}}catch(E){return alert(`فشل حذف الخطة: ${E.message}`),{success:!1,message:E.message}}finally{_(!1)}},le=async N=>{_(!0);try{const E=N?`/training-videos?uploadedBy=${N}`:"/training-videos",P=await ue(E,{},e==null?void 0:e.id,e==null?void 0:e.role);P&&P.videos&&d(P.videos)}catch(E){console.error("Failed to fetch videos:",E.message)}finally{_(!1)}},Xt=async N=>{if(!e||e.role!==q.ADMIN&&e.role!==q.TRAINER)return alert("غير مصرح لك."),null;_(!0);try{const E={...N,uploadedBy:e.id},P=await ue("/training-videos",{method:"POST",body:JSON.stringify(E)},e.id,e.role);return P&&P.video?(d(W=>[P.video,...W]),P.video):null}catch(E){return alert(`Failed to add video: ${E.message}`),null}finally{_(!1)}},wt=async N=>{if(!e||e.role!==q.ADMIN&&e.role!==q.TRAINER)return alert("غير مصرح لك."),!1;_(!0);try{return await ue(`/training-videos?videoId=${N}`,{method:"DELETE"},e.id,e.role),d(E=>E.filter(P=>P.id!==N)),!0}catch(E){return alert(`Failed to delete video: ${E.message}`),!1}finally{_(!1)}},st=async N=>{_(!0);try{let E="/nutrition-files";N!=null&&N.uploadedById?E+=`?uploadedBy=${N.uploadedById}`:N!=null&&N.forTraineeId&&(E+=`?forTraineeId=${N.forTraineeId}`);const P=await ue(E,{},e==null?void 0:e.id,e==null?void 0:e.role);P&&P.files&&m(P.files)}catch(E){console.error("Failed to fetch nutrition files:",E.message)}finally{_(!1)}},_t=async N=>{if(!e||e.role!==q.ADMIN&&e.role!==q.TRAINER)return alert("غير مصرح لك."),null;_(!0);try{const E={...N,uploadedBy:e.id},P=await ue("/nutrition-files",{method:"POST",body:JSON.stringify(E)},e.id,e.role);return P&&P.file?(m(W=>[P.file,...W]),P.file):null}catch(E){return alert(`Failed to add nutrition file: ${E.message}`),null}finally{_(!1)}},en=async N=>{if(!e||e.role!==q.ADMIN&&e.role!==q.TRAINER)return alert("غير مصرح لك."),!1;_(!0);try{return await ue(`/nutrition-files?fileId=${N}`,{method:"DELETE"},e.id,e.role),m(E=>E.filter(P=>P.id!==N)),!0}catch(E){return alert(`Failed to delete nutrition file: ${E.message}`),!1}finally{_(!1)}},Nt=async N=>{if(e){_(!0);try{const E=await ue(`/trainee-schedules?traineeId=${N}`,{},e.id,e.role);E&&E.schedule?h(E.schedule):h([])}catch(E){console.error("Failed to fetch schedule:",E.message),h([])}finally{_(!1)}}},Gs=async N=>{if((e==null?void 0:e.role)!==q.TRAINER&&(e==null?void 0:e.role)!==q.ADMIN)return alert("غير مصرح لك."),null;_(!0);try{const E=await ue("/trainee-schedules",{method:"POST",body:JSON.stringify(N)},e.id,e.role);return E&&E.item?(Nt(N.traineeId),E.item):null}catch(E){return alert(`Failed to save schedule item: ${E.message}`),null}finally{_(!1)}},zs=async(N,E)=>{if((e==null?void 0:e.role)!==q.TRAINER&&(e==null?void 0:e.role)!==q.ADMIN)return alert("غير مصرح لك."),null;_(!0);try{const P={itemId:N,...E},W=await ue("/trainee-schedules",{method:"PUT",body:JSON.stringify(P)},e.id,e.role);return W&&W.item?(Nt(W.item.traineeId),W.item):null}catch(P){return alert(`Failed to update schedule item: ${P.message}`),null}finally{_(!1)}},qs=async N=>{if((e==null?void 0:e.role)!==q.TRAINER&&(e==null?void 0:e.role)!==q.ADMIN)return alert("غير مصرح لك."),!1;_(!0);try{const E=p.find(P=>P.id===N);return await ue(`/trainee-schedules?itemId=${N}`,{method:"DELETE"},e.id,e.role),E&&Nt(E.traineeId),!0}catch(E){return alert(`Failed to delete schedule item: ${E.message}`),!1}finally{_(!1)}},Qr=async N=>{if(e){_(!0);try{const E=await ue(`/messages?chatPartnerId=${N}`,{},e.id,e.role);E&&E.messages?y(E.messages):y([])}catch(E){console.error("Failed to fetch messages:",E.message),y([])}finally{_(!1)}}},Hs=async N=>{if(!e)return null;_(!0);try{const E={...N,senderId:e.id},P=await ue("/messages",{method:"POST",body:JSON.stringify(E)},e.id,e.role);return P&&P.message?(y(W=>[...W,P.message]),P.message):null}catch(E){return alert(`Failed to send message: ${E.message}`),null}finally{_(!1)}},Dn=async()=>{if(e){_(!0);try{const N=await ue("/notifications-crud",{},e.id,e.role);N&&N.notifications?S(N.notifications):S([])}catch(N){console.error("Failed to fetch notifications:",N.message),S([])}finally{_(!1)}}},Ws=async N=>{if(!e||e.role!==q.ADMIN&&e.role!==q.TRAINER)return alert("غير مصرح لك."),null;_(!0);try{const E=await ue("/notifications-crud",{method:"POST",body:JSON.stringify(N)},e.id,e.role);return E&&E.notification?(Dn(),E.notification):null}catch(E){return alert(`Failed to send notification: ${E.message}`),null}finally{_(!1)}},Js=async N=>{if(!e)return!1;_(!0);try{const E=await ue(`/notifications-crud?notificationId=${N}`,{method:"PUT"},e.id,e.role);return E&&E.notification?(S(P=>P.map(W=>W.id===N?{...W,read:!0}:W)),!0):!1}catch(E){return alert(`Failed to mark notification as read: ${E.message}`),!1}finally{_(!1)}},Ys=async N=>{if(!e||e.role!==q.TRAINEE)return alert("فقط المتدربون يمكنهم التقييم."),null;_(!0);try{const E={...N,userId:e.id},P=await ue("/ratings",{method:"POST",body:JSON.stringify(E)},e.id,e.role);return P&&P.rating?P.rating:null}catch(E){return alert(`Failed to submit rating: ${E.message}`),null}finally{_(!1)}},Xr=async()=>{if((e==null?void 0:e.role)===q.ADMIN){_(!0);try{const N=await ue("/ratings",{},e.id,e.role);N&&N.ratings?T(N.ratings):T([])}catch(N){console.error("Failed to fetch ratings:",N.message),T([])}finally{_(!1)}}};return c.jsx(uh.Provider,{value:{user:e,users:r,plans:o,trainingVideos:u,nutritionFiles:f,traineeSchedule:p,chatMessages:g,userNotifications:x,allRatings:C,loading:v,actionLoading:R,login:A,signup:U,logout:V,fetchUsers:xe,updateUserStatus:Me,assignTrainerRole:ot,updateUser:Rn,fetchPlans:$,addPlan:K,editPlan:Q,deletePlan:me,linkTraineeToTrainer:bn,fetchTrainingVideos:le,addTrainingVideo:Xt,deleteTrainingVideo:wt,fetchNutritionFiles:st,addNutritionFile:_t,deleteNutritionFile:en,fetchTraineeSchedule:Nt,saveTraineeScheduleItem:Gs,updateTraineeScheduleItem:zs,deleteTraineeScheduleItem:qs,fetchMessages:Qr,sendMessage:Hs,fetchNotifications:Dn,sendNotification:Ws,markNotificationAsRead:Js,submitRating:Ys,fetchAllRatings:Xr},children:t})},Ae=()=>{const t=w.useContext(uh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},ge=({label:t,id:e,error:n,icon:r,className:i,...o})=>c.jsxs("div",{className:"mb-4 w-full",children:[t&&c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),c.jsxs("div",{className:"relative",children:[r&&c.jsx("div",{className:"absolute inset-y-0 start-0 ps-3 flex items-center pointer-events-none text-gray-500",children:r}),c.jsx("input",{id:e,className:`block w-full px-3 py-2 border ${n?"border-red-500":"border-gray-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400 ${r?"ps-10":""} ${i}`,...o})]}),n&&c.jsx("p",{className:"mt-1 text-xs text-red-400",children:n})]}),yt=({label:t,id:e,error:n,options:r,className:i,...o})=>c.jsxs("div",{className:"mb-4 w-full",children:[t&&c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),c.jsx("select",{id:e,className:`block w-full px-3 py-2 border ${n?"border-red-500":"border-gray-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 ${i}`,...o,children:r.map(s=>c.jsx("option",{value:s.value,className:"bg-gray-700 text-gray-200",children:s.label},s.value))}),n&&c.jsx("p",{className:"mt-1 text-xs text-red-400",children:n})]}),ne=({children:t,variant:e="primary",size:n="default",isLoading:r=!1,className:i="",...o})=>{const s="font-semibold rounded focus:outline-none focus:ring-2 focus:ring-opacity-60 transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",u={default:"py-2 px-4 text-base",sm:"py-1 px-2 text-xs"},d={primary:"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400",secondary:"bg-gray-600 hover:bg-gray-700 text-gray-100 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400",warning:"bg-yellow-500 hover:bg-yellow-600 text-black focus:ring-yellow-400",link:"bg-transparent hover:bg-gray-700 text-blue-400 hover:text-blue-300 focus:ring-blue-400"};return c.jsx("button",{className:`${s} ${u[n]} ${d[e]} ${i}`,disabled:r||o.disabled,...o,children:r?c.jsxs("svg",{className:`animate-spin -ms-1 me-3 ${n==="sm"?"h-4 w-4":"h-5 w-5"} text-white`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):t})},vx="منصة التدريب الرياضي",k={login:"تسجيل الدخول",signup:"إنشاء حساب",dashboard:"لوحة التحكم",adminDashboard:"لوحة تحكم المدير",trainerDashboard:"لوحة تحكم المدرب",traineeDashboard:"لوحة تحكم المتدرب",email:"البريد الإلكتروني",password:"كلمة المرور",name:"الاسم الكامل",phoneNumber:"رقم الهاتف",country:"الدولة",selectPlan:"اختر خطة تدريبية",users:"المستخدمون",trainers:"المدربون",trainees:"المتدربون",plans:"الخطط التدريبية",notifications:"الإشعارات",settings:"الإعدادات",logout:"تسجيل الخروج",calorieCalculator:"حاسبة السعرات الحرارية",age:"العمر (سنوات)",weight:"الوزن (كجم)",height:"الطول (سم)",activityLevel:"مستوى النشاط",goal:"الهدف",gender:"الجنس",male:"ذكر",female:"أنثى",calculate:"احسب",dailyCalories:"السعرات الحرارية اليومية المقدرة:",activityLevels:{[Bn.SEDENTARY]:"خامل (تمارين قليلة أو معدومة)",[Bn.LIGHT]:"خفيف (تمارين خفيفة 1-3 أيام/أسبوع)",[Bn.MODERATE]:"متوسط (تمارين متوسطة 3-5 أيام/أسبوع)",[Bn.ACTIVE]:"نشيط (تمارين قاسية 6-7 أيام/أسبوع)",[Bn.VERY_ACTIVE]:"نشيط جداً (تمارين قاسية جداً وعمل بدني)"},calorieGoals:{[Ai.LOSE_WEIGHT]:"إنقاص الوزن",[Ai.MAINTAIN_WEIGHT]:"الحفاظ على الوزن",[Ai.GAIN_WEIGHT]:"زيادة الوزن"},approve:"موافقة",reject:"رفض",pendingAccounts:"الحسابات المعلقة",activeAccounts:"الحسابات النشطة",assignAsTrainer:"تعيين كمدرب",manageUsers:"إدارة المستخدمين",addPlan:"إضافة خطة",editPlan:"تعديل خطة",deletePlan:"حذف خطة",planName:"اسم الخطة",planDescription:"وصف الخطة",planPrice:"سعر الخطة (بالعملة المحلية)",planDuration:"مدة الخطة (أشهر)",save:"حفظ",cancel:"إلغاء",sendNotification:"إرسال إشعار",recipient:"المستلم",title:"العنوان",message:"الرسالة",send:"إرسال",allUsers:"جميع المستخدمين",allTrainers:"جميع المدربين",allTrainees:"جميع المتدربين",myTrainees:"المتدربون الخاصون بي",addTrainingVideo:"إضافة فيديو تدريبي",videoTitle:"عنوان الفيديو",youtubeLink:"رابط يوتيوب",uploadNutritionFile:"رفع ملف تغذية",fileName:"اسم الملف",viewProfile:"عرض الملف الشخصي",trainingVideos:"فيديوهات التدريب",nutritionFiles:"ملفات التغذية",mySchedule:"جدولي التدريبي",chatWithTrainer:"محادثة مع المدرب",ratePlan:"تقييم الخطة",rateTrainer:"تقييم المدرب",submitRating:"إرسال التقييم",comments:"تعليقات (اختياري)",stars:"نجوم",noDataAvailable:"لا توجد بيانات متاحة.",confirmAction:"تأكيد الإجراء",areYouSure:"هل أنت متأكد أنك تريد المتابعة؟",yes:"نعم",no:"لا",status:"الحالة",actions:"إجراءات",viewDetails:"عرض التفاصيل",edit:"تعديل",delete:"حذف",userManagement:"إدارة المستخدمين",planManagement:"إدارة الخطط",statistics:"الإحصائيات",filterByStatus:"فلترة حسب الحالة",selectUser:"اختر مستخدم",selectTrainer:"اختر مدرب",linkTraineeToTrainer:"ربط متدرب بمدرب",[q.ADMIN]:"مدير",[q.TRAINER]:"مدرب",[q.TRAINEE]:"متدرب",[De.ACTIVE]:"نشط",[De.PENDING]:"معلق",[De.REJECTED]:"مرفوض"},Ki=[{value:"SA",label:"المملكة العربية السعودية"},{value:"EG",label:"مصر"},{value:"AE",label:"الإمارات العربية المتحدة"},{value:"KW",label:"الكويت"},{value:"QA",label:"قطر"},{value:"JO",label:"الأردن"}],xx=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,o]=w.useState(""),{login:s,loading:u}=Ae(),d=kn(),f=async m=>{if(m.preventDefault(),o(""),!t||!n){o("يرجى ملء جميع الحقول.");return}await s(t,n)&&d("/dashboard")};return c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[i&&c.jsx("p",{className:"text-red-400 text-sm text-center bg-red-900 bg-opacity-30 p-2 rounded",children:i}),c.jsx(ge,{id:"emailOrPhone",label:k.email+" / "+k.phoneNumber,type:"text",value:t,onChange:m=>e(m.target.value),required:!0,placeholder:"example@example.com أو 05xxxxxxxx",icon:c.jsx("i",{className:"fas fa-user"})}),c.jsx(ge,{id:"password",label:k.password,type:"password",value:n,onChange:m=>r(m.target.value),required:!0,placeholder:"********",icon:c.jsx("i",{className:"fas fa-lock"})}),c.jsx("div",{children:c.jsx(ne,{type:"submit",isLoading:u,className:"w-full",children:k.login})})]})},Cx=()=>c.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-900",children:c.jsxs("div",{className:"max-w-md w-full space-y-8 p-10 bg-gray-800 shadow-xl rounded-lg",children:[c.jsx("div",{children:c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-100",children:k.login})}),c.jsx(xx,{})]})}),Tx=()=>{var D;const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,o]=w.useState(""),[s,u]=w.useState(((D=Ki[0])==null?void 0:D.value)||""),[d,f]=w.useState(""),[m,p]=w.useState(""),[h,g]=w.useState(""),[y,x]=w.useState(""),{signup:S,actionLoading:C,plans:T,fetchPlans:v}=Ae(),I=kn();w.useEffect(()=>{T.length||v()},[T,v]),w.useEffect(()=>{T.length>0&&!h&&g(T[0].id)},[T,h]);const R=T.map(A=>({value:A.id,label:`${A.name} (${A.price} ر.س)`})),_=async A=>{if(A.preventDefault(),x(""),!i||!s||!h||!d){x("رقم الهاتف، الدولة، كلمة المرور والخطة التدريبية حقول إجبارية.");return}if(d!==m){x("كلمتا المرور غير متطابقتين.");return}const U={phoneNumber:i,country:s,password:d,selectedPlanId:h};t&&(U.name=t),n&&(U.email=n);const V=await S(U);V.success?I("/login"):x(V.message||"فشل إنشاء الحساب. يرجى المحاولة مرة أخرى.")};return c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[y&&c.jsx("p",{className:"text-red-400 text-sm text-center bg-red-900 bg-opacity-30 p-2 rounded",children:y}),c.jsx(ge,{id:"name",label:k.name+" (اختياري)",type:"text",value:t,onChange:A=>e(A.target.value),placeholder:"اسمك الكامل",icon:c.jsx("i",{className:"fas fa-id-card"})}),c.jsx(ge,{id:"email",label:k.email+" (اختياري)",type:"email",value:n,onChange:A=>r(A.target.value),placeholder:"example@example.com",icon:c.jsx("i",{className:"fas fa-envelope"})}),c.jsx(ge,{id:"phoneNumber",label:k.phoneNumber+" (إجباري)",type:"tel",value:i,onChange:A=>o(A.target.value),required:!0,placeholder:"05xxxxxxxx",icon:c.jsx("i",{className:"fas fa-phone"})}),c.jsx(yt,{id:"country",label:k.country+" (إجباري)",value:s,onChange:A=>u(A.target.value),options:Ki,required:!0}),c.jsx(ge,{id:"password",label:k.password+" (إجباري)",type:"password",value:d,onChange:A=>f(A.target.value),required:!0,placeholder:"********",icon:c.jsx("i",{className:"fas fa-lock"})}),c.jsx(ge,{id:"confirmPassword",label:"تأكيد "+k.password+" (إجباري)",type:"password",value:m,onChange:A=>p(A.target.value),required:!0,placeholder:"********",icon:c.jsx("i",{className:"fas fa-lock"})}),R.length>0?c.jsx(yt,{id:"plan",label:k.selectPlan+" (إجباري)",value:h,onChange:A=>g(A.target.value),options:R,required:!0}):c.jsx("p",{className:"text-gray-400 text-sm",children:"جاري تحميل الخطط التدريبية..."}),c.jsx("div",{children:c.jsx(ne,{type:"submit",isLoading:C,className:"w-full",children:k.signup})})]})},wx=()=>c.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-900",children:c.jsxs("div",{className:"max-w-lg w-full space-y-8 p-10 bg-gray-800 shadow-xl rounded-lg",children:[c.jsx("div",{children:c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-100",children:k.signup})}),c.jsx(Tx,{})]})}),Ur=({isOpen:t,onClose:e,title:n,children:r,footer:i})=>t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 transition-opacity duration-300 ease-in-out",onClick:e,children:c.jsxs("div",{className:"bg-gray-800 text-gray-200 rounded-lg shadow-xl p-6 w-full max-w-lg transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modalShow",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-700",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:n}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-200 transition-colors","aria-label":"Close modal",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mt-4 max-h-[60vh] overflow-y-auto text-gray-300",children:r}),i&&c.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700 flex justify-end space-s-3",children:i})]})}):null,_x=()=>{const{users:t,updateUserStatus:e,assignTrainerRole:n,updateUser:r,actionLoading:i,fetchUsers:o,user:s}=Ae(),[u,d]=w.useState("all"),[f,m]=w.useState("all"),[p,h]=w.useState(!1),[g,y]=w.useState(!1),[x,S]=w.useState(null),[C,T]=w.useState({});w.useEffect(()=>{(s==null?void 0:s.role)===q.ADMIN&&o()},[s,o]);const v=async b=>{await e(b,De.ACTIVE)},I=async b=>{await e(b,De.REJECTED)},R=b=>{S(b),T({name:b.name,email:b.email,phoneNumber:b.phoneNumber,country:b.country}),h(!0)},_=b=>{T({...C,[b.target.name]:b.target.value})},D=async()=>{if(x&&C){const b={};C.name!==void 0&&(b.name=C.name),C.email!==void 0&&(b.email=C.email),C.phoneNumber!==void 0&&(b.phoneNumber=C.phoneNumber),C.country!==void 0&&(b.country=C.country),Object.keys(b).length>0&&await r(x.id,b),h(!1),S(null)}},A=b=>{if(b.role===q.TRAINER){alert("هذا المستخدم مدرب بالفعل.");return}S(b),y(!0)},U=async()=>{x&&(await n(x.id),y(!1),S(null))},V=w.useMemo(()=>t.filter(b=>{const Me=u==="all"||b.status===u,ot=f==="all"||b.role===f;return b.email==="lolelarap@gmail.com"&&b.role===q.ADMIN?!1:Me&&ot}),[t,u,f]),ee=[{value:"all",label:"الكل"},{value:De.PENDING,label:k.pending},{value:De.ACTIVE,label:k.active},{value:De.REJECTED,label:k.rejected}],xe=[{value:"all",label:"الكل"},{value:q.TRAINEE,label:k.trainee},{value:q.TRAINER,label:k.trainer}];return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:k.userManagement}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsx(yt,{label:k.filterByStatus,options:ee,value:u,onChange:b=>d(b.target.value)}),c.jsx(yt,{label:"فلترة حسب الدور",options:xe,value:f,onChange:b=>m(b.target.value)})]}),i&&t.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل المستخدمين..."}),!V.length&&!i&&c.jsx("p",{className:"text-gray-400",children:k.noDataAvailable}),c.jsx("div",{className:"overflow-x-auto mt-4",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-750",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:k.name}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:k.email}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:k.phoneNumber}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"الدور"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:k.status}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:k.actions})]})}),c.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:V.map(b=>c.jsxs("tr",{className:"hover:bg-gray-750 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:b.name||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:b.email||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:b.phoneNumber}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:k[b.role]||b.role}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b.status===De.ACTIVE?"bg-green-700 text-green-100":b.status===De.PENDING?"bg-yellow-700 text-yellow-100":"bg-red-700 text-red-100"}`,children:k[b.status]||b.status})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-s-2",children:[b.status===De.PENDING&&c.jsxs(c.Fragment,{children:[c.jsxs(ne,{variant:"success",size:"sm",onClick:()=>v(b.id),disabled:i,children:[c.jsx("i",{className:"fas fa-check me-1"})," ",k.approve]}),c.jsxs(ne,{variant:"danger",size:"sm",onClick:()=>I(b.id),disabled:i,children:[c.jsx("i",{className:"fas fa-times me-1"})," ",k.reject]})]}),b.status!==De.PENDING&&c.jsxs(ne,{variant:"secondary",size:"sm",onClick:()=>R(b),disabled:i,children:[c.jsx("i",{className:"fas fa-edit me-1"})," ",k.edit]}),b.status===De.ACTIVE&&b.role===q.TRAINEE&&c.jsxs(ne,{variant:"primary",size:"sm",onClick:()=>A(b),disabled:i,className:"ms-2",children:[c.jsx("i",{className:"fas fa-user-plus me-1"})," ",k.assignAsTrainer]})]})]},b.id))})]})}),c.jsxs(Ur,{isOpen:p,onClose:()=>h(!1),title:`تعديل بيانات: ${(x==null?void 0:x.name)||""}`,children:[c.jsx(ge,{label:k.name,name:"name",value:(C==null?void 0:C.name)||"",onChange:_}),c.jsx(ge,{label:k.email,name:"email",type:"email",value:(C==null?void 0:C.email)||"",onChange:_}),c.jsx(ge,{label:k.phoneNumber,name:"phoneNumber",type:"tel",value:(C==null?void 0:C.phoneNumber)||"",onChange:_}),c.jsx(yt,{label:k.country,name:"country",value:(C==null?void 0:C.country)||"",onChange:_,options:Ki}),c.jsxs("div",{className:"mt-4 flex justify-end space-s-2",children:[c.jsx(ne,{variant:"secondary",onClick:()=>h(!1),children:k.cancel}),c.jsx(ne,{onClick:D,isLoading:i,children:k.save})]})]}),c.jsxs(Ur,{isOpen:g,onClose:()=>y(!1),title:`${k.assignAsTrainer}: ${(x==null?void 0:x.name)||""}`,children:[c.jsxs("p",{className:"text-gray-300",children:["هل أنت متأكد أنك تريد تعيين ",x==null?void 0:x.name," كمدرب؟ سيتم تفعيل حسابه كمدرب."]}),c.jsxs("div",{className:"mt-4 flex justify-end space-s-2",children:[c.jsx(ne,{variant:"secondary",onClick:()=>y(!1),children:k.no}),c.jsx(ne,{onClick:U,isLoading:i,children:k.yes})]})]})]})},Nx=()=>{const{plans:t,addPlan:e,editPlan:n,deletePlan:r,actionLoading:i,fetchPlans:o,user:s}=Ae(),[u,d]=w.useState(!1),[f,m]=w.useState({}),[p,h]=w.useState(!1);w.useEffect(()=>{(s==null?void 0:s.role)===q.ADMIN&&o()},[s,o]);const g=()=>{m({name:"",description:"",price:0,durationMonths:1}),h(!1),d(!0)},y=v=>{m({...v}),h(!0),d(!0)},x=()=>{d(!1),m({})},S=v=>{const{name:I,value:R}=v.target;m(_=>({..._,[I]:I==="price"||I==="durationMonths"?Number(R):R}))},C=async()=>{if(!f.name||!f.description||f.price==null||f.durationMonths==null){alert("يرجى ملء جميع الحقول.");return}if(p&&f.id){const{id:v,createdAt:I,updatedAt:R,..._}=f;await n(v,_)}else await e(f);x()},T=async v=>{window.confirm(k.areYouSure+" "+k.deletePlan+"?")&&(await r(v)).success};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:k.planManagement}),c.jsxs(ne,{onClick:g,variant:"success",children:[c.jsx("i",{className:"fas fa-plus me-2"})," ",k.addPlan]})]}),i&&t.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الخطط..."}),!t.length&&!i&&c.jsx("p",{className:"text-gray-400",children:k.noDataAvailable}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:t.map(v=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow hover:shadow-xl transition-shadow",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:v.name}),c.jsx("p",{className:"text-sm text-gray-300 mt-1 h-16 overflow-hidden",children:v.description}),c.jsxs("p",{className:"text-md font-bold text-green-400 mt-2",children:[v.price," ر.س"]}),c.jsxs("p",{className:"text-xs text-gray-400",children:[k.planDuration,": ",v.durationMonths," أشهر"]}),c.jsxs("div",{className:"mt-4 flex space-s-2",children:[c.jsxs(ne,{variant:"primary",size:"sm",onClick:()=>y(v),disabled:i,children:[c.jsx("i",{className:"fas fa-edit me-1"})," ",k.edit]}),c.jsxs(ne,{variant:"danger",size:"sm",onClick:()=>T(v.id),disabled:i,children:[c.jsx("i",{className:"fas fa-trash me-1"})," ",k.delete]})]})]},v.id))}),c.jsxs(Ur,{isOpen:u,onClose:x,title:p?k.editPlan:k.addPlan,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(ge,{label:k.planName,name:"name",value:f.name||"",onChange:S,required:!0}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:k.planDescription}),c.jsx("textarea",{id:"description",name:"description",value:f.description||"",onChange:S,rows:3,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400",required:!0})]}),c.jsx(ge,{label:k.planPrice,name:"price",type:"number",value:String(f.price||0),onChange:S,required:!0,min:"0"}),c.jsx(ge,{label:k.planDuration,name:"durationMonths",type:"number",value:String(f.durationMonths||1),onChange:S,required:!0,min:"1"})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-s-2",children:[c.jsx(ne,{variant:"secondary",onClick:x,disabled:i,children:k.cancel}),c.jsx(ne,{onClick:C,isLoading:i,children:k.save})]})]})]})},Sx=()=>{const{users:t,sendNotification:e,actionLoading:n}=Ae(),[r,i]=w.useState("all"),[o,s]=w.useState(""),[u,d]=w.useState(""),f=[{value:"all",label:k.allUsers},{value:q.TRAINER,label:k.allTrainers},{value:q.TRAINEE,label:k.allTrainees},...t.map(p=>({value:p.id,label:`${p.name||p.email} (${k[p.role]||p.role})`}))],m=async p=>{if(p.preventDefault(),!o||!u){alert("يرجى ملء العنوان والرسالة.");return}await e({recipientSpecifier:r,title:o,message:u})&&(s(""),d(""),alert("تم إرسال الإشعار بنجاح!"))};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-lg mx-auto text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-center text-gray-100",children:k.sendNotification}),c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsx(yt,{label:k.recipient,options:f,value:r,onChange:p=>i(p.target.value)}),c.jsx(ge,{label:k.title,value:o,onChange:p=>s(p.target.value),required:!0}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:k.message}),c.jsx("textarea",{id:"message",value:u,onChange:p=>d(p.target.value),rows:4,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400",required:!0})]}),c.jsxs(ne,{type:"submit",isLoading:n,className:"w-full",children:[c.jsx("i",{className:"fas fa-paper-plane me-2"}),k.send]})]})]})},Ex=()=>{const{users:t,plans:e}=Ae(),n=t.length,r=t.filter(f=>f.status===De.ACTIVE).length,i=t.filter(f=>f.status===De.PENDING).length,o=t.filter(f=>f.role===q.TRAINER&&f.status===De.ACTIVE).length,s=t.filter(f=>f.role===q.TRAINEE&&f.status===De.ACTIVE).length,u=e.length,d=[{label:"إجمالي المستخدمين",value:n,icon:"fas fa-users",color:"bg-blue-600"},{label:"المستخدمون النشطون",value:r,icon:"fas fa-user-check",color:"bg-green-600"},{label:"الحسابات المعلقة",value:i,icon:"fas fa-user-clock",color:"bg-yellow-500"},{label:"إجمالي المدربين",value:o,icon:"fas fa-chalkboard-teacher",color:"bg-indigo-600"},{label:"إجمالي المتدربين",value:s,icon:"fas fa-running",color:"bg-purple-600"},{label:"إجمالي الخطط التدريبية",value:u,icon:"fas fa-clipboard-list",color:"bg-pink-600"}];return c.jsxs("div",{className:"p-4 text-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-6",children:k.statistics}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(f=>c.jsx("div",{className:`p-6 rounded-lg shadow-lg ${f.color} ${f.color==="bg-yellow-500"?"text-black":"text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-4xl font-bold",children:f.value}),c.jsx("p",{className:"text-lg",children:f.label})]}),c.jsx("i",{className:`${f.icon} text-4xl opacity-70`})]})},f.label))}),c.jsxs("div",{className:"mt-8 bg-gray-800 p-6 rounded-lg shadow-lg",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-4",children:"نظرة عامة على النشاط"}),c.jsx("p",{className:"text-gray-400",children:"سيتم عرض مخططات بيانية هنا قريباً توضح نمو المستخدمين، أشهر الخطط، وتقييمات المدربين."}),c.jsx("div",{className:"mt-4 rounded-md shadow-sm bg-gray-700 aspect-[16/6] flex items-center justify-center",children:c.jsx("p",{className:"text-gray-500 text-lg",children:"Placeholder Chart Area"})})]})]})},ch=({count:t=5,initialRating:e=0,onRatingChange:n,readOnly:r=!1,size:i=24})=>{const[o,s]=w.useState(e),[u,d]=w.useState(0),f=h=>{if(r)return;const g=h+1;s(g),n&&n(g)},m=h=>{r||d(h+1)},p=()=>{r||d(0)};return c.jsx("div",{className:"flex items-center",children:[...Array(t)].map((h,g)=>{const y=g+1;return c.jsx("span",{style:{fontSize:`${i}px`,color:(u||o)>=y?"#FFD700":"#6b7280",cursor:r?"default":"pointer"},onClick:()=>f(g),onMouseEnter:()=>m(g),onMouseLeave:p,className:"transition-colors duration-150",children:"★"},g)})})},Ix=()=>{const{user:t,allRatings:e,fetchAllRatings:n,actionLoading:r}=Ae();return w.useEffect(()=>{t&&n()},[t,n]),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-100",children:"مراجعة تقييمات العملاء"}),r&&e.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل التقييمات..."}),!r&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[k.noDataAvailable," لا توجد تقييمات لعرضها حاليًا."]}),e.length>0&&c.jsx("div",{className:"space-y-4",children:e.map(i=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsxs("h3",{className:"text-lg font-semibold text-blue-400",children:["تقييم لـ: ",i.ratedItemType==="plan"?"خطة":"مدرب",' "',i.ratedItemId,'"']}),c.jsx(ch,{initialRating:i.stars,readOnly:!0,size:20})]}),c.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:["بواسطة: ",i.userName||i.userId," - بتاريخ: ",new Date(i.ratingTimestamp).toLocaleDateString("ar-SA")]}),i.comment&&c.jsxs("p",{className:"text-gray-300 bg-gray-600 p-2 rounded text-sm",children:["التعليق: ",i.comment]})]},i.id))})]})},ai=({activeTab:t="stats"})=>{const e=()=>{switch(t){case"users":return c.jsx(_x,{});case"plans":return c.jsx(Nx,{});case"send-notification":return c.jsx(Sx,{});case"ratings":return c.jsx(Ix,{});case"stats":default:return c.jsx(Ex,{})}};return c.jsxs("div",{className:"p-2 md:p-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6 border-b border-gray-700 pb-2",children:k.adminDashboard}),e()]})},Ax=()=>{const{user:t,users:e}=Ae();if(!t||t.role!==q.TRAINER)return c.jsx("p",{className:"text-red-400",children:"غير مصرح لك بالدخول."});const n=e.filter(r=>r.role===q.TRAINEE&&r.trainerId===t.id);return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:k.myTrainees}),n.length===0?c.jsxs("p",{className:"text-gray-400",children:[k.noDataAvailable," حاليًا لا يوجد متدربون مرتبطون بك."]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-750",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:k.name}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:k.email}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:k.phoneNumber}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:k.actions})]})}),c.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:n.map(r=>c.jsxs("tr",{className:"hover:bg-gray-750 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:r.name||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:r.email||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:r.phoneNumber}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs(ne,{variant:"primary",size:"sm",onClick:()=>alert(`عرض تفاصيل ${r.name}`),children:[c.jsx("i",{className:"fas fa-eye me-1"})," ",k.viewDetails]})})]},r.id))})]})})]})},kx=()=>{const{user:t,trainingVideos:e,addTrainingVideo:n,deleteTrainingVideo:r,fetchTrainingVideos:i,actionLoading:o}=Ae(),[s,u]=w.useState(!1),[d,f]=w.useState(""),[m,p]=w.useState("");w.useEffect(()=>{t&&i(t.id)},[t,i]);const h=async()=>{if(!d||!m||!t){alert("يرجى ملء جميع الحقول.");return}if(!m.includes("youtube.com/")&&!m.includes("youtu.be/")){alert("يرجى إدخال رابط يوتيوب صالح.");return}await n({title:d,youtubeUrl:m})&&(u(!1),f(""),p(""))},g=async x=>{window.confirm("هل أنت متأكد أنك تريد حذف هذا الفيديو؟")&&await r(x)},y=x=>{let S="";return x.includes("youtube.com/watch?v=")?S=x.split("v=")[1].split("&")[0]:x.includes("youtu.be/")&&(S=x.split("youtu.be/")[1].split("?")[0]),S?`https://www.youtube.com/embed/${S}`:""};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:k.trainingVideos}),c.jsxs(ne,{onClick:()=>u(!0),variant:"success",disabled:o,children:[c.jsx("i",{className:"fas fa-plus me-2"})," ",k.addTrainingVideo]})]}),o&&e.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الفيديوهات..."}),!o&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[k.noDataAvailable," لم تقم بإضافة أي فيديوهات بعد."]}),e.length>0&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:e.map(x=>{const S=y(x.youtubeUrl);return c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow relative",children:[c.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-2",children:x.title}),S?c.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded overflow-hidden",children:c.jsx("iframe",{src:S,title:x.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}):c.jsx("p",{className:"text-red-400",children:"رابط فيديو غير صالح."}),c.jsx(ne,{variant:"danger",size:"sm",onClick:()=>g(x.id),disabled:o,className:"absolute top-2 end-2 opacity-75 hover:opacity-100","aria-label":"Delete video",children:c.jsx("i",{className:"fas fa-trash"})})]},x.id)})}),c.jsxs(Ur,{isOpen:s,onClose:()=>u(!1),title:k.addTrainingVideo,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(ge,{label:k.videoTitle,value:d,onChange:x=>f(x.target.value),required:!0}),c.jsx(ge,{label:k.youtubeLink,type:"url",value:m,onChange:x=>p(x.target.value),placeholder:"https://www.youtube.com/watch?v=...",required:!0})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-s-2",children:[c.jsx(ne,{variant:"secondary",onClick:()=>u(!1),disabled:o,children:k.cancel}),c.jsx(ne,{onClick:h,isLoading:o,children:k.addPlan})]})]})]})},Mx=()=>{const{user:t,users:e,nutritionFiles:n,addNutritionFile:r,deleteNutritionFile:i,fetchNutritionFiles:o,actionLoading:s}=Ae(),[u,d]=w.useState(!1),[f,m]=w.useState(""),[p,h]=w.useState(""),[g,y]=w.useState(void 0);w.useEffect(()=>{t&&o({uploadedById:t.id})},[t,o]);const x=e.filter(v=>v.trainerId===(t==null?void 0:t.id)),S=[{value:"",label:"عام (لجميع متدربيك)"},...x.map(v=>({value:v.id,label:v.name||v.email||v.phoneNumber}))],C=async()=>{if(!f||!p||!t){alert("يرجى إدخال اسم للملف ورابط الملف.");return}try{new URL(p)}catch{alert("الرجاء إدخال رابط URL صالح.");return}await r({name:f,fileUrl:p,traineeId:g||null})&&(d(!1),m(""),h(""),y(void 0))},T=async v=>{window.confirm("هل أنت متأكد أنك تريد حذف هذا الملف؟")&&await i(v)};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:k.nutritionFiles}),c.jsxs(ne,{onClick:()=>d(!0),variant:"success",disabled:s,children:[c.jsx("i",{className:"fas fa-plus me-2"})," إضافة ملف تغذية"]})]}),s&&n.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الملفات..."}),!s&&n.length===0&&c.jsxs("p",{className:"text-gray-400",children:[k.noDataAvailable," لم تقم بإضافة أي ملفات تغذية بعد."]}),n.length>0&&c.jsx("ul",{className:"space-y-3 mt-4",children:n.map(v=>{var I;return c.jsxs("li",{className:"bg-gray-700 p-3 rounded-md shadow-sm flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("i",{className:"fas fa-file-alt text-blue-400 me-2"}),c.jsx("span",{className:"text-gray-200",children:v.name}),v.traineeId&&c.jsxs("span",{className:"text-xs text-gray-400 ms-2",children:["(خاص بـ: ",((I=e.find(R=>R.id===v.traineeId))==null?void 0:I.name)||"متدرب",")"]})]}),c.jsxs("div",{className:"flex items-center space-s-2",children:[c.jsx("a",{href:v.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",title:"فتح الملف في تبويب جديد",children:c.jsx("i",{className:"fas fa-external-link-alt"})}),c.jsx(ne,{variant:"danger",size:"sm",onClick:()=>T(v.id),disabled:s,"aria-label":"Delete file",children:c.jsx("i",{className:"fas fa-trash"})})]})]},v.id)})}),c.jsxs(Ur,{isOpen:u,onClose:()=>d(!1),title:"إضافة ملف تغذية جديد",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(ge,{label:k.fileName,value:f,onChange:v=>m(v.target.value),required:!0}),c.jsx(ge,{label:"رابط الملف (مثل Google Drive, Dropbox)",type:"url",value:p,onChange:v=>h(v.target.value),placeholder:"https://docs.google.com/document/d/...",required:!0}),c.jsx(yt,{label:"تخصيص لمتدرب (اختياري)",value:g||"",onChange:v=>y(v.target.value||void 0),options:S})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-s-2",children:[c.jsx(ne,{variant:"secondary",onClick:()=>d(!1),disabled:s,children:k.cancel}),c.jsx(ne,{onClick:C,isLoading:s,children:"إضافة الملف"})]})]})]})},Px=()=>{const{user:t,users:e,traineeSchedule:n,fetchTraineeSchedule:r,saveTraineeScheduleItem:i,updateTraineeScheduleItem:o,deleteTraineeScheduleItem:s,actionLoading:u}=Ae(),[d,f]=w.useState(""),[m,p]=w.useState(!1),[h,g]=w.useState({}),[y,x]=w.useState(!1),S=e.filter(A=>A.role===q.TRAINEE&&A.trainerId===(t==null?void 0:t.id));w.useEffect(()=>{d&&r(d)},[d,r]);const C=S.map(A=>({value:A.id,label:A.name||A.email||`متدرب (${A.id.substring(0,6)})`})),T=()=>{if(!d){alert("يرجى اختيار متدرب أولاً.");return}g({traineeId:d,day:"",exercises:"",notes:""}),x(!1),p(!0)},v=A=>{g(A),x(!0),p(!0)},I=()=>{p(!1),g({})},R=A=>{g(U=>({...U,[A.target.name]:A.target.value}))},_=async()=>{if(!h.traineeId||!h.day||!h.exercises){alert("يرجى ملء جميع الحقول المطلوبة (اليوم، التمارين).");return}if(y&&h.id){const{id:A,traineeId:U,createdAt:V,updatedAt:ee,...xe}=h;await o(A,xe)}else await i(h);I()},D=async A=>{window.confirm("هل أنت متأكد أنك تريد حذف هذا البند من الجدول؟")&&await s(A)};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:"إدارة جداول المتدربين"}),c.jsx(yt,{label:"اختر متدرب لعرض/تعديل جدوله",options:[{value:"",label:"اختر متدرباً..."},...C],value:d,onChange:A=>f(A.target.value),className:"mb-4"}),d&&c.jsxs(ne,{onClick:T,variant:"success",className:"my-3",disabled:u,children:[c.jsx("i",{className:"fas fa-plus me-2"})," إضافة بند جديد لجدول المتدرب"]}),u&&d&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الجدول..."}),d&&!u&&n.length===0&&c.jsx("p",{className:"text-gray-400 mt-4",children:"لا يوجد جدول لهذا المتدرب. قم بإضافة بنود جديدة."}),d&&n.length>0&&c.jsx("div",{className:"space-y-4 mt-4",children:n.map(A=>c.jsx("div",{className:"bg-gray-700 p-4 rounded-lg border-s-4 border-blue-500",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:A.day}),c.jsx("p",{className:"text-gray-300 mt-1 whitespace-pre-line",children:A.exercises}),A.notes&&c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:c.jsxs("em",{children:["ملاحظات: ",A.notes]})})]}),c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx(ne,{variant:"primary",size:"sm",onClick:()=>v(A),disabled:u,children:c.jsx("i",{className:"fas fa-edit"})}),c.jsx(ne,{variant:"danger",size:"sm",onClick:()=>D(A.id),disabled:u,children:c.jsx("i",{className:"fas fa-trash"})})]})]})},A.id))}),c.jsxs(Ur,{isOpen:m,onClose:I,title:y?"تعديل بند في الجدول":"إضافة بند جديد للجدول",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(ge,{label:"اليوم (مثال: اليوم الأول، يوم الصدر)",name:"day",value:h.day||"",onChange:R,required:!0}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"exercises",className:"block text-sm font-medium text-gray-300 mb-1",children:"التمارين"}),c.jsx("textarea",{id:"exercises",name:"exercises",value:h.exercises||"",onChange:R,rows:4,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-300 mb-1",children:"ملاحظات (اختياري)"}),c.jsx("textarea",{id:"notes",name:"notes",value:h.notes||"",onChange:R,rows:2,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400"})]})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-s-2",children:[c.jsx(ne,{variant:"secondary",onClick:I,disabled:u,children:k.cancel}),c.jsx(ne,{onClick:_,isLoading:u,children:k.save})]})]})]})},ui=({activeTab:t="my-trainees"})=>{const e=()=>{switch(t){case"videos":return c.jsx(kx,{});case"nutrition":return c.jsx(Mx,{});case"manage-schedules":return c.jsx(Px,{});case"my-trainees":default:return c.jsx(Ax,{})}};return c.jsxs("div",{className:"p-2 md:p-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6 border-b border-gray-700 pb-2",children:k.trainerDashboard}),e()]})},Rx=()=>{const{user:t,trainingVideos:e,fetchTrainingVideos:n,actionLoading:r}=Ae();w.useEffect(()=>{t&&(t.trainerId?n(t.trainerId):n())},[t,n]);const i=o=>{let s="";return o.includes("youtube.com/watch?v=")?s=o.split("v=")[1].split("&")[0]:o.includes("youtu.be/")&&(s=o.split("youtu.be/")[1].split("?")[0]),s?`https://www.youtube.com/embed/${s}`:""};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:k.trainingVideos}),r&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الفيديوهات..."}),!r&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[k.noDataAvailable," لا توجد فيديوهات تدريبية متاحة لك حاليًا."]}),e.length>0&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:e.map(o=>{const s=i(o.youtubeUrl);return c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow",children:[c.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-2",children:o.title}),c.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["بواسطة: ",o.uploadedByName||"مدرب"]}),s?c.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded overflow-hidden",children:c.jsx("iframe",{src:s,title:o.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}):c.jsx("p",{className:"text-red-400",children:"رابط فيديو غير صالح."})]},o.id)})})]})},bx=()=>{const{user:t,nutritionFiles:e,fetchNutritionFiles:n,actionLoading:r}=Ae();return w.useEffect(()=>{t&&n({forTraineeId:t.id})},[t,n]),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:k.nutritionFiles}),r&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل ملفات التغذية..."}),!r&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[k.noDataAvailable," لا توجد ملفات تغذية متاحة لك حاليًا."]}),e.length>0&&c.jsx("ul",{className:"space-y-3 mt-4",children:e.map(i=>c.jsxs("li",{className:"bg-gray-700 p-3 rounded-md shadow-sm flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("i",{className:"fas fa-file-pdf text-red-400 me-2"}),c.jsx("span",{className:"text-gray-200",children:i.name}),c.jsxs("p",{className:"text-xs text-gray-400",children:["بواسطة: ",i.uploadedByName||"مدرب"]})]}),c.jsxs("a",{href:i.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",title:"فتح الملف في تبويب جديد",children:[c.jsx("i",{className:"fas fa-external-link-alt me-1"})," عرض الملف"]})]},i.id))})]})},Dx=()=>{const{user:t,traineeSchedule:e,fetchTraineeSchedule:n,actionLoading:r}=Ae();return w.useEffect(()=>{t&&n(t.id)},[t,n]),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:k.mySchedule}),r&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل جدولك التدريبي..."}),!r&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[k.noDataAvailable," لم يتم تعيين جدول تدريبي لك بعد."]}),e.length>0&&c.jsx("div",{className:"space-y-4 mt-4",children:e.map(i=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg border-s-4 border-blue-500",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:i.day}),c.jsx("p",{className:"text-gray-300 mt-1 whitespace-pre-line",children:i.exercises}),i.notes&&c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:c.jsxs("em",{children:["ملاحظات: ",i.notes]})})]},i.id))})]})},Lx=()=>{const{user:t,users:e,chatMessages:n,fetchMessages:r,sendMessage:i,actionLoading:o}=Ae(),[s,u]=w.useState(""),[d,f]=w.useState(!1),m=w.useRef(null),p=e.find(y=>y.id===(t==null?void 0:t.trainerId));w.useEffect(()=>{t&&p&&(f(!0),r(p.id).finally(()=>f(!1)))},[t,p,r]),w.useEffect(()=>{var y;(y=m.current)==null||y.scrollIntoView({behavior:"smooth"})},[n]);const h=async()=>{!s.trim()||!t||!p||(f(!0),await i({receiverId:p.id,content:s}),u(""),f(!1))};if(!t)return c.jsx("p",{className:"text-gray-400",children:"جاري تحميل المستخدم..."});if(!p)return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:k.chatWithTrainer}),c.jsx("p",{className:"text-gray-400",children:"لم يتم تعيين مدرب لك بعد، أو لا يمكن العثور على معلومات المدرب."})]});const g=d||o;return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md h-[70vh] flex flex-col text-gray-200",children:[c.jsxs("h2",{className:"text-xl font-semibold mb-4 border-b border-gray-700 pb-2 text-gray-100",children:[k.chatWithTrainer,": ",(p==null?void 0:p.name)||"المدرب"]}),c.jsxs("div",{className:"flex-grow overflow-y-auto mb-4 space-y-3 p-2 bg-gray-750 rounded",children:[g&&n.length===0&&c.jsx("p",{className:"text-gray-400 text-center py-4",children:"جاري تحميل الرسائل..."}),!g&&n.length===0&&c.jsx("p",{className:"text-gray-400 text-center py-4",children:"ابدأ المحادثة..."}),n.map(y=>c.jsx("div",{className:`flex ${y.senderId===t.id?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow ${y.senderId===t.id?"bg-blue-600 text-white rounded-br-none":"bg-gray-600 text-gray-100 rounded-bl-none"}`,children:[c.jsx("p",{className:"text-sm",children:y.content}),c.jsx("p",{className:`text-xs mt-1 ${y.senderId===t.id?"text-blue-200":"text-gray-400"} text-right`,children:new Date(y.sentAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]})},y.id)),c.jsx("div",{ref:m})]}),c.jsxs("div",{className:"flex items-center border-t border-gray-700 pt-4",children:[c.jsx("input",{type:"text",value:s,onChange:y=>u(y.target.value),placeholder:"اكتب رسالتك هنا...",className:"flex-grow p-2 border border-gray-600 rounded-s-md focus:ring-blue-500 focus:border-blue-500 bg-gray-700 text-gray-200 placeholder-gray-400",onKeyPress:y=>y.key==="Enter"&&!g&&h(),disabled:g}),c.jsx(ne,{onClick:h,className:"rounded-e-md rounded-s-none px-3",disabled:g,isLoading:g,children:c.jsx("i",{className:"fas fa-paper-plane"})})]})]})},ad=({itemType:t,itemId:e,itemName:n})=>{const{user:r,submitRating:i,actionLoading:o}=Ae(),[s,u]=w.useState(0),[d,f]=w.useState(""),[m,p]=w.useState(!1),[h,g]=w.useState(""),y=async x=>{if(x.preventDefault(),g(""),s===0){g("يرجى اختيار تقييم بالنجوم.");return}if(!r){g("يجب أن تكون مسجلاً الدخول لتقديم تقييم.");return}if(r.role!=="trainee"){g("فقط المتدربون يمكنهم تقديم التقييمات.");return}await i({ratedItemId:e,ratedItemType:t,stars:s,comment:d})?p(!0):g("فشل إرسال التقييم. حاول مرة أخرى.")};return m?c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-md mx-auto text-center text-gray-200",children:[c.jsx("i",{className:"fas fa-check-circle text-green-400 text-5xl mb-4"}),c.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-100",children:"شكراً لتقييمك!"}),c.jsx("p",{className:"text-gray-300",children:"تقديرك يساعدنا على التحسين."})]}):c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-md mx-auto text-gray-200",children:[c.jsxs("h2",{className:"text-xl font-semibold mb-1 text-gray-100",children:[t==="plan"?k.ratePlan:k.rateTrainer,": ",c.jsx("span",{className:"text-blue-400",children:n})]}),c.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"شاركنا رأيك لمساعدتنا على تقديم خدمة أفضل."}),h&&c.jsx("p",{className:"text-red-400 text-sm bg-red-900 bg-opacity-30 p-2 rounded mb-3",children:h}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:[k.stars," (1-5)"]}),c.jsx(ch,{initialRating:s,onRatingChange:u,size:32})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-300 mb-1",children:k.comments}),c.jsx("textarea",{id:"comment",value:d,onChange:x=>f(x.target.value),rows:3,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400",placeholder:"أخبرنا المزيد عن تجربتك..."})]}),c.jsxs(ne,{type:"submit",isLoading:o,className:"w-full",children:[c.jsx("i",{className:"fas fa-paper-plane me-2"})," ",k.submitRating]})]})]})},Ln=({activeTab:t="overview"})=>{const e=()=>{switch(t){case"videos":return c.jsx(Rx,{});case"nutrition":return c.jsx(bx,{});case"schedule":return c.jsx(Dx,{});case"chat":return c.jsx(Lx,{});case"rate-plan":return c.jsx(ad,{itemType:"plan",itemId:"currentPlanId_placeholder",itemName:"الخطة التدريبية الحالية"});case"rate-trainer":return c.jsx(ad,{itemType:"trainer",itemId:"currentTrainerId_placeholder",itemName:"المدرب الشخصي"});case"overview":default:return c.jsx(Fx,{})}};return c.jsxs("div",{className:"p-2 md:p-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6 border-b border-gray-700 pb-2",children:k.traineeDashboard}),e()]})},Fx=()=>c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:"مرحباً بك في لوحة التحكم الخاصة بك!"}),c.jsx("p",{className:"text-gray-300",children:"من هنا يمكنك متابعة تقدمك، مشاهدة الفيديوهات التدريبية، الاطلاع على ملفات التغذية، والتواصل مع مدربك."}),c.jsx("div",{className:"mt-4 rounded-md shadow-sm bg-gray-700 aspect-[16/7] flex items-center justify-center",children:c.jsx("p",{className:"text-gray-500 text-lg",children:"Fitness Motivation Placeholder"})})]});var se;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),s={};for(const u of o)s[u]=i[u];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(se||(se={}));var ud;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ud||(ud={}));const B=se.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),on=t=>{switch(typeof t){case"undefined":return B.undefined;case"string":return B.string;case"number":return Number.isNaN(t)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":return Array.isArray(t)?B.array:t===null?B.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?B.promise:typeof Map<"u"&&t instanceof Map?B.map:typeof Set<"u"&&t instanceof Set?B.set:typeof Date<"u"&&t instanceof Date?B.date:B.object;default:return B.unknown}},F=se.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Zt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let u=r,d=0;for(;d<s.path.length;){const f=s.path[d];d===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(s))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return i(this),r}static assert(e){if(!(e instanceof Zt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,se.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Zt.create=t=>new Zt(t);const Ca=(t,e)=>{let n;switch(t.code){case F.invalid_type:t.received===B.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case F.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,se.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:n=`Unrecognized key(s) in object: ${se.joinValues(t.keys,", ")}`;break;case F.invalid_union:n="Invalid input";break;case F.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${se.joinValues(t.options)}`;break;case F.invalid_enum_value:n=`Invalid enum value. Expected ${se.joinValues(t.options)}, received '${t.received}'`;break;case F.invalid_arguments:n="Invalid function arguments";break;case F.invalid_return_type:n="Invalid function return type";break;case F.invalid_date:n="Invalid date";break;case F.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:se.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case F.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case F.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case F.custom:n="Invalid input";break;case F.invalid_intersection_types:n="Intersection results could not be merged";break;case F.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case F.not_finite:n="Number must be finite";break;default:n=e.defaultError,se.assertNever(t)}return{message:n}};let Vx=Ca;function Ux(){return Vx}const jx=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let u="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)u=f(s,{data:e,defaultError:u}).message;return{...i,path:o,message:u}};function j(t,e){const n=Ux(),r=jx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ca?void 0:Ca].filter(i=>!!i)});t.common.issues.push(r)}class Ze{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Z;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return Ze.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Z;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const Z=Object.freeze({status:"aborted"}),yi=t=>({status:"dirty",value:t}),Tt=t=>({status:"valid",value:t}),cd=t=>t.status==="aborted",dd=t=>t.status==="dirty",jr=t=>t.status==="valid",ms=t=>typeof Promise<"u"&&t instanceof Promise;var G;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(G||(G={}));class Ot{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fd=(t,e)=>{if(jr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Zt(t.common.issues);return this._error=n,this._error}}};function X(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,u)=>{const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??r??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:i}}class ie{get description(){return this._def.description}_getType(e){return on(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:on(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ze,ctx:{common:e.parent.common,data:e.data,parsedType:on(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ms(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:on(e)},i=this._parseSync({data:e,path:r.path,parent:r});return fd(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:on(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return jr(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>jr(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:on(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(ms(i)?i:Promise.resolve(i));return fd(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),u=()=>o.addIssue({code:F.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(d=>d?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Br({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Cn.create(this,this._def)}nullable(){return Gr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $t.create(this)}promise(){return vs.create(this,this._def)}or(e){return hs.create([this,e],this._def)}and(e){return gs.create(this,e,this._def)}transform(e){return new Br({...X(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Na({...X(this._def),innerType:this,defaultValue:n,typeName:Y.ZodDefault})}brand(){return new a0({typeName:Y.ZodBranded,type:this,...X(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Sa({...X(this._def),innerType:this,catchValue:n,typeName:Y.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ju.create(this,e)}readonly(){return Ea.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $x=/^c[^\s-]{8,}$/i,Ox=/^[0-9a-z]+$/,Bx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Gx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zx=/^[a-z0-9_-]{21}$/i,qx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Hx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Wx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Jx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _l;const Yx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Zx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Qx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,e0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",t0=new RegExp(`^${dh}$`);function fh(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function n0(t){return new RegExp(`^${fh(t)}$`)}function r0(t){let e=`${dh}T${fh(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function i0(t,e){return!!((e==="v4"||!e)&&Yx.test(t)||(e==="v6"||!e)&&Zx.test(t))}function o0(t,e){if(!qx.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function s0(t,e){return!!((e==="v4"||!e)&&Kx.test(t)||(e==="v6"||!e)&&Qx.test(t))}class Ft extends ie{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==B.string){const o=this._getOrReturnCtx(e);return j(o,{code:F.invalid_type,expected:B.string,received:o.parsedType}),Z}const r=new Ze;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),j(i,{code:F.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),j(i,{code:F.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,u=e.data.length<o.value;(s||u)&&(i=this._getOrReturnCtx(e,i),s?j(i,{code:F.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&j(i,{code:F.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Wx.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"email",code:F.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")_l||(_l=new RegExp(Jx,"u")),_l.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"emoji",code:F.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Gx.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"uuid",code:F.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")zx.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"nanoid",code:F.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")$x.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"cuid",code:F.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Ox.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"cuid2",code:F.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Bx.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"ulid",code:F.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),j(i,{validation:"url",code:F.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"regex",code:F.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),j(i,{code:F.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),j(i,{code:F.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),j(i,{code:F.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?r0(o).test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{code:F.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?t0.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{code:F.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?n0(o).test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{code:F.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Hx.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"duration",code:F.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?i0(e.data,o.version)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"ip",code:F.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?o0(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"jwt",code:F.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?s0(e.data,o.version)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"cidr",code:F.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Xx.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"base64",code:F.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?e0.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"base64url",code:F.invalid_string,message:o.message}),r.dirty()):se.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:F.invalid_string,...G.errToObj(r)})}_addCheck(e){return new Ft({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...G.errToObj(e)})}url(e){return this._addCheck({kind:"url",...G.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...G.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...G.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...G.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...G.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...G.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...G.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...G.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...G.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...G.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...G.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...G.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...G.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...G.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...G.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...G.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...G.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...G.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...G.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...G.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...G.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...G.errToObj(n)})}nonempty(e){return this.min(1,G.errToObj(e))}trim(){return new Ft({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ft({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ft({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ft.create=t=>new Ft({checks:[],typeName:Y.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...X(t)});function l0(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}class er extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==B.number){const o=this._getOrReturnCtx(e);return j(o,{code:F.invalid_type,expected:B.number,received:o.parsedType}),Z}let r;const i=new Ze;for(const o of this._def.checks)o.kind==="int"?se.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{code:F.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),j(r,{code:F.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),j(r,{code:F.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?l0(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),j(r,{code:F.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{code:F.not_finite,message:o.message}),i.dirty()):se.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new er({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new er({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:G.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:G.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&se.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}er.create=t=>new er({checks:[],typeName:Y.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...X(t)});class tr extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==B.bigint)return this._getInvalidInput(e);let r;const i=new Ze;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),j(r,{code:F.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),j(r,{code:F.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),j(r,{code:F.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):se.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return j(n,{code:F.invalid_type,expected:B.bigint,received:n.parsedType}),Z}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new tr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new tr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}tr.create=t=>new tr({checks:[],typeName:Y.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...X(t)});class ps extends ie{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==B.boolean){const r=this._getOrReturnCtx(e);return j(r,{code:F.invalid_type,expected:B.boolean,received:r.parsedType}),Z}return Tt(e.data)}}ps.create=t=>new ps({typeName:Y.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...X(t)});class $r extends ie{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==B.date){const o=this._getOrReturnCtx(e);return j(o,{code:F.invalid_type,expected:B.date,received:o.parsedType}),Z}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return j(o,{code:F.invalid_date}),Z}const r=new Ze;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),j(i,{code:F.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),j(i,{code:F.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):se.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $r({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:G.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:G.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}$r.create=t=>new $r({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Y.ZodDate,...X(t)});class md extends ie{_parse(e){if(this._getType(e)!==B.symbol){const r=this._getOrReturnCtx(e);return j(r,{code:F.invalid_type,expected:B.symbol,received:r.parsedType}),Z}return Tt(e.data)}}md.create=t=>new md({typeName:Y.ZodSymbol,...X(t)});class pd extends ie{_parse(e){if(this._getType(e)!==B.undefined){const r=this._getOrReturnCtx(e);return j(r,{code:F.invalid_type,expected:B.undefined,received:r.parsedType}),Z}return Tt(e.data)}}pd.create=t=>new pd({typeName:Y.ZodUndefined,...X(t)});class hd extends ie{_parse(e){if(this._getType(e)!==B.null){const r=this._getOrReturnCtx(e);return j(r,{code:F.invalid_type,expected:B.null,received:r.parsedType}),Z}return Tt(e.data)}}hd.create=t=>new hd({typeName:Y.ZodNull,...X(t)});class gd extends ie{constructor(){super(...arguments),this._any=!0}_parse(e){return Tt(e.data)}}gd.create=t=>new gd({typeName:Y.ZodAny,...X(t)});class Ta extends ie{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Tt(e.data)}}Ta.create=t=>new Ta({typeName:Y.ZodUnknown,...X(t)});class _n extends ie{_parse(e){const n=this._getOrReturnCtx(e);return j(n,{code:F.invalid_type,expected:B.never,received:n.parsedType}),Z}}_n.create=t=>new _n({typeName:Y.ZodNever,...X(t)});class yd extends ie{_parse(e){if(this._getType(e)!==B.undefined){const r=this._getOrReturnCtx(e);return j(r,{code:F.invalid_type,expected:B.void,received:r.parsedType}),Z}return Tt(e.data)}}yd.create=t=>new yd({typeName:Y.ZodVoid,...X(t)});class $t extends ie{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==B.array)return j(n,{code:F.invalid_type,expected:B.array,received:n.parsedType}),Z;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(s||u)&&(j(n,{code:s?F.too_big:F.too_small,minimum:u?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(j(n,{code:F.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(j(n,{code:F.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>i.type._parseAsync(new Ot(n,s,n.path,u)))).then(s=>Ze.mergeArray(r,s));const o=[...n.data].map((s,u)=>i.type._parseSync(new Ot(n,s,n.path,u)));return Ze.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new $t({...this._def,minLength:{value:e,message:G.toString(n)}})}max(e,n){return new $t({...this._def,maxLength:{value:e,message:G.toString(n)}})}length(e,n){return new $t({...this._def,exactLength:{value:e,message:G.toString(n)}})}nonempty(e){return this.min(1,e)}}$t.create=(t,e)=>new $t({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...X(e)});function ur(t){if(t instanceof Pe){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Cn.create(ur(r))}return new Pe({...t._def,shape:()=>e})}else return t instanceof $t?new $t({...t._def,type:ur(t.element)}):t instanceof Cn?Cn.create(ur(t.unwrap())):t instanceof Gr?Gr.create(ur(t.unwrap())):t instanceof nr?nr.create(t.items.map(e=>ur(e))):t}class Pe extends ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=se.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==B.object){const f=this._getOrReturnCtx(e);return j(f,{code:F.invalid_type,expected:B.object,received:f.parsedType}),Z}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof _n&&this._def.unknownKeys==="strip"))for(const f in i.data)s.includes(f)||u.push(f);const d=[];for(const f of s){const m=o[f],p=i.data[f];d.push({key:{status:"valid",value:f},value:m._parse(new Ot(i,p,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof _n){const f=this._def.unknownKeys;if(f==="passthrough")for(const m of u)d.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(f==="strict")u.length>0&&(j(i,{code:F.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const m of u){const p=i.data[m];d.push({key:{status:"valid",value:m},value:f._parse(new Ot(i,p,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const m of d){const p=await m.key,h=await m.value;f.push({key:p,value:h,alwaysSet:m.alwaysSet})}return f}).then(f=>Ze.mergeObjectSync(r,f)):Ze.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return G.errToObj,new Pe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:G.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Pe({...this._def,unknownKeys:"strip"})}passthrough(){return new Pe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Y.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Pe({...this._def,catchall:e})}pick(e){const n={};for(const r of se.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Pe({...this._def,shape:()=>n})}omit(e){const n={};for(const r of se.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Pe({...this._def,shape:()=>n})}deepPartial(){return ur(this)}partial(e){const n={};for(const r of se.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Pe({...this._def,shape:()=>n})}required(e){const n={};for(const r of se.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Cn;)o=o._def.innerType;n[r]=o}return new Pe({...this._def,shape:()=>n})}keyof(){return mh(se.objectKeys(this.shape))}}Pe.create=(t,e)=>new Pe({shape:()=>t,unknownKeys:"strip",catchall:_n.create(),typeName:Y.ZodObject,...X(e)});Pe.strictCreate=(t,e)=>new Pe({shape:()=>t,unknownKeys:"strict",catchall:_n.create(),typeName:Y.ZodObject,...X(e)});Pe.lazycreate=(t,e)=>new Pe({shape:t,unknownKeys:"strip",catchall:_n.create(),typeName:Y.ZodObject,...X(e)});class hs extends ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=o.map(u=>new Zt(u.ctx.common.issues));return j(n,{code:F.invalid_union,unionErrors:s}),Z}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:f}),f.common.issues.length&&s.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=s.map(d=>new Zt(d));return j(n,{code:F.invalid_union,unionErrors:u}),Z}}get options(){return this._def.options}}hs.create=(t,e)=>new hs({options:t,typeName:Y.ZodUnion,...X(e)});function wa(t,e){const n=on(t),r=on(e);if(t===e)return{valid:!0,data:t};if(n===B.object&&r===B.object){const i=se.objectKeys(e),o=se.objectKeys(t).filter(u=>i.indexOf(u)!==-1),s={...t,...e};for(const u of o){const d=wa(t[u],e[u]);if(!d.valid)return{valid:!1};s[u]=d.data}return{valid:!0,data:s}}else if(n===B.array&&r===B.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],u=e[o],d=wa(s,u);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===B.date&&r===B.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gs extends ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(cd(o)||cd(s))return Z;const u=wa(o.value,s.value);return u.valid?((dd(o)||dd(s))&&n.dirty(),{status:n.value,value:u.data}):(j(r,{code:F.invalid_intersection_types}),Z)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gs.create=(t,e,n)=>new gs({left:t,right:e,typeName:Y.ZodIntersection,...X(n)});class nr extends ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.array)return j(r,{code:F.invalid_type,expected:B.array,received:r.parsedType}),Z;if(r.data.length<this._def.items.length)return j(r,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&r.data.length>this._def.items.length&&(j(r,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Ot(r,s,r.path,u)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Ze.mergeArray(n,s)):Ze.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new nr({...this._def,rest:e})}}nr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new nr({items:t,typeName:Y.ZodTuple,rest:null,...X(e)})};class ys extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.object)return j(r,{code:F.invalid_type,expected:B.object,received:r.parsedType}),Z;const i=[],o=this._def.keyType,s=this._def.valueType;for(const u in r.data)i.push({key:o._parse(new Ot(r,u,r.path,u)),value:s._parse(new Ot(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Ze.mergeObjectAsync(n,i):Ze.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ie?new ys({keyType:e,valueType:n,typeName:Y.ZodRecord,...X(r)}):new ys({keyType:Ft.create(),valueType:e,typeName:Y.ZodRecord,...X(n)})}}class vd extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.map)return j(r,{code:F.invalid_type,expected:B.map,received:r.parsedType}),Z;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([u,d],f)=>({key:i._parse(new Ot(r,u,r.path,[f,"key"])),value:o._parse(new Ot(r,d,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of s){const f=await d.key,m=await d.value;if(f.status==="aborted"||m.status==="aborted")return Z;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(f.value,m.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of s){const f=d.key,m=d.value;if(f.status==="aborted"||m.status==="aborted")return Z;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(f.value,m.value)}return{status:n.value,value:u}}}}vd.create=(t,e,n)=>new vd({valueType:e,keyType:t,typeName:Y.ZodMap,...X(n)});class Zi extends ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.set)return j(r,{code:F.invalid_type,expected:B.set,received:r.parsedType}),Z;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(j(r,{code:F.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(j(r,{code:F.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(d){const f=new Set;for(const m of d){if(m.status==="aborted")return Z;m.status==="dirty"&&n.dirty(),f.add(m.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((d,f)=>o._parse(new Ot(r,d,r.path,f)));return r.common.async?Promise.all(u).then(d=>s(d)):s(u)}min(e,n){return new Zi({...this._def,minSize:{value:e,message:G.toString(n)}})}max(e,n){return new Zi({...this._def,maxSize:{value:e,message:G.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Zi.create=(t,e)=>new Zi({valueType:t,minSize:null,maxSize:null,typeName:Y.ZodSet,...X(e)});class _a extends ie{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_a.create=(t,e)=>new _a({getter:t,typeName:Y.ZodLazy,...X(e)});class xd extends ie{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return j(n,{received:n.data,code:F.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}}xd.create=(t,e)=>new xd({value:t,typeName:Y.ZodLiteral,...X(e)});function mh(t,e){return new Or({values:t,typeName:Y.ZodEnum,...X(e)})}class Or extends ie{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return j(n,{expected:se.joinValues(r),received:n.parsedType,code:F.invalid_type}),Z}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return j(n,{received:n.data,code:F.invalid_enum_value,options:r}),Z}return Tt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Or.create(e,{...this._def,...n})}exclude(e,n=this._def){return Or.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Or.create=mh;class Cd extends ie{_parse(e){const n=se.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==B.string&&r.parsedType!==B.number){const i=se.objectValues(n);return j(r,{expected:se.joinValues(i),received:r.parsedType,code:F.invalid_type}),Z}if(this._cache||(this._cache=new Set(se.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=se.objectValues(n);return j(r,{received:r.data,code:F.invalid_enum_value,options:i}),Z}return Tt(e.data)}get enum(){return this._def.values}}Cd.create=(t,e)=>new Cd({values:t,typeName:Y.ZodNativeEnum,...X(e)});class vs extends ie{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==B.promise&&n.common.async===!1)return j(n,{code:F.invalid_type,expected:B.promise,received:n.parsedType}),Z;const r=n.parsedType===B.promise?n.data:Promise.resolve(n.data);return Tt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}vs.create=(t,e)=>new vs({type:t,typeName:Y.ZodPromise,...X(e)});class Br extends ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{j(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async u=>{if(n.value==="aborted")return Z;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?Z:d.status==="dirty"||n.value==="dirty"?yi(d.value):d});{if(n.value==="aborted")return Z;const u=this._def.schema._parseSync({data:s,path:r.path,parent:r});return u.status==="aborted"?Z:u.status==="dirty"||n.value==="dirty"?yi(u.value):u}}if(i.type==="refinement"){const s=u=>{const d=i.refinement(u,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Z:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Z:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!jr(s))return Z;const u=i.transform(s.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>jr(s)?Promise.resolve(i.transform(s.value,o)).then(u=>({status:n.value,value:u})):Z);se.assertNever(i)}}Br.create=(t,e,n)=>new Br({schema:t,typeName:Y.ZodEffects,effect:e,...X(n)});Br.createWithPreprocess=(t,e,n)=>new Br({schema:e,effect:{type:"preprocess",transform:t},typeName:Y.ZodEffects,...X(n)});class Cn extends ie{_parse(e){return this._getType(e)===B.undefined?Tt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cn.create=(t,e)=>new Cn({innerType:t,typeName:Y.ZodOptional,...X(e)});class Gr extends ie{_parse(e){return this._getType(e)===B.null?Tt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gr.create=(t,e)=>new Gr({innerType:t,typeName:Y.ZodNullable,...X(e)});class Na extends ie{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===B.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Na.create=(t,e)=>new Na({innerType:t,typeName:Y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...X(e)});class Sa extends ie{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ms(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Zt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Sa.create=(t,e)=>new Sa({innerType:t,typeName:Y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...X(e)});class Td extends ie{_parse(e){if(this._getType(e)!==B.nan){const r=this._getOrReturnCtx(e);return j(r,{code:F.invalid_type,expected:B.nan,received:r.parsedType}),Z}return{status:"valid",value:e.data}}}Td.create=t=>new Td({typeName:Y.ZodNaN,...X(t)});class a0 extends ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ju extends ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Z:o.status==="dirty"?(n.dirty(),yi(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Z:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new ju({in:e,out:n,typeName:Y.ZodPipeline})}}class Ea extends ie{_parse(e){const n=this._def.innerType._parse(e),r=i=>(jr(i)&&(i.value=Object.freeze(i.value)),i);return ms(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Ea.create=(t,e)=>new Ea({innerType:t,typeName:Y.ZodReadonly,...X(e)});var Y;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Y||(Y={}));const Fn=Ft.create,wd=er.create;tr.create;const u0=ps.create;$r.create;const _d=Ta.create;_n.create;const vi=$t.create,c0=Pe.create,d0=hs.create;gs.create;nr.create;const f0=ys.create,m0=_a.create,p0=Or.create;vs.create;Cn.create;Gr.create;const ar={string:t=>Ft.create({...t,coerce:!0}),number:t=>er.create({...t,coerce:!0}),boolean:t=>ps.create({...t,coerce:!0}),bigint:t=>tr.create({...t,coerce:!0}),date:t=>$r.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let h0,g0;function y0(){return{geminiUrl:h0,vertexUrl:g0}}function v0(t,e,n){var r,i,o;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=y0();return t.vertexai?(i=s.vertexUrl)!==null&&i!==void 0?i:e:(o=s.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kr{}function J(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const m=d[f];a(m,e.slice(o+1),n[f])}else for(const f of d)a(f,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];a(d[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>l(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Nd;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Nd||(Nd={}));var Sd;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Sd||(Sd={}));var Vt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Vt||(Vt={}));var Ed;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ed||(Ed={}));var Id;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Id||(Id={}));var Ad;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ad||(Ad={}));var kd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(kd||(kd={}));var Md;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Md||(Md={}));var Pd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Pd||(Pd={}));var Rd;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Rd||(Rd={}));var bd;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bd||(bd={}));var Dd;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Dd||(Dd={}));var Ld;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ld||(Ld={}));var xs;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xs||(xs={}));var Fd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fd||(Fd={}));var Ia;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ia||(Ia={}));var Vd;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Vd||(Vd={}));var Ud;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ud||(Ud={}));var jd;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(jd||(jd={}));var $d;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($d||($d={}));var Od;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Od||(Od={}));var Bd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Bd||(Bd={}));var Gd;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Gd||(Gd={}));var zd;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(zd||(zd={}));var qd;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(qd||(qd={}));var Hd;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Hd||(Hd={}));var Wd;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wd||(Wd={}));var Jd;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Jd||(Jd={}));var Yd;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yd||(Yd={}));var Kd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Kd||(Kd={}));var Zd;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Zd||(Zd={}));var Qd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Qd||(Qd={}));var Xd;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xd||(Xd={}));var ef;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ef||(ef={}));var tf;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(tf||(tf={}));var nf;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nf||(nf={}));var rf;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(rf||(rf={}));var of;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(of||(of={}));var wr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(wr||(wr={}));class ci{get text(){var e,n,r,i,o,s,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",m=!1;const p=[];for(const h of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,y]of Object.entries(h))g!=="text"&&g!=="thought"&&(y!==null||y!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;m=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?f:void 0}get data(){var e,n,r,i,o,s,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const m=[];for(const p of(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&m.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,s,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,s,u,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,s,u,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(d=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.output}}class sf{}class lf{}class x0{}class C0{}class af{}class uf{}class cf{}class T0{}class df{}class ff{}class mf{}class w0{}class Aa{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class _0{}class N0{}class S0{get text(){var e,n,r;let i="",o=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class E0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ph(t,e){const n=fe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function hh(t,e){return Array.isArray(e)?e.map(n=>Cs(t,n)):[Cs(t,e)]}function Cs(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function I0(t,e){const n=Cs(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function A0(t,e){const n=Cs(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function pf(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function gh(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>pf(t,n)):[pf(t,e)]}function ka(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function hf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function gf(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ye(t,e){if(e==null)throw new Error("ContentUnion is required");return ka(e)?e:{role:"user",parts:gh(t,e)}}function yh(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ye(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ye(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ye(t,n)):[Ye(t,e)]}function Pt(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(hf(e)||gf(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ye(t,e)]}const n=[],r=[],i=ka(e[0]);for(const o of e){const s=ka(o);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(o);else{if(hf(o)||gf(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(o)}}return i||n.push({role:"user",parts:gh(t,r)}),n}const k0=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),yf=p0(["string","number","integer","object","array","boolean","null"]),M0=d0([yf,vi(yf)]);function P0(t=!0){const e=m0(()=>{const n=c0({type:M0.optional(),format:Fn().optional(),title:Fn().optional(),description:Fn().optional(),default:_d().optional(),items:e.optional(),minItems:ar.string().optional(),maxItems:ar.string().optional(),enum:vi(_d()).optional(),properties:f0(Fn(),e).optional(),required:vi(Fn()).optional(),minProperties:ar.string().optional(),maxProperties:ar.string().optional(),propertyOrdering:vi(Fn()).optional(),minimum:wd().optional(),maximum:wd().optional(),minLength:ar.string().optional(),maxLength:ar.string().optional(),pattern:Fn().optional(),anyOf:vi(e).optional(),additionalProperties:u0().optional()});return t?n.strict():n});return e}function R0(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Vt).includes(n[0].toUpperCase())?n[0].toUpperCase():Vt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Vt).includes(r.toUpperCase())?r.toUpperCase():Vt.TYPE_UNSPECIFIED})}}function kr(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&R0(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Vt).includes(u.toUpperCase())?u.toUpperCase():Vt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=kr(u);else if(r.includes(s)){const d=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}d.push(kr(f))}e[s]=d}else if(i.includes(s)){const d={};for(const[f,m]of Object.entries(u))d[f]=kr(m);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Ts(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=P0().parse(e);return kr(n)}else return kr(e)}function vh(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function $u(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function io(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=Ts(t,n.parameters)),n.response&&(n.response=Ts(t,n.response));return e}function oo(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function b0(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Mn(t,e){if(typeof e!="string")throw new Error("name must be a string");return b0(t,e,"cachedContents")}function xh(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Pn(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function D0(t){return t!=null&&typeof t=="object"&&"name"in t}function L0(t){return t!=null&&typeof t=="object"&&"video"in t}function F0(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ch(t,e){var n;let r;if(D0(e)&&(r=e.name),!(F0(e)&&(r=e.uri,r===void 0))&&!(L0(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const o=r.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${r}`);r=o[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Th(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function wh(t,e){for(const n of["models","tunedModels","publisherModels"])if(V0(e,n))return e[n];return[]}function V0(t,e){return t!==null&&typeof t=="object"&&e in t}function U0(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:kr($s(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function j0(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=U0(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function $0(t){const e=[];for(const n of t)e.push($s(n));return e}function O0(t){const e={};for(const[n,r]of Object.entries(t)){const i=r;e[n]=$s(i)}return e}function $s(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[o,s]of Object.entries(t))if(e.has(o))i[o]=$s(s);else if(n.has(o))i[o]=$0(s);else if(r.has(o))i[o]=O0(s);else if(o==="type"){const u=s.toUpperCase();i[o]=Object.values(Vt).includes(u)?u:Vt.TYPE_UNSPECIFIED}else k0.has(o)&&(i[o]=s);return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B0(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function G0(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function z0(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["fileUri"]);r!=null&&a(n,["fileUri"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function q0(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],B0(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],G0(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],z0(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function vf(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>q0(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function H0(t,e){const n={},r=l(e,["behavior"]);r!=null&&a(n,["behavior"],r);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const o=l(e,["name"]);o!=null&&a(n,["name"],o);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function W0(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const i=l(e,["endTime"]);return i!=null&&a(n,["endTime"],i),n}function J0(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],W0(t,r)),n}function Y0(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(n,["dynamicThreshold"],i),n}function K0(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],Y0(t,r)),n}function Z0(){return{}}function Q0(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>H0(t,f))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],J0(t,i));const o=l(e,["googleSearchRetrieval"]);if(o!=null&&a(n,["googleSearchRetrieval"],K0(t,o)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],Z0());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function X0(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(n,["allowedFunctionNames"],i),n}function eC(t,e){const n={},r=l(e,["latitude"]);r!=null&&a(n,["latitude"],r);const i=l(e,["longitude"]);return i!=null&&a(n,["longitude"],i),n}function tC(t,e){const n={},r=l(e,["latLng"]);r!=null&&a(n,["latLng"],eC(t,r));const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function nC(t,e){const n={},r=l(e,["functionCallingConfig"]);r!=null&&a(n,["functionCallingConfig"],X0(t,r));const i=l(e,["retrievalConfig"]);return i!=null&&a(n,["retrievalConfig"],tC(t,i)),n}function rC(t,e,n){const r={},i=l(e,["ttl"]);n!==void 0&&i!=null&&a(n,["ttl"],i);const o=l(e,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const s=l(e,["displayName"]);n!==void 0&&s!=null&&a(n,["displayName"],s);const u=l(e,["contents"]);if(n!==void 0&&u!=null){let p=Pt(t,u);Array.isArray(p)&&(p=p.map(h=>vf(t,h))),a(n,["contents"],p)}const d=l(e,["systemInstruction"]);n!==void 0&&d!=null&&a(n,["systemInstruction"],vf(t,Ye(t,d)));const f=l(e,["tools"]);if(n!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>Q0(t,h))),a(n,["tools"],p)}const m=l(e,["toolConfig"]);if(n!==void 0&&m!=null&&a(n,["toolConfig"],nC(t,m)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function iC(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],ph(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],rC(t,i,n)),n}function oC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Mn(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function sC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Mn(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function lC(t,e,n){const r={},i=l(e,["ttl"]);n!==void 0&&i!=null&&a(n,["ttl"],i);const o=l(e,["expireTime"]);return n!==void 0&&o!=null&&a(n,["expireTime"],o),r}function aC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Mn(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],lC(t,i,n)),n}function uC(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=l(e,["pageToken"]);return n!==void 0&&o!=null&&a(n,["_query","pageToken"],o),r}function cC(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],uC(t,r,n)),n}function dC(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function fC(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["data"]);i!=null&&a(n,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function mC(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["fileUri"]);i!=null&&a(n,["fileUri"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function pC(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],dC(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],fC(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],mC(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function xf(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>pC(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function hC(t,e){const n={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(e,["description"]);r!=null&&a(n,["description"],r);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const o=l(e,["parameters"]);o!=null&&a(n,["parameters"],o);const s=l(e,["response"]);return s!=null&&a(n,["response"],s),n}function gC(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const i=l(e,["endTime"]);return i!=null&&a(n,["endTime"],i),n}function yC(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],gC(t,r)),n}function vC(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(n,["dynamicThreshold"],i),n}function xC(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],vC(t,r)),n}function CC(){return{}}function TC(t,e){const n={},r=l(e,["apiKeyString"]);return r!=null&&a(n,["apiKeyString"],r),n}function wC(t,e){const n={},r=l(e,["apiKeyConfig"]);r!=null&&a(n,["apiKeyConfig"],TC(t,r));const i=l(e,["authType"]);i!=null&&a(n,["authType"],i);const o=l(e,["googleServiceAccountConfig"]);o!=null&&a(n,["googleServiceAccountConfig"],o);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(n,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=l(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function _C(t,e){const n={},r=l(e,["authConfig"]);return r!=null&&a(n,["authConfig"],wC(t,r)),n}function NC(){return{}}function SC(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>hC(t,h))),a(n,["functionDeclarations"],p)}const i=l(e,["retrieval"]);i!=null&&a(n,["retrieval"],i);const o=l(e,["googleSearch"]);o!=null&&a(n,["googleSearch"],yC(t,o));const s=l(e,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],xC(t,s)),l(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],CC());const d=l(e,["googleMaps"]);d!=null&&a(n,["googleMaps"],_C(t,d)),l(e,["urlContext"])!=null&&a(n,["urlContext"],NC());const m=l(e,["codeExecution"]);return m!=null&&a(n,["codeExecution"],m),n}function EC(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(n,["allowedFunctionNames"],i),n}function IC(t,e){const n={},r=l(e,["latitude"]);r!=null&&a(n,["latitude"],r);const i=l(e,["longitude"]);return i!=null&&a(n,["longitude"],i),n}function AC(t,e){const n={},r=l(e,["latLng"]);r!=null&&a(n,["latLng"],IC(t,r));const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function kC(t,e){const n={},r=l(e,["functionCallingConfig"]);r!=null&&a(n,["functionCallingConfig"],EC(t,r));const i=l(e,["retrievalConfig"]);return i!=null&&a(n,["retrievalConfig"],AC(t,i)),n}function MC(t,e,n){const r={},i=l(e,["ttl"]);n!==void 0&&i!=null&&a(n,["ttl"],i);const o=l(e,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const s=l(e,["displayName"]);n!==void 0&&s!=null&&a(n,["displayName"],s);const u=l(e,["contents"]);if(n!==void 0&&u!=null){let h=Pt(t,u);Array.isArray(h)&&(h=h.map(g=>xf(t,g))),a(n,["contents"],h)}const d=l(e,["systemInstruction"]);n!==void 0&&d!=null&&a(n,["systemInstruction"],xf(t,Ye(t,d)));const f=l(e,["tools"]);if(n!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>SC(t,g))),a(n,["tools"],h)}const m=l(e,["toolConfig"]);n!==void 0&&m!=null&&a(n,["toolConfig"],kC(t,m));const p=l(e,["kmsKeyName"]);return n!==void 0&&p!=null&&a(n,["encryption_spec","kmsKeyName"],p),r}function PC(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],ph(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],MC(t,i,n)),n}function RC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Mn(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function bC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Mn(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function DC(t,e,n){const r={},i=l(e,["ttl"]);n!==void 0&&i!=null&&a(n,["ttl"],i);const o=l(e,["expireTime"]);return n!==void 0&&o!=null&&a(n,["expireTime"],o),r}function LC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Mn(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],DC(t,i,n)),n}function FC(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=l(e,["pageToken"]);return n!==void 0&&o!=null&&a(n,["_query","pageToken"],o),r}function VC(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],FC(t,r,n)),n}function Uo(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["displayName"]);i!=null&&a(n,["displayName"],i);const o=l(e,["model"]);o!=null&&a(n,["model"],o);const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["updateTime"]);u!=null&&a(n,["updateTime"],u);const d=l(e,["expireTime"]);d!=null&&a(n,["expireTime"],d);const f=l(e,["usageMetadata"]);return f!=null&&a(n,["usageMetadata"],f),n}function UC(){return{}}function jC(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Uo(t,s))),a(n,["cachedContents"],o)}return n}function jo(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["displayName"]);i!=null&&a(n,["displayName"],i);const o=l(e,["model"]);o!=null&&a(n,["model"],o);const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["updateTime"]);u!=null&&a(n,["updateTime"],u);const d=l(e,["expireTime"]);d!=null&&a(n,["expireTime"],d);const f=l(e,["usageMetadata"]);return f!=null&&a(n,["usageMetadata"],f),n}function $C(){return{}}function OC(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>jo(t,s))),a(n,["cachedContents"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(zr||(zr={}));class Os{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC extends Kr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Os(zr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=PC(this.apiClient,e);return u=J("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>jo(this.apiClient,m))}else{const f=iC(this.apiClient,e);return u=J("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>Uo(this.apiClient,m))}}async get(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=RC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>jo(this.apiClient,m))}else{const f=oC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>Uo(this.apiClient,m))}}async delete(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=bC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(()=>{const m=$C(),p=new ff;return Object.assign(p,m),p})}else{const f=sC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(()=>{const m=UC(),p=new ff;return Object.assign(p,m),p})}}async update(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=LC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>jo(this.apiClient,m))}else{const f=aC(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>Uo(this.apiClient,m))}}async listInternal(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=VC(this.apiClient,e);return u=J("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>{const p=OC(this.apiClient,m),h=new mf;return Object.assign(h,p),h})}else{const f=cC(this.apiClient,e);return u=J("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>{const p=jC(this.apiClient,m),h=new mf;return Object.assign(h,p),h})}}}function Cf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(t){return this instanceof he?(this.v=t,this):new he(t)}function Mr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(y){return Promise.resolve(y).then(g,p)}}function u(g,y){r[g]&&(i[g]=function(x){return new Promise(function(S,C){o.push([g,x,S,C])>1||d(g,x)})},y&&(i[g]=y(i[g])))}function d(g,y){try{f(r[g](y))}catch(x){h(o[0][3],x)}}function f(g){g.value instanceof he?Promise.resolve(g.value.v).then(m,p):h(o[0][2],g)}function m(g){d("next",g)}function p(g){d("throw",g)}function h(g,y){g(y),o.shift(),o.length&&d(o[0][0],o[0][1])}}function ki(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cf=="function"?Cf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(u,d){s=t[o](s),i(u,d,s.done,s.value)})}}function i(o,s,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:_h(n)}function _h(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function zC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Tf(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!_h(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class qC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new HC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class HC{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),zC(o)}async sendMessage(e){var n;await this.sendPromise;const r=Ye(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const d=await i,f=(s=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,m=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];m!=null&&(h=(u=m.slice(p))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Ye(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Tf(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Mr(this,arguments,function*(){var s,u,d,f;const m=[];try{for(var p=!0,h=ki(e),g;g=yield he(h.next()),s=g.done,!s;p=!0){f=g.value,p=!1;const y=f;if(GC(y)){const x=(i=(r=y.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;x!==void 0&&m.push(x)}yield yield he(y)}}catch(y){u={error:y}}finally{try{!p&&!s&&(d=h.return)&&(yield he(d.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,m)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Tf(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=l(e,["pageToken"]);return n!==void 0&&o!=null&&a(n,["_query","pageToken"],o),r}function JC(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],WC(t,r,n)),n}function YC(t,e){const n={},r=l(e,["details"]);r!=null&&a(n,["details"],r);const i=l(e,["message"]);i!=null&&a(n,["message"],i);const o=l(e,["code"]);return o!=null&&a(n,["code"],o),n}function KC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["displayName"]);i!=null&&a(n,["displayName"],i);const o=l(e,["mimeType"]);o!=null&&a(n,["mimeType"],o);const s=l(e,["sizeBytes"]);s!=null&&a(n,["sizeBytes"],s);const u=l(e,["createTime"]);u!=null&&a(n,["createTime"],u);const d=l(e,["expirationTime"]);d!=null&&a(n,["expirationTime"],d);const f=l(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const m=l(e,["sha256Hash"]);m!=null&&a(n,["sha256Hash"],m);const p=l(e,["uri"]);p!=null&&a(n,["uri"],p);const h=l(e,["downloadUri"]);h!=null&&a(n,["downloadUri"],h);const g=l(e,["state"]);g!=null&&a(n,["state"],g);const y=l(e,["source"]);y!=null&&a(n,["source"],y);const x=l(e,["videoMetadata"]);x!=null&&a(n,["videoMetadata"],x);const S=l(e,["error"]);return S!=null&&a(n,["error"],YC(t,S)),n}function ZC(t,e){const n={},r=l(e,["file"]);r!=null&&a(n,["file"],KC(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function QC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","file"],Ch(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function XC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","file"],Ch(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function eT(t,e){const n={},r=l(e,["details"]);r!=null&&a(n,["details"],r);const i=l(e,["message"]);i!=null&&a(n,["message"],i);const o=l(e,["code"]);return o!=null&&a(n,["code"],o),n}function Ma(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["displayName"]);i!=null&&a(n,["displayName"],i);const o=l(e,["mimeType"]);o!=null&&a(n,["mimeType"],o);const s=l(e,["sizeBytes"]);s!=null&&a(n,["sizeBytes"],s);const u=l(e,["createTime"]);u!=null&&a(n,["createTime"],u);const d=l(e,["expirationTime"]);d!=null&&a(n,["expirationTime"],d);const f=l(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const m=l(e,["sha256Hash"]);m!=null&&a(n,["sha256Hash"],m);const p=l(e,["uri"]);p!=null&&a(n,["uri"],p);const h=l(e,["downloadUri"]);h!=null&&a(n,["downloadUri"],h);const g=l(e,["state"]);g!=null&&a(n,["state"],g);const y=l(e,["source"]);y!=null&&a(n,["source"],y);const x=l(e,["videoMetadata"]);x!=null&&a(n,["videoMetadata"],x);const S=l(e,["error"]);return S!=null&&a(n,["error"],eT(t,S)),n}function tT(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ma(t,s))),a(n,["files"],o)}return n}function nT(){return{}}function rT(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iT extends Kr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Os(zr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ma(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=JC(this.apiClient,e);return o=J("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=tT(this.apiClient,d),m=new w0;return Object.assign(m,f),m})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZC(this.apiClient,e);return o=J("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(()=>{const d=nT(),f=new _0;return Object.assign(f,d),f})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QC(this.apiClient,e);return o=J("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>Ma(this.apiClient,d))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=XC(this.apiClient,e);return o=J("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(()=>{const d=rT(),f=new N0;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oT(t,e){const n={},r=l(e,["voiceName"]);return r!=null&&a(n,["voiceName"],r),n}function sT(t,e){const n={},r=l(e,["voiceName"]);return r!=null&&a(n,["voiceName"],r),n}function Nh(t,e){const n={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(n,["prebuiltVoiceConfig"],oT(t,r)),n}function lT(t,e){const n={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(n,["prebuiltVoiceConfig"],sT(t,r)),n}function aT(t,e){const n={},r=l(e,["speaker"]);r!=null&&a(n,["speaker"],r);const i=l(e,["voiceConfig"]);return i!=null&&a(n,["voiceConfig"],Nh(t,i)),n}function uT(t,e){const n={},r=l(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>aT(t,o))),a(n,["speakerVoiceConfigs"],i)}return n}function cT(t,e){const n={},r=l(e,["voiceConfig"]);r!=null&&a(n,["voiceConfig"],Nh(t,r));const i=l(e,["multiSpeakerVoiceConfig"]);i!=null&&a(n,["multiSpeakerVoiceConfig"],uT(t,i));const o=l(e,["languageCode"]);return o!=null&&a(n,["languageCode"],o),n}function dT(t,e){const n={},r=l(e,["voiceConfig"]);if(r!=null&&a(n,["voiceConfig"],lT(t,r)),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function fT(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function mT(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function pT(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function hT(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["data"]);i!=null&&a(n,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function gT(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["fileUri"]);r!=null&&a(n,["fileUri"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function yT(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["fileUri"]);i!=null&&a(n,["fileUri"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function vT(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],fT(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],pT(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],gT(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function xT(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],mT(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],hT(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],yT(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function CT(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>vT(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function TT(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>xT(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function wT(t,e){const n={},r=l(e,["behavior"]);r!=null&&a(n,["behavior"],r);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const o=l(e,["name"]);o!=null&&a(n,["name"],o);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function _T(t,e){const n={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(e,["description"]);r!=null&&a(n,["description"],r);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const o=l(e,["parameters"]);o!=null&&a(n,["parameters"],o);const s=l(e,["response"]);return s!=null&&a(n,["response"],s),n}function NT(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const i=l(e,["endTime"]);return i!=null&&a(n,["endTime"],i),n}function ST(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const i=l(e,["endTime"]);return i!=null&&a(n,["endTime"],i),n}function ET(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],NT(t,r)),n}function IT(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],ST(t,r)),n}function AT(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(n,["dynamicThreshold"],i),n}function kT(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(n,["dynamicThreshold"],i),n}function MT(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],AT(t,r)),n}function PT(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],kT(t,r)),n}function RT(){return{}}function bT(t,e){const n={},r=l(e,["apiKeyString"]);return r!=null&&a(n,["apiKeyString"],r),n}function DT(t,e){const n={},r=l(e,["apiKeyConfig"]);r!=null&&a(n,["apiKeyConfig"],bT(t,r));const i=l(e,["authType"]);i!=null&&a(n,["authType"],i);const o=l(e,["googleServiceAccountConfig"]);o!=null&&a(n,["googleServiceAccountConfig"],o);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(n,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=l(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function LT(t,e){const n={},r=l(e,["authConfig"]);return r!=null&&a(n,["authConfig"],DT(t,r)),n}function FT(){return{}}function VT(){return{}}function UT(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>wT(t,f))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],ET(t,i));const o=l(e,["googleSearchRetrieval"]);if(o!=null&&a(n,["googleSearchRetrieval"],MT(t,o)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],FT());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function jT(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>_T(t,h))),a(n,["functionDeclarations"],p)}const i=l(e,["retrieval"]);i!=null&&a(n,["retrieval"],i);const o=l(e,["googleSearch"]);o!=null&&a(n,["googleSearch"],IT(t,o));const s=l(e,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],PT(t,s)),l(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],RT());const d=l(e,["googleMaps"]);d!=null&&a(n,["googleMaps"],LT(t,d)),l(e,["urlContext"])!=null&&a(n,["urlContext"],VT());const m=l(e,["codeExecution"]);return m!=null&&a(n,["codeExecution"],m),n}function $T(t,e){const n={},r=l(e,["handle"]);if(r!=null&&a(n,["handle"],r),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function OT(t,e){const n={},r=l(e,["handle"]);r!=null&&a(n,["handle"],r);const i=l(e,["transparent"]);return i!=null&&a(n,["transparent"],i),n}function wf(){return{}}function _f(){return{}}function BT(t,e){const n={},r=l(e,["disabled"]);r!=null&&a(n,["disabled"],r);const i=l(e,["startOfSpeechSensitivity"]);i!=null&&a(n,["startOfSpeechSensitivity"],i);const o=l(e,["endOfSpeechSensitivity"]);o!=null&&a(n,["endOfSpeechSensitivity"],o);const s=l(e,["prefixPaddingMs"]);s!=null&&a(n,["prefixPaddingMs"],s);const u=l(e,["silenceDurationMs"]);return u!=null&&a(n,["silenceDurationMs"],u),n}function GT(t,e){const n={},r=l(e,["disabled"]);r!=null&&a(n,["disabled"],r);const i=l(e,["startOfSpeechSensitivity"]);i!=null&&a(n,["startOfSpeechSensitivity"],i);const o=l(e,["endOfSpeechSensitivity"]);o!=null&&a(n,["endOfSpeechSensitivity"],o);const s=l(e,["prefixPaddingMs"]);s!=null&&a(n,["prefixPaddingMs"],s);const u=l(e,["silenceDurationMs"]);return u!=null&&a(n,["silenceDurationMs"],u),n}function zT(t,e){const n={},r=l(e,["automaticActivityDetection"]);r!=null&&a(n,["automaticActivityDetection"],BT(t,r));const i=l(e,["activityHandling"]);i!=null&&a(n,["activityHandling"],i);const o=l(e,["turnCoverage"]);return o!=null&&a(n,["turnCoverage"],o),n}function qT(t,e){const n={},r=l(e,["automaticActivityDetection"]);r!=null&&a(n,["automaticActivityDetection"],GT(t,r));const i=l(e,["activityHandling"]);i!=null&&a(n,["activityHandling"],i);const o=l(e,["turnCoverage"]);return o!=null&&a(n,["turnCoverage"],o),n}function HT(t,e){const n={},r=l(e,["targetTokens"]);return r!=null&&a(n,["targetTokens"],r),n}function WT(t,e){const n={},r=l(e,["targetTokens"]);return r!=null&&a(n,["targetTokens"],r),n}function JT(t,e){const n={},r=l(e,["triggerTokens"]);r!=null&&a(n,["triggerTokens"],r);const i=l(e,["slidingWindow"]);return i!=null&&a(n,["slidingWindow"],HT(t,i)),n}function YT(t,e){const n={},r=l(e,["triggerTokens"]);r!=null&&a(n,["triggerTokens"],r);const i=l(e,["slidingWindow"]);return i!=null&&a(n,["slidingWindow"],WT(t,i)),n}function KT(t,e){const n={},r=l(e,["proactiveAudio"]);return r!=null&&a(n,["proactiveAudio"],r),n}function ZT(t,e){const n={},r=l(e,["proactiveAudio"]);return r!=null&&a(n,["proactiveAudio"],r),n}function QT(t,e,n){const r={},i=l(e,["generationConfig"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig"],i);const o=l(e,["responseModalities"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig","responseModalities"],o);const s=l(e,["temperature"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topP"],u);const d=l(e,["topK"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","topK"],d);const f=l(e,["maxOutputTokens"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","maxOutputTokens"],f);const m=l(e,["mediaResolution"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","mediaResolution"],m);const p=l(e,["seed"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","speechConfig"],cT(t,$u(t,h)));const g=l(e,["enableAffectiveDialog"]);n!==void 0&&g!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],g);const y=l(e,["systemInstruction"]);n!==void 0&&y!=null&&a(n,["setup","systemInstruction"],CT(t,Ye(t,y)));const x=l(e,["tools"]);if(n!==void 0&&x!=null){let _=oo(t,x);Array.isArray(_)&&(_=_.map(D=>UT(t,io(t,D)))),a(n,["setup","tools"],_)}const S=l(e,["sessionResumption"]);n!==void 0&&S!=null&&a(n,["setup","sessionResumption"],$T(t,S));const C=l(e,["inputAudioTranscription"]);n!==void 0&&C!=null&&a(n,["setup","inputAudioTranscription"],wf());const T=l(e,["outputAudioTranscription"]);n!==void 0&&T!=null&&a(n,["setup","outputAudioTranscription"],wf());const v=l(e,["realtimeInputConfig"]);n!==void 0&&v!=null&&a(n,["setup","realtimeInputConfig"],zT(t,v));const I=l(e,["contextWindowCompression"]);n!==void 0&&I!=null&&a(n,["setup","contextWindowCompression"],JT(t,I));const R=l(e,["proactivity"]);return n!==void 0&&R!=null&&a(n,["setup","proactivity"],KT(t,R)),r}function XT(t,e,n){const r={},i=l(e,["generationConfig"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig"],i);const o=l(e,["responseModalities"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig","responseModalities"],o);const s=l(e,["temperature"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topP"],u);const d=l(e,["topK"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","topK"],d);const f=l(e,["maxOutputTokens"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","maxOutputTokens"],f);const m=l(e,["mediaResolution"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","mediaResolution"],m);const p=l(e,["seed"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","speechConfig"],dT(t,$u(t,h)));const g=l(e,["enableAffectiveDialog"]);n!==void 0&&g!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],g);const y=l(e,["systemInstruction"]);n!==void 0&&y!=null&&a(n,["setup","systemInstruction"],TT(t,Ye(t,y)));const x=l(e,["tools"]);if(n!==void 0&&x!=null){let _=oo(t,x);Array.isArray(_)&&(_=_.map(D=>jT(t,io(t,D)))),a(n,["setup","tools"],_)}const S=l(e,["sessionResumption"]);n!==void 0&&S!=null&&a(n,["setup","sessionResumption"],OT(t,S));const C=l(e,["inputAudioTranscription"]);n!==void 0&&C!=null&&a(n,["setup","inputAudioTranscription"],_f());const T=l(e,["outputAudioTranscription"]);n!==void 0&&T!=null&&a(n,["setup","outputAudioTranscription"],_f());const v=l(e,["realtimeInputConfig"]);n!==void 0&&v!=null&&a(n,["setup","realtimeInputConfig"],qT(t,v));const I=l(e,["contextWindowCompression"]);n!==void 0&&I!=null&&a(n,["setup","contextWindowCompression"],YT(t,I));const R=l(e,["proactivity"]);return n!==void 0&&R!=null&&a(n,["setup","proactivity"],ZT(t,R)),r}function ew(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],fe(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],QT(t,i,n)),n}function tw(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],fe(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],XT(t,i,n)),n}function nw(){return{}}function rw(){return{}}function iw(){return{}}function ow(){return{}}function sw(t,e){const n={},r=l(e,["media"]);r!=null&&a(n,["mediaChunks"],hh(t,r));const i=l(e,["audio"]);i!=null&&a(n,["audio"],A0(t,i));const o=l(e,["audioStreamEnd"]);o!=null&&a(n,["audioStreamEnd"],o);const s=l(e,["video"]);s!=null&&a(n,["video"],I0(t,s));const u=l(e,["text"]);return u!=null&&a(n,["text"],u),l(e,["activityStart"])!=null&&a(n,["activityStart"],nw()),l(e,["activityEnd"])!=null&&a(n,["activityEnd"],iw()),n}function lw(t,e){const n={},r=l(e,["media"]);if(r!=null&&a(n,["mediaChunks"],hh(t,r)),l(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=l(e,["audioStreamEnd"]);if(i!=null&&a(n,["audioStreamEnd"],i),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(l(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return l(e,["activityStart"])!=null&&a(n,["activityStart"],rw()),l(e,["activityEnd"])!=null&&a(n,["activityEnd"],ow()),n}function Sh(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const i=l(e,["weight"]);return i!=null&&a(n,["weight"],i),n}function aw(t,e){const n={},r=l(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Sh(t,o))),a(n,["weightedPrompts"],i)}return n}function Eh(t,e){const n={},r=l(e,["temperature"]);r!=null&&a(n,["temperature"],r);const i=l(e,["topK"]);i!=null&&a(n,["topK"],i);const o=l(e,["seed"]);o!=null&&a(n,["seed"],o);const s=l(e,["guidance"]);s!=null&&a(n,["guidance"],s);const u=l(e,["bpm"]);u!=null&&a(n,["bpm"],u);const d=l(e,["density"]);d!=null&&a(n,["density"],d);const f=l(e,["brightness"]);f!=null&&a(n,["brightness"],f);const m=l(e,["scale"]);m!=null&&a(n,["scale"],m);const p=l(e,["muteBass"]);p!=null&&a(n,["muteBass"],p);const h=l(e,["muteDrums"]);h!=null&&a(n,["muteDrums"],h);const g=l(e,["onlyBassAndDrums"]);return g!=null&&a(n,["onlyBassAndDrums"],g),n}function uw(t,e){const n={},r=l(e,["musicGenerationConfig"]);return r!=null&&a(n,["musicGenerationConfig"],Eh(t,r)),n}function Ih(t,e){const n={},r=l(e,["model"]);return r!=null&&a(n,["model"],r),n}function Ah(t,e){const n={},r=l(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Sh(t,o))),a(n,["weightedPrompts"],i)}return n}function Pa(t,e){const n={},r=l(e,["setup"]);r!=null&&a(n,["setup"],Ih(t,r));const i=l(e,["clientContent"]);i!=null&&a(n,["clientContent"],Ah(t,i));const o=l(e,["musicGenerationConfig"]);o!=null&&a(n,["musicGenerationConfig"],Eh(t,o));const s=l(e,["playbackControl"]);return s!=null&&a(n,["playbackControl"],s),n}function cw(){return{}}function dw(){return{}}function fw(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function mw(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function pw(t,e){const n={},r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function hw(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["data"]);i!=null&&a(n,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function gw(t,e){const n={},r=l(e,["fileUri"]);r!=null&&a(n,["fileUri"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function yw(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["fileUri"]);i!=null&&a(n,["fileUri"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function vw(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],fw(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],pw(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],gw(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function xw(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],mw(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],hw(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],yw(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function Cw(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>vw(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function Tw(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>xw(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function Nf(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const i=l(e,["finished"]);return i!=null&&a(n,["finished"],i),n}function Sf(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const i=l(e,["finished"]);return i!=null&&a(n,["finished"],i),n}function ww(t,e){const n={},r=l(e,["retrievedUrl"]);r!=null&&a(n,["retrievedUrl"],r);const i=l(e,["urlRetrievalStatus"]);return i!=null&&a(n,["urlRetrievalStatus"],i),n}function _w(t,e){const n={},r=l(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ww(t,o))),a(n,["urlMetadata"],i)}return n}function Nw(t,e){const n={},r=l(e,["modelTurn"]);r!=null&&a(n,["modelTurn"],Cw(t,r));const i=l(e,["turnComplete"]);i!=null&&a(n,["turnComplete"],i);const o=l(e,["interrupted"]);o!=null&&a(n,["interrupted"],o);const s=l(e,["groundingMetadata"]);s!=null&&a(n,["groundingMetadata"],s);const u=l(e,["generationComplete"]);u!=null&&a(n,["generationComplete"],u);const d=l(e,["inputTranscription"]);d!=null&&a(n,["inputTranscription"],Nf(t,d));const f=l(e,["outputTranscription"]);f!=null&&a(n,["outputTranscription"],Nf(t,f));const m=l(e,["urlContextMetadata"]);return m!=null&&a(n,["urlContextMetadata"],_w(t,m)),n}function Sw(t,e){const n={},r=l(e,["modelTurn"]);r!=null&&a(n,["modelTurn"],Tw(t,r));const i=l(e,["turnComplete"]);i!=null&&a(n,["turnComplete"],i);const o=l(e,["interrupted"]);o!=null&&a(n,["interrupted"],o);const s=l(e,["groundingMetadata"]);s!=null&&a(n,["groundingMetadata"],s);const u=l(e,["generationComplete"]);u!=null&&a(n,["generationComplete"],u);const d=l(e,["inputTranscription"]);d!=null&&a(n,["inputTranscription"],Sf(t,d));const f=l(e,["outputTranscription"]);return f!=null&&a(n,["outputTranscription"],Sf(t,f)),n}function Ew(t,e){const n={},r=l(e,["id"]);r!=null&&a(n,["id"],r);const i=l(e,["args"]);i!=null&&a(n,["args"],i);const o=l(e,["name"]);return o!=null&&a(n,["name"],o),n}function Iw(t,e){const n={},r=l(e,["args"]);r!=null&&a(n,["args"],r);const i=l(e,["name"]);return i!=null&&a(n,["name"],i),n}function Aw(t,e){const n={},r=l(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ew(t,o))),a(n,["functionCalls"],i)}return n}function kw(t,e){const n={},r=l(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Iw(t,o))),a(n,["functionCalls"],i)}return n}function Mw(t,e){const n={},r=l(e,["ids"]);return r!=null&&a(n,["ids"],r),n}function Pw(t,e){const n={},r=l(e,["ids"]);return r!=null&&a(n,["ids"],r),n}function No(t,e){const n={},r=l(e,["modality"]);r!=null&&a(n,["modality"],r);const i=l(e,["tokenCount"]);return i!=null&&a(n,["tokenCount"],i),n}function So(t,e){const n={},r=l(e,["modality"]);r!=null&&a(n,["modality"],r);const i=l(e,["tokenCount"]);return i!=null&&a(n,["tokenCount"],i),n}function Rw(t,e){const n={},r=l(e,["promptTokenCount"]);r!=null&&a(n,["promptTokenCount"],r);const i=l(e,["cachedContentTokenCount"]);i!=null&&a(n,["cachedContentTokenCount"],i);const o=l(e,["responseTokenCount"]);o!=null&&a(n,["responseTokenCount"],o);const s=l(e,["toolUsePromptTokenCount"]);s!=null&&a(n,["toolUsePromptTokenCount"],s);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(n,["thoughtsTokenCount"],u);const d=l(e,["totalTokenCount"]);d!=null&&a(n,["totalTokenCount"],d);const f=l(e,["promptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>No(t,y))),a(n,["promptTokensDetails"],g)}const m=l(e,["cacheTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>No(t,y))),a(n,["cacheTokensDetails"],g)}const p=l(e,["responseTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>No(t,y))),a(n,["responseTokensDetails"],g)}const h=l(e,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>No(t,y))),a(n,["toolUsePromptTokensDetails"],g)}return n}function bw(t,e){const n={},r=l(e,["promptTokenCount"]);r!=null&&a(n,["promptTokenCount"],r);const i=l(e,["cachedContentTokenCount"]);i!=null&&a(n,["cachedContentTokenCount"],i);const o=l(e,["candidatesTokenCount"]);o!=null&&a(n,["responseTokenCount"],o);const s=l(e,["toolUsePromptTokenCount"]);s!=null&&a(n,["toolUsePromptTokenCount"],s);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(n,["thoughtsTokenCount"],u);const d=l(e,["totalTokenCount"]);d!=null&&a(n,["totalTokenCount"],d);const f=l(e,["promptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(x=>So(t,x))),a(n,["promptTokensDetails"],y)}const m=l(e,["cacheTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(x=>So(t,x))),a(n,["cacheTokensDetails"],y)}const p=l(e,["candidatesTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(x=>So(t,x))),a(n,["responseTokensDetails"],y)}const h=l(e,["toolUsePromptTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>So(t,x))),a(n,["toolUsePromptTokensDetails"],y)}const g=l(e,["trafficType"]);return g!=null&&a(n,["trafficType"],g),n}function Dw(t,e){const n={},r=l(e,["timeLeft"]);return r!=null&&a(n,["timeLeft"],r),n}function Lw(t,e){const n={},r=l(e,["timeLeft"]);return r!=null&&a(n,["timeLeft"],r),n}function Fw(t,e){const n={},r=l(e,["newHandle"]);r!=null&&a(n,["newHandle"],r);const i=l(e,["resumable"]);i!=null&&a(n,["resumable"],i);const o=l(e,["lastConsumedClientMessageIndex"]);return o!=null&&a(n,["lastConsumedClientMessageIndex"],o),n}function Vw(t,e){const n={},r=l(e,["newHandle"]);r!=null&&a(n,["newHandle"],r);const i=l(e,["resumable"]);i!=null&&a(n,["resumable"],i);const o=l(e,["lastConsumedClientMessageIndex"]);return o!=null&&a(n,["lastConsumedClientMessageIndex"],o),n}function Uw(t,e){const n={};l(e,["setupComplete"])!=null&&a(n,["setupComplete"],cw());const i=l(e,["serverContent"]);i!=null&&a(n,["serverContent"],Nw(t,i));const o=l(e,["toolCall"]);o!=null&&a(n,["toolCall"],Aw(t,o));const s=l(e,["toolCallCancellation"]);s!=null&&a(n,["toolCallCancellation"],Mw(t,s));const u=l(e,["usageMetadata"]);u!=null&&a(n,["usageMetadata"],Rw(t,u));const d=l(e,["goAway"]);d!=null&&a(n,["goAway"],Dw(t,d));const f=l(e,["sessionResumptionUpdate"]);return f!=null&&a(n,["sessionResumptionUpdate"],Fw(t,f)),n}function jw(t,e){const n={};l(e,["setupComplete"])!=null&&a(n,["setupComplete"],dw());const i=l(e,["serverContent"]);i!=null&&a(n,["serverContent"],Sw(t,i));const o=l(e,["toolCall"]);o!=null&&a(n,["toolCall"],kw(t,o));const s=l(e,["toolCallCancellation"]);s!=null&&a(n,["toolCallCancellation"],Pw(t,s));const u=l(e,["usageMetadata"]);u!=null&&a(n,["usageMetadata"],bw(t,u));const d=l(e,["goAway"]);d!=null&&a(n,["goAway"],Lw(t,d));const f=l(e,["sessionResumptionUpdate"]);return f!=null&&a(n,["sessionResumptionUpdate"],Vw(t,f)),n}function $w(){return{}}function Ow(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const i=l(e,["weight"]);return i!=null&&a(n,["weight"],i),n}function Bw(t,e){const n={},r=l(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ow(t,o))),a(n,["weightedPrompts"],i)}return n}function Gw(t,e){const n={},r=l(e,["temperature"]);r!=null&&a(n,["temperature"],r);const i=l(e,["topK"]);i!=null&&a(n,["topK"],i);const o=l(e,["seed"]);o!=null&&a(n,["seed"],o);const s=l(e,["guidance"]);s!=null&&a(n,["guidance"],s);const u=l(e,["bpm"]);u!=null&&a(n,["bpm"],u);const d=l(e,["density"]);d!=null&&a(n,["density"],d);const f=l(e,["brightness"]);f!=null&&a(n,["brightness"],f);const m=l(e,["scale"]);m!=null&&a(n,["scale"],m);const p=l(e,["muteBass"]);p!=null&&a(n,["muteBass"],p);const h=l(e,["muteDrums"]);h!=null&&a(n,["muteDrums"],h);const g=l(e,["onlyBassAndDrums"]);return g!=null&&a(n,["onlyBassAndDrums"],g),n}function zw(t,e){const n={},r=l(e,["clientContent"]);r!=null&&a(n,["clientContent"],Bw(t,r));const i=l(e,["musicGenerationConfig"]);return i!=null&&a(n,["musicGenerationConfig"],Gw(t,i)),n}function qw(t,e){const n={},r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);i!=null&&a(n,["mimeType"],i);const o=l(e,["sourceMetadata"]);return o!=null&&a(n,["sourceMetadata"],zw(t,o)),n}function Hw(t,e){const n={},r=l(e,["audioChunks"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>qw(t,o))),a(n,["audioChunks"],i)}return n}function Ww(t,e){const n={},r=l(e,["text"]);r!=null&&a(n,["text"],r);const i=l(e,["filteredReason"]);return i!=null&&a(n,["filteredReason"],i),n}function Jw(t,e){const n={};l(e,["setupComplete"])!=null&&a(n,["setupComplete"],$w());const i=l(e,["serverContent"]);i!=null&&a(n,["serverContent"],Hw(t,i));const o=l(e,["filteredPrompt"]);return o!=null&&a(n,["filteredPrompt"],Ww(t,o)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yw(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function Kw(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function Zw(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["fileUri"]);r!=null&&a(n,["fileUri"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function Qw(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],Yw(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],Kw(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],Zw(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function Bs(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Qw(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function Xw(t,e){const n={},r=l(e,["anyOf"]);r!=null&&a(n,["anyOf"],r);const i=l(e,["default"]);i!=null&&a(n,["default"],i);const o=l(e,["description"]);o!=null&&a(n,["description"],o);const s=l(e,["enum"]);s!=null&&a(n,["enum"],s);const u=l(e,["example"]);u!=null&&a(n,["example"],u);const d=l(e,["format"]);d!=null&&a(n,["format"],d);const f=l(e,["items"]);f!=null&&a(n,["items"],f);const m=l(e,["maxItems"]);m!=null&&a(n,["maxItems"],m);const p=l(e,["maxLength"]);p!=null&&a(n,["maxLength"],p);const h=l(e,["maxProperties"]);h!=null&&a(n,["maxProperties"],h);const g=l(e,["maximum"]);g!=null&&a(n,["maximum"],g);const y=l(e,["minItems"]);y!=null&&a(n,["minItems"],y);const x=l(e,["minLength"]);x!=null&&a(n,["minLength"],x);const S=l(e,["minProperties"]);S!=null&&a(n,["minProperties"],S);const C=l(e,["minimum"]);C!=null&&a(n,["minimum"],C);const T=l(e,["nullable"]);T!=null&&a(n,["nullable"],T);const v=l(e,["pattern"]);v!=null&&a(n,["pattern"],v);const I=l(e,["properties"]);I!=null&&a(n,["properties"],I);const R=l(e,["propertyOrdering"]);R!=null&&a(n,["propertyOrdering"],R);const _=l(e,["required"]);_!=null&&a(n,["required"],_);const D=l(e,["title"]);D!=null&&a(n,["title"],D);const A=l(e,["type"]);return A!=null&&a(n,["type"],A),n}function e_(t,e){const n={};if(l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(e,["category"]);r!=null&&a(n,["category"],r);const i=l(e,["threshold"]);return i!=null&&a(n,["threshold"],i),n}function t_(t,e){const n={},r=l(e,["behavior"]);r!=null&&a(n,["behavior"],r);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const o=l(e,["name"]);o!=null&&a(n,["name"],o);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function n_(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const i=l(e,["endTime"]);return i!=null&&a(n,["endTime"],i),n}function r_(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],n_(t,r)),n}function i_(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(n,["dynamicThreshold"],i),n}function o_(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],i_(t,r)),n}function s_(){return{}}function l_(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>t_(t,f))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],r_(t,i));const o=l(e,["googleSearchRetrieval"]);if(o!=null&&a(n,["googleSearchRetrieval"],o_(t,o)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],s_());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function a_(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(n,["allowedFunctionNames"],i),n}function u_(t,e){const n={},r=l(e,["latitude"]);r!=null&&a(n,["latitude"],r);const i=l(e,["longitude"]);return i!=null&&a(n,["longitude"],i),n}function c_(t,e){const n={},r=l(e,["latLng"]);r!=null&&a(n,["latLng"],u_(t,r));const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function d_(t,e){const n={},r=l(e,["functionCallingConfig"]);r!=null&&a(n,["functionCallingConfig"],a_(t,r));const i=l(e,["retrievalConfig"]);return i!=null&&a(n,["retrievalConfig"],c_(t,i)),n}function f_(t,e){const n={},r=l(e,["voiceName"]);return r!=null&&a(n,["voiceName"],r),n}function kh(t,e){const n={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(n,["prebuiltVoiceConfig"],f_(t,r)),n}function m_(t,e){const n={},r=l(e,["speaker"]);r!=null&&a(n,["speaker"],r);const i=l(e,["voiceConfig"]);return i!=null&&a(n,["voiceConfig"],kh(t,i)),n}function p_(t,e){const n={},r=l(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>m_(t,o))),a(n,["speakerVoiceConfigs"],i)}return n}function h_(t,e){const n={},r=l(e,["voiceConfig"]);r!=null&&a(n,["voiceConfig"],kh(t,r));const i=l(e,["multiSpeakerVoiceConfig"]);i!=null&&a(n,["multiSpeakerVoiceConfig"],p_(t,i));const o=l(e,["languageCode"]);return o!=null&&a(n,["languageCode"],o),n}function g_(t,e){const n={},r=l(e,["includeThoughts"]);r!=null&&a(n,["includeThoughts"],r);const i=l(e,["thinkingBudget"]);return i!=null&&a(n,["thinkingBudget"],i),n}function y_(t,e,n){const r={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Bs(t,Ye(t,i)));const o=l(e,["temperature"]);o!=null&&a(r,["temperature"],o);const s=l(e,["topP"]);s!=null&&a(r,["topP"],s);const u=l(e,["topK"]);u!=null&&a(r,["topK"],u);const d=l(e,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const f=l(e,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const m=l(e,["stopSequences"]);m!=null&&a(r,["stopSequences"],m);const p=l(e,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const h=l(e,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=l(e,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const y=l(e,["frequencyPenalty"]);y!=null&&a(r,["frequencyPenalty"],y);const x=l(e,["seed"]);x!=null&&a(r,["seed"],x);const S=l(e,["responseMimeType"]);S!=null&&a(r,["responseMimeType"],S);const C=l(e,["responseSchema"]);if(C!=null&&a(r,["responseSchema"],Xw(t,Ts(t,C))),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=l(e,["safetySettings"]);if(n!==void 0&&T!=null){let V=T;Array.isArray(V)&&(V=V.map(ee=>e_(t,ee))),a(n,["safetySettings"],V)}const v=l(e,["tools"]);if(n!==void 0&&v!=null){let V=oo(t,v);Array.isArray(V)&&(V=V.map(ee=>l_(t,io(t,ee)))),a(n,["tools"],V)}const I=l(e,["toolConfig"]);if(n!==void 0&&I!=null&&a(n,["toolConfig"],d_(t,I)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=l(e,["cachedContent"]);n!==void 0&&R!=null&&a(n,["cachedContent"],Mn(t,R));const _=l(e,["responseModalities"]);_!=null&&a(r,["responseModalities"],_);const D=l(e,["mediaResolution"]);D!=null&&a(r,["mediaResolution"],D);const A=l(e,["speechConfig"]);if(A!=null&&a(r,["speechConfig"],h_(t,vh(t,A))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=l(e,["thinkingConfig"]);return U!=null&&a(r,["thinkingConfig"],g_(t,U)),r}function Ef(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["contents"]);if(i!=null){let s=Pt(t,i);Array.isArray(s)&&(s=s.map(u=>Bs(t,u))),a(n,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(n,["generationConfig"],y_(t,o,n)),n}function v_(t,e,n){const r={},i=l(e,["taskType"]);n!==void 0&&i!=null&&a(n,["requests[]","taskType"],i);const o=l(e,["title"]);n!==void 0&&o!=null&&a(n,["requests[]","title"],o);const s=l(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&a(n,["requests[]","outputDimensionality"],s),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function x_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["contents"]);i!=null&&a(n,["requests[]","content"],yh(t,i));const o=l(e,["config"]);o!=null&&a(n,["config"],v_(t,o,n));const s=l(e,["model"]);return s!==void 0&&a(n,["requests[]","model"],fe(t,s)),n}function C_(t,e,n){const r={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(e,["numberOfImages"]);n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i);const o=l(e,["aspectRatio"]);n!==void 0&&o!=null&&a(n,["parameters","aspectRatio"],o);const s=l(e,["guidanceScale"]);if(n!==void 0&&s!=null&&a(n,["parameters","guidanceScale"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&a(n,["parameters","safetySetting"],u);const d=l(e,["personGeneration"]);n!==void 0&&d!=null&&a(n,["parameters","personGeneration"],d);const f=l(e,["includeSafetyAttributes"]);n!==void 0&&f!=null&&a(n,["parameters","includeSafetyAttributes"],f);const m=l(e,["includeRaiReason"]);n!==void 0&&m!=null&&a(n,["parameters","includeRaiReason"],m);const p=l(e,["language"]);n!==void 0&&p!=null&&a(n,["parameters","language"],p);const h=l(e,["outputMimeType"]);n!==void 0&&h!=null&&a(n,["parameters","outputOptions","mimeType"],h);const g=l(e,["outputCompressionQuality"]);if(n!==void 0&&g!=null&&a(n,["parameters","outputOptions","compressionQuality"],g),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function T_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const o=l(e,["config"]);return o!=null&&a(n,["config"],C_(t,o,n)),n}function w_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],fe(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function __(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=l(e,["pageToken"]);n!==void 0&&o!=null&&a(n,["_query","pageToken"],o);const s=l(e,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Th(t,u)),r}function N_(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],__(t,r,n)),n}function S_(t,e,n){const r={},i=l(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const o=l(e,["description"]);n!==void 0&&o!=null&&a(n,["description"],o);const s=l(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&a(n,["defaultCheckpointId"],s),r}function E_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],fe(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],S_(t,i,n)),n}function I_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],fe(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function A_(t,e){const n={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function k_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["contents"]);if(i!=null){let s=Pt(t,i);Array.isArray(s)&&(s=s.map(u=>Bs(t,u))),a(n,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(n,["config"],A_(t,o)),n}function M_(t,e){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(e,["imageBytes"]);r!=null&&a(n,["bytesBase64Encoded"],Pn(t,r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function P_(t,e,n){const r={},i=l(e,["numberOfVideos"]);if(n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=l(e,["durationSeconds"]);if(n!==void 0&&o!=null&&a(n,["parameters","durationSeconds"],o),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(e,["aspectRatio"]);if(n!==void 0&&s!=null&&a(n,["parameters","aspectRatio"],s),l(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=l(e,["personGeneration"]);if(n!==void 0&&u!=null&&a(n,["parameters","personGeneration"],u),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=l(e,["negativePrompt"]);n!==void 0&&d!=null&&a(n,["parameters","negativePrompt"],d);const f=l(e,["enhancePrompt"]);if(n!==void 0&&f!=null&&a(n,["parameters","enhancePrompt"],f),l(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return r}function R_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const o=l(e,["image"]);o!=null&&a(n,["instances[0]","image"],M_(t,o));const s=l(e,["config"]);return s!=null&&a(n,["config"],P_(t,s,n)),n}function b_(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function D_(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["data"]);i!=null&&a(n,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function L_(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["fileUri"]);i!=null&&a(n,["fileUri"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function F_(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],b_(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],D_(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],L_(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function Zr(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>F_(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function V_(t,e){const n={},r=l(e,["anyOf"]);r!=null&&a(n,["anyOf"],r);const i=l(e,["default"]);i!=null&&a(n,["default"],i);const o=l(e,["description"]);o!=null&&a(n,["description"],o);const s=l(e,["enum"]);s!=null&&a(n,["enum"],s);const u=l(e,["example"]);u!=null&&a(n,["example"],u);const d=l(e,["format"]);d!=null&&a(n,["format"],d);const f=l(e,["items"]);f!=null&&a(n,["items"],f);const m=l(e,["maxItems"]);m!=null&&a(n,["maxItems"],m);const p=l(e,["maxLength"]);p!=null&&a(n,["maxLength"],p);const h=l(e,["maxProperties"]);h!=null&&a(n,["maxProperties"],h);const g=l(e,["maximum"]);g!=null&&a(n,["maximum"],g);const y=l(e,["minItems"]);y!=null&&a(n,["minItems"],y);const x=l(e,["minLength"]);x!=null&&a(n,["minLength"],x);const S=l(e,["minProperties"]);S!=null&&a(n,["minProperties"],S);const C=l(e,["minimum"]);C!=null&&a(n,["minimum"],C);const T=l(e,["nullable"]);T!=null&&a(n,["nullable"],T);const v=l(e,["pattern"]);v!=null&&a(n,["pattern"],v);const I=l(e,["properties"]);I!=null&&a(n,["properties"],I);const R=l(e,["propertyOrdering"]);R!=null&&a(n,["propertyOrdering"],R);const _=l(e,["required"]);_!=null&&a(n,["required"],_);const D=l(e,["title"]);D!=null&&a(n,["title"],D);const A=l(e,["type"]);return A!=null&&a(n,["type"],A),n}function U_(t,e){const n={},r=l(e,["featureSelectionPreference"]);return r!=null&&a(n,["featureSelectionPreference"],r),n}function j_(t,e){const n={},r=l(e,["method"]);r!=null&&a(n,["method"],r);const i=l(e,["category"]);i!=null&&a(n,["category"],i);const o=l(e,["threshold"]);return o!=null&&a(n,["threshold"],o),n}function $_(t,e){const n={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(e,["description"]);r!=null&&a(n,["description"],r);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const o=l(e,["parameters"]);o!=null&&a(n,["parameters"],o);const s=l(e,["response"]);return s!=null&&a(n,["response"],s),n}function O_(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const i=l(e,["endTime"]);return i!=null&&a(n,["endTime"],i),n}function B_(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],O_(t,r)),n}function G_(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(n,["dynamicThreshold"],i),n}function z_(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],G_(t,r)),n}function q_(){return{}}function H_(t,e){const n={},r=l(e,["apiKeyString"]);return r!=null&&a(n,["apiKeyString"],r),n}function W_(t,e){const n={},r=l(e,["apiKeyConfig"]);r!=null&&a(n,["apiKeyConfig"],H_(t,r));const i=l(e,["authType"]);i!=null&&a(n,["authType"],i);const o=l(e,["googleServiceAccountConfig"]);o!=null&&a(n,["googleServiceAccountConfig"],o);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(n,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=l(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function J_(t,e){const n={},r=l(e,["authConfig"]);return r!=null&&a(n,["authConfig"],W_(t,r)),n}function Y_(){return{}}function Mh(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>$_(t,h))),a(n,["functionDeclarations"],p)}const i=l(e,["retrieval"]);i!=null&&a(n,["retrieval"],i);const o=l(e,["googleSearch"]);o!=null&&a(n,["googleSearch"],B_(t,o));const s=l(e,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],z_(t,s)),l(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],q_());const d=l(e,["googleMaps"]);d!=null&&a(n,["googleMaps"],J_(t,d)),l(e,["urlContext"])!=null&&a(n,["urlContext"],Y_());const m=l(e,["codeExecution"]);return m!=null&&a(n,["codeExecution"],m),n}function K_(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(n,["allowedFunctionNames"],i),n}function Z_(t,e){const n={},r=l(e,["latitude"]);r!=null&&a(n,["latitude"],r);const i=l(e,["longitude"]);return i!=null&&a(n,["longitude"],i),n}function Q_(t,e){const n={},r=l(e,["latLng"]);r!=null&&a(n,["latLng"],Z_(t,r));const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function X_(t,e){const n={},r=l(e,["functionCallingConfig"]);r!=null&&a(n,["functionCallingConfig"],K_(t,r));const i=l(e,["retrievalConfig"]);return i!=null&&a(n,["retrievalConfig"],Q_(t,i)),n}function eN(t,e){const n={},r=l(e,["voiceName"]);return r!=null&&a(n,["voiceName"],r),n}function tN(t,e){const n={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(n,["prebuiltVoiceConfig"],eN(t,r)),n}function nN(t,e){const n={},r=l(e,["voiceConfig"]);if(r!=null&&a(n,["voiceConfig"],tN(t,r)),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function rN(t,e){const n={},r=l(e,["includeThoughts"]);r!=null&&a(n,["includeThoughts"],r);const i=l(e,["thinkingBudget"]);return i!=null&&a(n,["thinkingBudget"],i),n}function iN(t,e,n){const r={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Zr(t,Ye(t,i)));const o=l(e,["temperature"]);o!=null&&a(r,["temperature"],o);const s=l(e,["topP"]);s!=null&&a(r,["topP"],s);const u=l(e,["topK"]);u!=null&&a(r,["topK"],u);const d=l(e,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const f=l(e,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const m=l(e,["stopSequences"]);m!=null&&a(r,["stopSequences"],m);const p=l(e,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const h=l(e,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=l(e,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const y=l(e,["frequencyPenalty"]);y!=null&&a(r,["frequencyPenalty"],y);const x=l(e,["seed"]);x!=null&&a(r,["seed"],x);const S=l(e,["responseMimeType"]);S!=null&&a(r,["responseMimeType"],S);const C=l(e,["responseSchema"]);C!=null&&a(r,["responseSchema"],V_(t,Ts(t,C)));const T=l(e,["routingConfig"]);T!=null&&a(r,["routingConfig"],T);const v=l(e,["modelSelectionConfig"]);v!=null&&a(r,["modelConfig"],U_(t,v));const I=l(e,["safetySettings"]);if(n!==void 0&&I!=null){let Me=I;Array.isArray(Me)&&(Me=Me.map(ot=>j_(t,ot))),a(n,["safetySettings"],Me)}const R=l(e,["tools"]);if(n!==void 0&&R!=null){let Me=oo(t,R);Array.isArray(Me)&&(Me=Me.map(ot=>Mh(t,io(t,ot)))),a(n,["tools"],Me)}const _=l(e,["toolConfig"]);n!==void 0&&_!=null&&a(n,["toolConfig"],X_(t,_));const D=l(e,["labels"]);n!==void 0&&D!=null&&a(n,["labels"],D);const A=l(e,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],Mn(t,A));const U=l(e,["responseModalities"]);U!=null&&a(r,["responseModalities"],U);const V=l(e,["mediaResolution"]);V!=null&&a(r,["mediaResolution"],V);const ee=l(e,["speechConfig"]);ee!=null&&a(r,["speechConfig"],nN(t,vh(t,ee)));const xe=l(e,["audioTimestamp"]);xe!=null&&a(r,["audioTimestamp"],xe);const b=l(e,["thinkingConfig"]);return b!=null&&a(r,["thinkingConfig"],rN(t,b)),r}function If(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["contents"]);if(i!=null){let s=Pt(t,i);Array.isArray(s)&&(s=s.map(u=>Zr(t,u))),a(n,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(n,["generationConfig"],iN(t,o,n)),n}function oN(t,e,n){const r={},i=l(e,["taskType"]);n!==void 0&&i!=null&&a(n,["instances[]","task_type"],i);const o=l(e,["title"]);n!==void 0&&o!=null&&a(n,["instances[]","title"],o);const s=l(e,["outputDimensionality"]);n!==void 0&&s!=null&&a(n,["parameters","outputDimensionality"],s);const u=l(e,["mimeType"]);n!==void 0&&u!=null&&a(n,["instances[]","mimeType"],u);const d=l(e,["autoTruncate"]);return n!==void 0&&d!=null&&a(n,["parameters","autoTruncate"],d),r}function sN(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["contents"]);i!=null&&a(n,["instances[]","content"],yh(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],oN(t,o,n)),n}function lN(t,e,n){const r={},i=l(e,["outputGcsUri"]);n!==void 0&&i!=null&&a(n,["parameters","storageUri"],i);const o=l(e,["negativePrompt"]);n!==void 0&&o!=null&&a(n,["parameters","negativePrompt"],o);const s=l(e,["numberOfImages"]);n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);n!==void 0&&u!=null&&a(n,["parameters","aspectRatio"],u);const d=l(e,["guidanceScale"]);n!==void 0&&d!=null&&a(n,["parameters","guidanceScale"],d);const f=l(e,["seed"]);n!==void 0&&f!=null&&a(n,["parameters","seed"],f);const m=l(e,["safetyFilterLevel"]);n!==void 0&&m!=null&&a(n,["parameters","safetySetting"],m);const p=l(e,["personGeneration"]);n!==void 0&&p!=null&&a(n,["parameters","personGeneration"],p);const h=l(e,["includeSafetyAttributes"]);n!==void 0&&h!=null&&a(n,["parameters","includeSafetyAttributes"],h);const g=l(e,["includeRaiReason"]);n!==void 0&&g!=null&&a(n,["parameters","includeRaiReason"],g);const y=l(e,["language"]);n!==void 0&&y!=null&&a(n,["parameters","language"],y);const x=l(e,["outputMimeType"]);n!==void 0&&x!=null&&a(n,["parameters","outputOptions","mimeType"],x);const S=l(e,["outputCompressionQuality"]);n!==void 0&&S!=null&&a(n,["parameters","outputOptions","compressionQuality"],S);const C=l(e,["addWatermark"]);n!==void 0&&C!=null&&a(n,["parameters","addWatermark"],C);const T=l(e,["enhancePrompt"]);return n!==void 0&&T!=null&&a(n,["parameters","enhancePrompt"],T),r}function aN(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const o=l(e,["config"]);return o!=null&&a(n,["config"],lN(t,o,n)),n}function Ou(t,e){const n={},r=l(e,["gcsUri"]);r!=null&&a(n,["gcsUri"],r);const i=l(e,["imageBytes"]);i!=null&&a(n,["bytesBase64Encoded"],Pn(t,i));const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function uN(t,e){const n={},r=l(e,["maskMode"]);r!=null&&a(n,["maskMode"],r);const i=l(e,["segmentationClasses"]);i!=null&&a(n,["maskClasses"],i);const o=l(e,["maskDilation"]);return o!=null&&a(n,["dilation"],o),n}function cN(t,e){const n={},r=l(e,["controlType"]);r!=null&&a(n,["controlType"],r);const i=l(e,["enableControlImageComputation"]);return i!=null&&a(n,["computeControl"],i),n}function dN(t,e){const n={},r=l(e,["styleDescription"]);return r!=null&&a(n,["styleDescription"],r),n}function fN(t,e){const n={},r=l(e,["subjectType"]);r!=null&&a(n,["subjectType"],r);const i=l(e,["subjectDescription"]);return i!=null&&a(n,["subjectDescription"],i),n}function mN(t,e){const n={},r=l(e,["referenceImage"]);r!=null&&a(n,["referenceImage"],Ou(t,r));const i=l(e,["referenceId"]);i!=null&&a(n,["referenceId"],i);const o=l(e,["referenceType"]);o!=null&&a(n,["referenceType"],o);const s=l(e,["maskImageConfig"]);s!=null&&a(n,["maskImageConfig"],uN(t,s));const u=l(e,["controlImageConfig"]);u!=null&&a(n,["controlImageConfig"],cN(t,u));const d=l(e,["styleImageConfig"]);d!=null&&a(n,["styleImageConfig"],dN(t,d));const f=l(e,["subjectImageConfig"]);return f!=null&&a(n,["subjectImageConfig"],fN(t,f)),n}function pN(t,e,n){const r={},i=l(e,["outputGcsUri"]);n!==void 0&&i!=null&&a(n,["parameters","storageUri"],i);const o=l(e,["negativePrompt"]);n!==void 0&&o!=null&&a(n,["parameters","negativePrompt"],o);const s=l(e,["numberOfImages"]);n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);n!==void 0&&u!=null&&a(n,["parameters","aspectRatio"],u);const d=l(e,["guidanceScale"]);n!==void 0&&d!=null&&a(n,["parameters","guidanceScale"],d);const f=l(e,["seed"]);n!==void 0&&f!=null&&a(n,["parameters","seed"],f);const m=l(e,["safetyFilterLevel"]);n!==void 0&&m!=null&&a(n,["parameters","safetySetting"],m);const p=l(e,["personGeneration"]);n!==void 0&&p!=null&&a(n,["parameters","personGeneration"],p);const h=l(e,["includeSafetyAttributes"]);n!==void 0&&h!=null&&a(n,["parameters","includeSafetyAttributes"],h);const g=l(e,["includeRaiReason"]);n!==void 0&&g!=null&&a(n,["parameters","includeRaiReason"],g);const y=l(e,["language"]);n!==void 0&&y!=null&&a(n,["parameters","language"],y);const x=l(e,["outputMimeType"]);n!==void 0&&x!=null&&a(n,["parameters","outputOptions","mimeType"],x);const S=l(e,["outputCompressionQuality"]);n!==void 0&&S!=null&&a(n,["parameters","outputOptions","compressionQuality"],S);const C=l(e,["editMode"]);n!==void 0&&C!=null&&a(n,["parameters","editMode"],C);const T=l(e,["baseSteps"]);return n!==void 0&&T!=null&&a(n,["parameters","editConfig","baseSteps"],T),r}function hN(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const o=l(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>mN(t,d))),a(n,["instances[0]","referenceImages"],u)}const s=l(e,["config"]);return s!=null&&a(n,["config"],pN(t,s,n)),n}function gN(t,e,n){const r={},i=l(e,["includeRaiReason"]);n!==void 0&&i!=null&&a(n,["parameters","includeRaiReason"],i);const o=l(e,["outputMimeType"]);n!==void 0&&o!=null&&a(n,["parameters","outputOptions","mimeType"],o);const s=l(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&a(n,["parameters","outputOptions","compressionQuality"],s);const u=l(e,["numberOfImages"]);n!==void 0&&u!=null&&a(n,["parameters","sampleCount"],u);const d=l(e,["mode"]);return n!==void 0&&d!=null&&a(n,["parameters","mode"],d),r}function yN(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["image"]);i!=null&&a(n,["instances[0]","image"],Ou(t,i));const o=l(e,["upscaleFactor"]);o!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=l(e,["config"]);return s!=null&&a(n,["config"],gN(t,s,n)),n}function vN(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],fe(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function xN(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=l(e,["pageToken"]);n!==void 0&&o!=null&&a(n,["_query","pageToken"],o);const s=l(e,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Th(t,u)),r}function CN(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],xN(t,r,n)),n}function TN(t,e,n){const r={},i=l(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const o=l(e,["description"]);n!==void 0&&o!=null&&a(n,["description"],o);const s=l(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&a(n,["defaultCheckpointId"],s),r}function wN(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],TN(t,i,n)),n}function _N(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],fe(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function NN(t,e,n){const r={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],Zr(t,Ye(t,i)));const o=l(e,["tools"]);if(n!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Mh(t,d))),a(n,["tools"],u)}const s=l(e,["generationConfig"]);return n!==void 0&&s!=null&&a(n,["generationConfig"],s),r}function SN(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["contents"]);if(i!=null){let s=Pt(t,i);Array.isArray(s)&&(s=s.map(u=>Zr(t,u))),a(n,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(n,["config"],NN(t,o,n)),n}function EN(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["contents"]);if(i!=null){let s=Pt(t,i);Array.isArray(s)&&(s=s.map(u=>Zr(t,u))),a(n,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function IN(t,e,n){const r={},i=l(e,["numberOfVideos"]);n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i);const o=l(e,["outputGcsUri"]);n!==void 0&&o!=null&&a(n,["parameters","storageUri"],o);const s=l(e,["fps"]);n!==void 0&&s!=null&&a(n,["parameters","fps"],s);const u=l(e,["durationSeconds"]);n!==void 0&&u!=null&&a(n,["parameters","durationSeconds"],u);const d=l(e,["seed"]);n!==void 0&&d!=null&&a(n,["parameters","seed"],d);const f=l(e,["aspectRatio"]);n!==void 0&&f!=null&&a(n,["parameters","aspectRatio"],f);const m=l(e,["resolution"]);n!==void 0&&m!=null&&a(n,["parameters","resolution"],m);const p=l(e,["personGeneration"]);n!==void 0&&p!=null&&a(n,["parameters","personGeneration"],p);const h=l(e,["pubsubTopic"]);n!==void 0&&h!=null&&a(n,["parameters","pubsubTopic"],h);const g=l(e,["negativePrompt"]);n!==void 0&&g!=null&&a(n,["parameters","negativePrompt"],g);const y=l(e,["enhancePrompt"]);n!==void 0&&y!=null&&a(n,["parameters","enhancePrompt"],y);const x=l(e,["generateAudio"]);return n!==void 0&&x!=null&&a(n,["parameters","generateAudio"],x),r}function AN(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],fe(t,r));const i=l(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const o=l(e,["image"]);o!=null&&a(n,["instances[0]","image"],Ou(t,o));const s=l(e,["config"]);return s!=null&&a(n,["config"],IN(t,s,n)),n}function kN(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function MN(t,e){const n={},r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function PN(t,e){const n={},r=l(e,["fileUri"]);r!=null&&a(n,["fileUri"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function RN(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],kN(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],MN(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],PN(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function bN(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>RN(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function DN(t,e){const n={},r=l(e,["citationSources"]);return r!=null&&a(n,["citations"],r),n}function LN(t,e){const n={},r=l(e,["retrievedUrl"]);r!=null&&a(n,["retrievedUrl"],r);const i=l(e,["urlRetrievalStatus"]);return i!=null&&a(n,["urlRetrievalStatus"],i),n}function FN(t,e){const n={},r=l(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>LN(t,o))),a(n,["urlMetadata"],i)}return n}function VN(t,e){const n={},r=l(e,["content"]);r!=null&&a(n,["content"],bN(t,r));const i=l(e,["citationMetadata"]);i!=null&&a(n,["citationMetadata"],DN(t,i));const o=l(e,["tokenCount"]);o!=null&&a(n,["tokenCount"],o);const s=l(e,["finishReason"]);s!=null&&a(n,["finishReason"],s);const u=l(e,["urlContextMetadata"]);u!=null&&a(n,["urlContextMetadata"],FN(t,u));const d=l(e,["avgLogprobs"]);d!=null&&a(n,["avgLogprobs"],d);const f=l(e,["groundingMetadata"]);f!=null&&a(n,["groundingMetadata"],f);const m=l(e,["index"]);m!=null&&a(n,["index"],m);const p=l(e,["logprobsResult"]);p!=null&&a(n,["logprobsResult"],p);const h=l(e,["safetyRatings"]);return h!=null&&a(n,["safetyRatings"],h),n}function Af(t,e){const n={},r=l(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>VN(t,d))),a(n,["candidates"],u)}const i=l(e,["modelVersion"]);i!=null&&a(n,["modelVersion"],i);const o=l(e,["promptFeedback"]);o!=null&&a(n,["promptFeedback"],o);const s=l(e,["usageMetadata"]);return s!=null&&a(n,["usageMetadata"],s),n}function UN(t,e){const n={},r=l(e,["values"]);return r!=null&&a(n,["values"],r),n}function jN(){return{}}function $N(t,e){const n={},r=l(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>UN(t,s))),a(n,["embeddings"],o)}return l(e,["metadata"])!=null&&a(n,["metadata"],jN()),n}function ON(t,e){const n={},r=l(e,["bytesBase64Encoded"]);r!=null&&a(n,["imageBytes"],Pn(t,r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function Ph(t,e){const n={},r=l(e,["safetyAttributes","categories"]);r!=null&&a(n,["categories"],r);const i=l(e,["safetyAttributes","scores"]);i!=null&&a(n,["scores"],i);const o=l(e,["contentType"]);return o!=null&&a(n,["contentType"],o),n}function BN(t,e){const n={},r=l(e,["_self"]);r!=null&&a(n,["image"],ON(t,r));const i=l(e,["raiFilteredReason"]);i!=null&&a(n,["raiFilteredReason"],i);const o=l(e,["_self"]);return o!=null&&a(n,["safetyAttributes"],Ph(t,o)),n}function GN(t,e){const n={},r=l(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>BN(t,s))),a(n,["generatedImages"],o)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(n,["positivePromptSafetyAttributes"],Ph(t,i)),n}function zN(t,e){const n={},r=l(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const o=l(e,["updateTime"]);return o!=null&&a(n,["updateTime"],o),n}function Ra(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["displayName"]);i!=null&&a(n,["displayName"],i);const o=l(e,["description"]);o!=null&&a(n,["description"],o);const s=l(e,["version"]);s!=null&&a(n,["version"],s);const u=l(e,["_self"]);u!=null&&a(n,["tunedModelInfo"],zN(t,u));const d=l(e,["inputTokenLimit"]);d!=null&&a(n,["inputTokenLimit"],d);const f=l(e,["outputTokenLimit"]);f!=null&&a(n,["outputTokenLimit"],f);const m=l(e,["supportedGenerationMethods"]);return m!=null&&a(n,["supportedActions"],m),n}function qN(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["_self"]);if(i!=null){let o=wh(t,i);Array.isArray(o)&&(o=o.map(s=>Ra(t,s))),a(n,["models"],o)}return n}function HN(){return{}}function WN(t,e){const n={},r=l(e,["totalTokens"]);r!=null&&a(n,["totalTokens"],r);const i=l(e,["cachedContentTokenCount"]);return i!=null&&a(n,["cachedContentTokenCount"],i),n}function JN(t,e){const n={},r=l(e,["video","uri"]);r!=null&&a(n,["uri"],r);const i=l(e,["video","encodedVideo"]);i!=null&&a(n,["videoBytes"],Pn(t,i));const o=l(e,["encoding"]);return o!=null&&a(n,["mimeType"],o),n}function YN(t,e){const n={},r=l(e,["_self"]);return r!=null&&a(n,["video"],JN(t,r)),n}function KN(t,e){const n={},r=l(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>YN(t,u))),a(n,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const o=l(e,["raiMediaFilteredReasons"]);return o!=null&&a(n,["raiMediaFilteredReasons"],o),n}function ZN(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["metadata"]);i!=null&&a(n,["metadata"],i);const o=l(e,["done"]);o!=null&&a(n,["done"],o);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],KN(t,u)),n}function QN(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function XN(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["data"]);i!=null&&a(n,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function eS(t,e){const n={},r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["fileUri"]);i!=null&&a(n,["fileUri"],i);const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function tS(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],QN(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],XN(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],eS(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function nS(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>tS(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function rS(t,e){const n={},r=l(e,["citations"]);return r!=null&&a(n,["citations"],r),n}function iS(t,e){const n={},r=l(e,["retrievedUrl"]);r!=null&&a(n,["retrievedUrl"],r);const i=l(e,["urlRetrievalStatus"]);return i!=null&&a(n,["urlRetrievalStatus"],i),n}function oS(t,e){const n={},r=l(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>iS(t,o))),a(n,["urlMetadata"],i)}return n}function sS(t,e){const n={},r=l(e,["content"]);r!=null&&a(n,["content"],nS(t,r));const i=l(e,["citationMetadata"]);i!=null&&a(n,["citationMetadata"],rS(t,i));const o=l(e,["finishMessage"]);o!=null&&a(n,["finishMessage"],o);const s=l(e,["finishReason"]);s!=null&&a(n,["finishReason"],s);const u=l(e,["urlContextMetadata"]);u!=null&&a(n,["urlContextMetadata"],oS(t,u));const d=l(e,["avgLogprobs"]);d!=null&&a(n,["avgLogprobs"],d);const f=l(e,["groundingMetadata"]);f!=null&&a(n,["groundingMetadata"],f);const m=l(e,["index"]);m!=null&&a(n,["index"],m);const p=l(e,["logprobsResult"]);p!=null&&a(n,["logprobsResult"],p);const h=l(e,["safetyRatings"]);return h!=null&&a(n,["safetyRatings"],h),n}function kf(t,e){const n={},r=l(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>sS(t,m))),a(n,["candidates"],f)}const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const o=l(e,["responseId"]);o!=null&&a(n,["responseId"],o);const s=l(e,["modelVersion"]);s!=null&&a(n,["modelVersion"],s);const u=l(e,["promptFeedback"]);u!=null&&a(n,["promptFeedback"],u);const d=l(e,["usageMetadata"]);return d!=null&&a(n,["usageMetadata"],d),n}function lS(t,e){const n={},r=l(e,["truncated"]);r!=null&&a(n,["truncated"],r);const i=l(e,["token_count"]);return i!=null&&a(n,["tokenCount"],i),n}function aS(t,e){const n={},r=l(e,["values"]);r!=null&&a(n,["values"],r);const i=l(e,["statistics"]);return i!=null&&a(n,["statistics"],lS(t,i)),n}function uS(t,e){const n={},r=l(e,["billableCharacterCount"]);return r!=null&&a(n,["billableCharacterCount"],r),n}function cS(t,e){const n={},r=l(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>aS(t,s))),a(n,["embeddings"],o)}const i=l(e,["metadata"]);return i!=null&&a(n,["metadata"],uS(t,i)),n}function dS(t,e){const n={},r=l(e,["gcsUri"]);r!=null&&a(n,["gcsUri"],r);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(n,["imageBytes"],Pn(t,i));const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function Rh(t,e){const n={},r=l(e,["safetyAttributes","categories"]);r!=null&&a(n,["categories"],r);const i=l(e,["safetyAttributes","scores"]);i!=null&&a(n,["scores"],i);const o=l(e,["contentType"]);return o!=null&&a(n,["contentType"],o),n}function Bu(t,e){const n={},r=l(e,["_self"]);r!=null&&a(n,["image"],dS(t,r));const i=l(e,["raiFilteredReason"]);i!=null&&a(n,["raiFilteredReason"],i);const o=l(e,["_self"]);o!=null&&a(n,["safetyAttributes"],Rh(t,o));const s=l(e,["prompt"]);return s!=null&&a(n,["enhancedPrompt"],s),n}function fS(t,e){const n={},r=l(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Bu(t,s))),a(n,["generatedImages"],o)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(n,["positivePromptSafetyAttributes"],Rh(t,i)),n}function mS(t,e){const n={},r=l(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Bu(t,o))),a(n,["generatedImages"],i)}return n}function pS(t,e){const n={},r=l(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Bu(t,o))),a(n,["generatedImages"],i)}return n}function hS(t,e){const n={},r=l(e,["endpoint"]);r!=null&&a(n,["name"],r);const i=l(e,["deployedModelId"]);return i!=null&&a(n,["deployedModelId"],i),n}function gS(t,e){const n={},r=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&a(n,["baseModel"],r);const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const o=l(e,["updateTime"]);return o!=null&&a(n,["updateTime"],o),n}function yS(t,e){const n={},r=l(e,["checkpointId"]);r!=null&&a(n,["checkpointId"],r);const i=l(e,["epoch"]);i!=null&&a(n,["epoch"],i);const o=l(e,["step"]);return o!=null&&a(n,["step"],o),n}function ba(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["displayName"]);i!=null&&a(n,["displayName"],i);const o=l(e,["description"]);o!=null&&a(n,["description"],o);const s=l(e,["versionId"]);s!=null&&a(n,["version"],s);const u=l(e,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>hS(t,g))),a(n,["endpoints"],h)}const d=l(e,["labels"]);d!=null&&a(n,["labels"],d);const f=l(e,["_self"]);f!=null&&a(n,["tunedModelInfo"],gS(t,f));const m=l(e,["defaultCheckpointId"]);m!=null&&a(n,["defaultCheckpointId"],m);const p=l(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>yS(t,g))),a(n,["checkpoints"],h)}return n}function vS(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["_self"]);if(i!=null){let o=wh(t,i);Array.isArray(o)&&(o=o.map(s=>ba(t,s))),a(n,["models"],o)}return n}function xS(){return{}}function CS(t,e){const n={},r=l(e,["totalTokens"]);return r!=null&&a(n,["totalTokens"],r),n}function TS(t,e){const n={},r=l(e,["tokensInfo"]);return r!=null&&a(n,["tokensInfo"],r),n}function wS(t,e){const n={},r=l(e,["gcsUri"]);r!=null&&a(n,["uri"],r);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(n,["videoBytes"],Pn(t,i));const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function _S(t,e){const n={},r=l(e,["_self"]);return r!=null&&a(n,["video"],wS(t,r)),n}function NS(t,e){const n={},r=l(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>_S(t,u))),a(n,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const o=l(e,["raiMediaFilteredReasons"]);return o!=null&&a(n,["raiMediaFilteredReasons"],o),n}function SS(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["metadata"]);i!=null&&a(n,["metadata"],i);const o=l(e,["done"]);o!=null&&a(n,["done"],o);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],NS(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ES="Content-Type",IS="X-Server-Timeout",AS="User-Agent",Da="x-goog-api-client",kS="1.4.0",MS=`google-genai-sdk/${kS}`,PS="v1beta1",RS="v1beta",Mf=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class bh extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class La extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class bS{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:PS,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:RS,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Pf(i),new Aa(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Pf(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Mr(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:d}=yield he(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d);try{const p=JSON.parse(f);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),g=h.status,y=h.code,x=`got status: ${g}. ${JSON.stringify(p)}`;if(y>=400&&y<500)throw new bh(x);if(y>=500&&y<600)throw new La(x)}}catch(p){const h=p;if(h.name==="ClientError"||h.name==="ServerError")throw p}s+=f;let m=s.match(Mf);for(;m;){const p=m[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield he(new Aa(h)),s=s.slice(m[0].length),m=s.match(Mf)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=MS+" "+this.clientOptions.userAgentExtra;return e[AS]=n,e[Da]=n,e[ES]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(IS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d=await this.fetchUploadUrl(i,n);return o.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:J("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Pf(t){var e;if(t===void 0)throw new La("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=`got status: ${n} ${r}. ${JSON.stringify(i)}`;throw n>=400&&n<500?new bh(o):n>=500&&n<600?new La(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DS="mcp_used/unknown";function Dh(t){for(const e of t)if(Gu(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Lh(t){var e;const n=(e=t[Da])!==null&&e!==void 0?e:"";t[Da]=(n+` ${DS}`).trimStart()}function LS(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Gu(i)))!==null&&r!==void 0?r:!1}function FS(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Gu(i)))!==null&&r!==void 0?r:!1}function Gu(t){return t!==null&&typeof t=="object"&&t instanceof zu}function VS(t,e=100){return Mr(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield he(t.listTools({cursor:r}));for(const s of o.tools)yield yield he(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class zu{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new zu(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const m of this.mcpClients)try{for(var u=!0,d=(n=void 0,ki(VS(m))),f;f=await d.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;s.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=m}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),j0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=await this.functionNameToMcpClient[r.name].callTool({name:r.name,arguments:r.args});n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function US(t,e,n){const r=new E0;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=Jw(t,i);Object.assign(r,o),e(r)}class jS{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=BS(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const m=new Promise(v=>{f=v}),p=e.callbacks,h=function(){f({})},g=this.apiClient,y={onopen:h,onmessage:v=>{US(g,p.onmessage,v)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(v){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(v){}},x=this.webSocketFactory.create(d,OS(s),y);x.connect(),await m;const S=fe(this.apiClient,e.model),C=Ih(this.apiClient,{model:S}),T=Pa(this.apiClient,{setup:C});return x.send(JSON.stringify(T)),new $S(x,this.apiClient)}}class $S{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=aw(this.apiClient,e),r=Ah(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=uw(this.apiClient,e),r=Pa(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=Pa(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(wr.PLAY)}pause(){this.sendPlaybackControl(wr.PAUSE)}stop(){this.sendPlaybackControl(wr.STOP)}resetContext(){this.sendPlaybackControl(wr.RESET_CONTEXT)}close(){this.conn.close()}}function OS(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function BS(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function zS(t,e,n){const r=new S0;let i;if(n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),t.isVertexAI()){const o=jw(t,i);Object.assign(r,o)}else{const o=Uw(t,i);Object.assign(r,o)}e(r)}class qS{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new jS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,u;const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Dh(e.config.tools)&&Lh(p);const h=YS(p);if(this.apiClient.isVertexAI())m=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const U=this.apiClient.getApiKey();let V="BidiGenerateContent",ee="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),V="BidiGenerateContentConstrained",ee="access_token"),m=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${V}?${ee}=${U}`}let g=()=>{};const y=new Promise(U=>{g=U}),x=e.callbacks,S=function(){var U;(U=x==null?void 0:x.onopen)===null||U===void 0||U.call(x),g({})},C=this.apiClient,T={onopen:S,onmessage:U=>{zS(C,x.onmessage,U)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(U){}},v=this.webSocketFactory.create(m,JS(h),T);v.connect(),await y;let I=fe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const U=this.apiClient.getProject(),V=this.apiClient.getLocation();I=`projects/${U}/locations/${V}/`+I}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xs.AUDIO]}:e.config.responseModalities=[xs.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],D=[];for(const U of _)if(this.isCallableTool(U)){const V=U;D.push(await V.tool())}else D.push(U);D.length>0&&(e.config.tools=D);const A={model:I,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=tw(this.apiClient,A):R=ew(this.apiClient,A),delete R.config,v.send(JSON.stringify(R)),new WS(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const HS={turnComplete:!0};class WS{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Pt(e,n.turns),e.isVertexAI()?r=r.map(i=>Zr(e,i)):r=r.map(i=>Bs(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(GS)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},HS),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:lw(this.apiClient,e)}:n={realtimeInput:sw(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function JS(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function YS(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rf=10;function bf(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if($o(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function $o(t){return"callTool"in t&&typeof t.callTool=="function"}function Df(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KS extends Kr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,u;const d=await this.processParamsForMcpUsage(n);if(!LS(n)||bf(n.config))return await this.generateContentInternal(d);if(FS(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,m;const p=Pt(this.apiClient,d.contents),h=(o=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Rf;let g=0;for(;g<h&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const y=f.candidates[0].content,x=[];for(const S of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if($o(S)){const T=await S.callTool(f.functionCalls);x.push(...T)}g++,m={role:"user",parts:x},d.contents=Pt(this.apiClient,d.contents),d.contents.push(y),d.contents.push(m),Df(d.config)&&(p.push(y),p.push(m))}return Df(d.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{if(bf(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:s.push(d);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o}:u={generatedImages:s},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Os(zr.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async d=>$o(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&Dh(e.config.tools)){const d=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Lh(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if($o(s)){const u=s,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Rf;let s=!1,u=0;const d=await this.initAfcToolsMap(e);return function(f,m,p){var h,g;return Mr(this,arguments,function*(){for(var y,x,S,C;u<o;){s&&(u++,s=!1);const R=yield he(f.processParamsForMcpUsage(p)),_=yield he(f.generateContentStreamInternal(R)),D=[],A=[];try{for(var T=!0,v=(x=void 0,ki(_)),I;I=yield he(v.next()),y=I.done,!y;T=!0){C=I.value,T=!1;const U=C;if(yield yield he(U),U.candidates&&(!((h=U.candidates[0])===null||h===void 0)&&h.content)){A.push(U.candidates[0].content);for(const V of(g=U.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<o&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(V.functionCall.name)){const ee=yield he(m.get(V.functionCall.name).callTool([V.functionCall]));D.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(U){x={error:U}}finally{try{!T&&!y&&(S=v.return)&&(yield he(S.call(v)))}finally{if(x)throw x.error}}if(D.length>0){s=!0;const U=new ci;U.candidates=[{content:{role:"user",parts:D}}],yield yield he(U);const V=[];V.push(...A),V.push({role:"user",parts:D});const ee=Pt(f.apiClient,p.contents).concat(V);p.contents=ee}else break}})}(this,d,e)}async generateContentInternal(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=If(this.apiClient,e);return u=J("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>{const p=kf(this.apiClient,m),h=new ci;return Object.assign(h,p),h})}else{const f=Ef(this.apiClient,e);return u=J("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>{const p=Af(this.apiClient,m),h=new ci;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=If(this.apiClient,e);u=J("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const m=this.apiClient;return s=m.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Mr(this,arguments,function*(){var h,g,y,x;try{for(var S=!0,C=ki(p),T;T=yield he(C.next()),h=T.done,!h;S=!0){x=T.value,S=!1;const I=kf(m,yield he(x.json())),R=new ci;Object.assign(R,I),yield yield he(R)}}catch(v){g={error:v}}finally{try{!S&&!h&&(y=C.return)&&(yield he(y.call(C)))}finally{if(g)throw g.error}}})})}else{const f=Ef(this.apiClient,e);u=J("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const m=this.apiClient;return s=m.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Mr(this,arguments,function*(){var h,g,y,x;try{for(var S=!0,C=ki(p),T;T=yield he(C.next()),h=T.done,!h;S=!0){x=T.value,S=!1;const I=Af(m,yield he(x.json())),R=new ci;Object.assign(R,I),yield yield he(R)}}catch(v){g={error:v}}finally{try{!S&&!h&&(y=C.return)&&(yield he(y.call(C)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=sN(this.apiClient,e);return u=J("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>{const p=cS(this.apiClient,m),h=new sf;return Object.assign(h,p),h})}else{const f=x_(this.apiClient,e);return u=J("{model}:batchEmbedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>{const p=$N(this.apiClient,m),h=new sf;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=aN(this.apiClient,e);return u=J("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>{const p=fS(this.apiClient,m),h=new lf;return Object.assign(h,p),h})}else{const f=T_(this.apiClient,e);return u=J("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>{const p=GN(this.apiClient,m),h=new lf;return Object.assign(h,p),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=hN(this.apiClient,e);return o=J("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=mS(this.apiClient,d),m=new x0;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=yN(this.apiClient,e);return o=J("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=pS(this.apiClient,d),m=new C0;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=vN(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>ba(this.apiClient,m))}else{const f=w_(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>Ra(this.apiClient,m))}}async listInternal(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=CN(this.apiClient,e);return u=J("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>{const p=vS(this.apiClient,m),h=new af;return Object.assign(h,p),h})}else{const f=N_(this.apiClient,e);return u=J("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>{const p=qN(this.apiClient,m),h=new af;return Object.assign(h,p),h})}}async update(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=wN(this.apiClient,e);return u=J("{model}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>ba(this.apiClient,m))}else{const f=E_(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>Ra(this.apiClient,m))}}async delete(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=_N(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(()=>{const m=xS(),p=new uf;return Object.assign(p,m),p})}else{const f=I_(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(()=>{const m=HN(),p=new uf;return Object.assign(p,m),p})}}async countTokens(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=SN(this.apiClient,e);return u=J("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>{const p=CS(this.apiClient,m),h=new cf;return Object.assign(h,p),h})}else{const f=k_(this.apiClient,e);return u=J("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>{const p=WN(this.apiClient,m),h=new cf;return Object.assign(h,p),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=EN(this.apiClient,e);return o=J("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=TS(this.apiClient,d),m=new T0;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=AN(this.apiClient,e);return u=J("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>SS(this.apiClient,m))}else{const f=R_(this.apiClient,e);return u=J("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>ZN(this.apiClient,m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZS(t,e){const n={},r=l(e,["operationName"]);r!=null&&a(n,["_url","operationName"],r);const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function QS(t,e){const n={},r=l(e,["operationName"]);r!=null&&a(n,["_url","operationName"],r);const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function XS(t,e){const n={},r=l(e,["operationName"]);r!=null&&a(n,["operationName"],r);const i=l(e,["resourceName"]);i!=null&&a(n,["_url","resourceName"],i);const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function eE(t,e){const n={},r=l(e,["video","uri"]);r!=null&&a(n,["uri"],r);const i=l(e,["video","encodedVideo"]);i!=null&&a(n,["videoBytes"],Pn(t,i));const o=l(e,["encoding"]);return o!=null&&a(n,["mimeType"],o),n}function tE(t,e){const n={},r=l(e,["_self"]);return r!=null&&a(n,["video"],eE(t,r)),n}function nE(t,e){const n={},r=l(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>tE(t,u))),a(n,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const o=l(e,["raiMediaFilteredReasons"]);return o!=null&&a(n,["raiMediaFilteredReasons"],o),n}function rE(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["metadata"]);i!=null&&a(n,["metadata"],i);const o=l(e,["done"]);o!=null&&a(n,["done"],o);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],nE(t,u)),n}function iE(t,e){const n={},r=l(e,["gcsUri"]);r!=null&&a(n,["uri"],r);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(n,["videoBytes"],Pn(t,i));const o=l(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function oE(t,e){const n={},r=l(e,["_self"]);return r!=null&&a(n,["video"],iE(t,r)),n}function sE(t,e){const n={},r=l(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>oE(t,u))),a(n,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const o=l(e,["raiMediaFilteredReasons"]);return o!=null&&a(n,["raiMediaFilteredReasons"],o),n}function Lf(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["metadata"]);i!=null&&a(n,["metadata"],i);const o=l(e,["done"]);o!=null&&a(n,["done"],o);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],sE(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lE extends Kr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=QS(this.apiClient,e);return u=J("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>Lf(this.apiClient,m))}else{const f=ZS(this.apiClient,e);return u=J("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>rE(this.apiClient,m))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=XS(this.apiClient,e);return o=J("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>Lf(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aE(t,e){const n={},r=l(e,["voiceName"]);return r!=null&&a(n,["voiceName"],r),n}function Fh(t,e){const n={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(n,["prebuiltVoiceConfig"],aE(t,r)),n}function uE(t,e){const n={},r=l(e,["speaker"]);r!=null&&a(n,["speaker"],r);const i=l(e,["voiceConfig"]);return i!=null&&a(n,["voiceConfig"],Fh(t,i)),n}function cE(t,e){const n={},r=l(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>uE(t,o))),a(n,["speakerVoiceConfigs"],i)}return n}function dE(t,e){const n={},r=l(e,["voiceConfig"]);r!=null&&a(n,["voiceConfig"],Fh(t,r));const i=l(e,["multiSpeakerVoiceConfig"]);i!=null&&a(n,["multiSpeakerVoiceConfig"],cE(t,i));const o=l(e,["languageCode"]);return o!=null&&a(n,["languageCode"],o),n}function fE(t,e){const n={},r=l(e,["fps"]);r!=null&&a(n,["fps"],r);const i=l(e,["endOffset"]);i!=null&&a(n,["endOffset"],i);const o=l(e,["startOffset"]);return o!=null&&a(n,["startOffset"],o),n}function mE(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function pE(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["fileUri"]);r!=null&&a(n,["fileUri"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function hE(t,e){const n={},r=l(e,["videoMetadata"]);r!=null&&a(n,["videoMetadata"],fE(t,r));const i=l(e,["thought"]);i!=null&&a(n,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(n,["inlineData"],mE(t,o));const s=l(e,["fileData"]);s!=null&&a(n,["fileData"],pE(t,s));const u=l(e,["thoughtSignature"]);u!=null&&a(n,["thoughtSignature"],u);const d=l(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const f=l(e,["executableCode"]);f!=null&&a(n,["executableCode"],f);const m=l(e,["functionCall"]);m!=null&&a(n,["functionCall"],m);const p=l(e,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const h=l(e,["text"]);return h!=null&&a(n,["text"],h),n}function gE(t,e){const n={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>hE(t,s))),a(n,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(n,["role"],i),n}function yE(t,e){const n={},r=l(e,["behavior"]);r!=null&&a(n,["behavior"],r);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const o=l(e,["name"]);o!=null&&a(n,["name"],o);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function vE(t,e){const n={},r=l(e,["startTime"]);r!=null&&a(n,["startTime"],r);const i=l(e,["endTime"]);return i!=null&&a(n,["endTime"],i),n}function xE(t,e){const n={},r=l(e,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],vE(t,r)),n}function CE(t,e){const n={},r=l(e,["mode"]);r!=null&&a(n,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(n,["dynamicThreshold"],i),n}function TE(t,e){const n={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(n,["dynamicRetrievalConfig"],CE(t,r)),n}function wE(){return{}}function _E(t,e){const n={},r=l(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>yE(t,f))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],xE(t,i));const o=l(e,["googleSearchRetrieval"]);if(o!=null&&a(n,["googleSearchRetrieval"],TE(t,o)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],wE());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function NE(t,e){const n={},r=l(e,["handle"]);if(r!=null&&a(n,["handle"],r),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Ff(){return{}}function SE(t,e){const n={},r=l(e,["disabled"]);r!=null&&a(n,["disabled"],r);const i=l(e,["startOfSpeechSensitivity"]);i!=null&&a(n,["startOfSpeechSensitivity"],i);const o=l(e,["endOfSpeechSensitivity"]);o!=null&&a(n,["endOfSpeechSensitivity"],o);const s=l(e,["prefixPaddingMs"]);s!=null&&a(n,["prefixPaddingMs"],s);const u=l(e,["silenceDurationMs"]);return u!=null&&a(n,["silenceDurationMs"],u),n}function EE(t,e){const n={},r=l(e,["automaticActivityDetection"]);r!=null&&a(n,["automaticActivityDetection"],SE(t,r));const i=l(e,["activityHandling"]);i!=null&&a(n,["activityHandling"],i);const o=l(e,["turnCoverage"]);return o!=null&&a(n,["turnCoverage"],o),n}function IE(t,e){const n={},r=l(e,["targetTokens"]);return r!=null&&a(n,["targetTokens"],r),n}function AE(t,e){const n={},r=l(e,["triggerTokens"]);r!=null&&a(n,["triggerTokens"],r);const i=l(e,["slidingWindow"]);return i!=null&&a(n,["slidingWindow"],IE(t,i)),n}function kE(t,e){const n={},r=l(e,["proactiveAudio"]);return r!=null&&a(n,["proactiveAudio"],r),n}function ME(t,e,n){const r={},i=l(e,["generationConfig"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig"],i);const o=l(e,["responseModalities"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig","responseModalities"],o);const s=l(e,["temperature"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topP"],u);const d=l(e,["topK"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","topK"],d);const f=l(e,["maxOutputTokens"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","maxOutputTokens"],f);const m=l(e,["mediaResolution"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","mediaResolution"],m);const p=l(e,["seed"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","speechConfig"],dE(t,$u(t,h)));const g=l(e,["enableAffectiveDialog"]);n!==void 0&&g!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],g);const y=l(e,["systemInstruction"]);n!==void 0&&y!=null&&a(n,["setup","systemInstruction"],gE(t,Ye(t,y)));const x=l(e,["tools"]);if(n!==void 0&&x!=null){let _=oo(t,x);Array.isArray(_)&&(_=_.map(D=>_E(t,io(t,D)))),a(n,["setup","tools"],_)}const S=l(e,["sessionResumption"]);n!==void 0&&S!=null&&a(n,["setup","sessionResumption"],NE(t,S));const C=l(e,["inputAudioTranscription"]);n!==void 0&&C!=null&&a(n,["setup","inputAudioTranscription"],Ff());const T=l(e,["outputAudioTranscription"]);n!==void 0&&T!=null&&a(n,["setup","outputAudioTranscription"],Ff());const v=l(e,["realtimeInputConfig"]);n!==void 0&&v!=null&&a(n,["setup","realtimeInputConfig"],EE(t,v));const I=l(e,["contextWindowCompression"]);n!==void 0&&I!=null&&a(n,["setup","contextWindowCompression"],AE(t,I));const R=l(e,["proactivity"]);return n!==void 0&&R!=null&&a(n,["setup","proactivity"],kE(t,R)),r}function PE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],fe(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],ME(t,i,n)),n}function RE(t,e,n){const r={},i=l(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const o=l(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&a(n,["newSessionExpireTime"],o);const s=l(e,["uses"]);n!==void 0&&s!=null&&a(n,["uses"],s);const u=l(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],PE(t,u));const d=l(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&a(n,["fieldMask"],d),r}function bE(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],RE(t,r,n)),n}function DE(t,e){const n={},r=l(e,["name"]);return r!=null&&a(n,["name"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LE(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function FE(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=LE(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class VE extends Kr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=bE(this.apiClient,e);o=J("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const d=FE(u,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>DE(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UE(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],r);const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function jE(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=l(e,["pageToken"]);n!==void 0&&o!=null&&a(n,["_query","pageToken"],o);const s=l(e,["filter"]);return n!==void 0&&s!=null&&a(n,["_query","filter"],s),r}function $E(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],jE(t,r,n)),n}function OE(t,e){const n={},r=l(e,["textInput"]);r!=null&&a(n,["textInput"],r);const i=l(e,["output"]);return i!=null&&a(n,["output"],i),n}function BE(t,e){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>OE(t,o))),a(n,["examples","examples"],i)}return n}function GE(t,e,n){const r={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=l(e,["tunedModelDisplayName"]);if(n!==void 0&&i!=null&&a(n,["displayName"],i),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=l(e,["epochCount"]);n!==void 0&&o!=null&&a(n,["tuningTask","hyperparameters","epochCount"],o);const s=l(e,["learningRateMultiplier"]);if(s!=null&&a(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=l(e,["batchSize"]);n!==void 0&&u!=null&&a(n,["tuningTask","hyperparameters","batchSize"],u);const d=l(e,["learningRate"]);return n!==void 0&&d!=null&&a(n,["tuningTask","hyperparameters","learningRate"],d),r}function zE(t,e){const n={},r=l(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const i=l(e,["trainingDataset"]);i!=null&&a(n,["tuningTask","trainingData"],BE(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],GE(t,o,n)),n}function qE(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],r);const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function HE(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=l(e,["pageToken"]);n!==void 0&&o!=null&&a(n,["_query","pageToken"],o);const s=l(e,["filter"]);return n!==void 0&&s!=null&&a(n,["_query","filter"],s),r}function WE(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],HE(t,r,n)),n}function JE(t,e,n){const r={},i=l(e,["gcsUri"]);if(n!==void 0&&i!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],i),l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function YE(t,e){const n={},r=l(e,["gcsUri"]);return r!=null&&a(n,["validationDatasetUri"],r),n}function KE(t,e,n){const r={},i=l(e,["validationDataset"]);n!==void 0&&i!=null&&a(n,["supervisedTuningSpec"],YE(t,i));const o=l(e,["tunedModelDisplayName"]);n!==void 0&&o!=null&&a(n,["tunedModelDisplayName"],o);const s=l(e,["description"]);n!==void 0&&s!=null&&a(n,["description"],s);const u=l(e,["epochCount"]);n!==void 0&&u!=null&&a(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=l(e,["learningRateMultiplier"]);n!==void 0&&d!=null&&a(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const f=l(e,["exportLastCheckpointOnly"]);n!==void 0&&f!=null&&a(n,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const m=l(e,["adapterSize"]);if(n!==void 0&&m!=null&&a(n,["supervisedTuningSpec","hyperParameters","adapterSize"],m),l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function ZE(t,e){const n={},r=l(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const i=l(e,["trainingDataset"]);i!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],JE(t,i,n));const o=l(e,["config"]);return o!=null&&a(n,["config"],KE(t,o,n)),n}function QE(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["model"],r);const i=l(e,["name"]);return i!=null&&a(n,["endpoint"],i),n}function Vh(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["state"]);i!=null&&a(n,["state"],xh(t,i));const o=l(e,["createTime"]);o!=null&&a(n,["createTime"],o);const s=l(e,["tuningTask","startTime"]);s!=null&&a(n,["startTime"],s);const u=l(e,["tuningTask","completeTime"]);u!=null&&a(n,["endTime"],u);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=l(e,["description"]);f!=null&&a(n,["description"],f);const m=l(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const p=l(e,["_self"]);p!=null&&a(n,["tunedModel"],QE(t,p));const h=l(e,["distillationSpec"]);h!=null&&a(n,["distillationSpec"],h);const g=l(e,["experiment"]);g!=null&&a(n,["experiment"],g);const y=l(e,["labels"]);y!=null&&a(n,["labels"],y);const x=l(e,["pipelineJob"]);x!=null&&a(n,["pipelineJob"],x);const S=l(e,["serviceAccount"]);S!=null&&a(n,["serviceAccount"],S);const C=l(e,["tunedModelDisplayName"]);return C!=null&&a(n,["tunedModelDisplayName"],C),n}function XE(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Vh(t,s))),a(n,["tuningJobs"],o)}return n}function eI(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["metadata"]);i!=null&&a(n,["metadata"],i);const o=l(e,["done"]);o!=null&&a(n,["done"],o);const s=l(e,["error"]);return s!=null&&a(n,["error"],s),n}function tI(t,e){const n={},r=l(e,["checkpointId"]);r!=null&&a(n,["checkpointId"],r);const i=l(e,["epoch"]);i!=null&&a(n,["epoch"],i);const o=l(e,["step"]);o!=null&&a(n,["step"],o);const s=l(e,["endpoint"]);return s!=null&&a(n,["endpoint"],s),n}function nI(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],r);const i=l(e,["endpoint"]);i!=null&&a(n,["endpoint"],i);const o=l(e,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>tI(t,u))),a(n,["checkpoints"],s)}return n}function Fa(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["state"]);i!=null&&a(n,["state"],xh(t,i));const o=l(e,["createTime"]);o!=null&&a(n,["createTime"],o);const s=l(e,["startTime"]);s!=null&&a(n,["startTime"],s);const u=l(e,["endTime"]);u!=null&&a(n,["endTime"],u);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=l(e,["error"]);f!=null&&a(n,["error"],f);const m=l(e,["description"]);m!=null&&a(n,["description"],m);const p=l(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=l(e,["tunedModel"]);h!=null&&a(n,["tunedModel"],nI(t,h));const g=l(e,["supervisedTuningSpec"]);g!=null&&a(n,["supervisedTuningSpec"],g);const y=l(e,["tuningDataStats"]);y!=null&&a(n,["tuningDataStats"],y);const x=l(e,["encryptionSpec"]);x!=null&&a(n,["encryptionSpec"],x);const S=l(e,["partnerModelTuningSpec"]);S!=null&&a(n,["partnerModelTuningSpec"],S);const C=l(e,["distillationSpec"]);C!=null&&a(n,["distillationSpec"],C);const T=l(e,["experiment"]);T!=null&&a(n,["experiment"],T);const v=l(e,["labels"]);v!=null&&a(n,["labels"],v);const I=l(e,["pipelineJob"]);I!=null&&a(n,["pipelineJob"],I);const R=l(e,["serviceAccount"]);R!=null&&a(n,["serviceAccount"],R);const _=l(e,["tunedModelDisplayName"]);return _!=null&&a(n,["tunedModelDisplayName"],_),n}function rI(t,e){const n={},r=l(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=l(e,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Fa(t,s))),a(n,["tuningJobs"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iI extends Kr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Os(zr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:Ia.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=qE(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>Fa(this.apiClient,m))}else{const f=UE(this.apiClient,e);return u=J("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>Vh(this.apiClient,m))}}async listInternal(e){var n,r,i,o;let s,u="",d={};if(this.apiClient.isVertexAI()){const f=WE(this.apiClient,e);return u=J("tuningJobs",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>{const p=rI(this.apiClient,m),h=new df;return Object.assign(h,p),h})}else{const f=$E(this.apiClient,e);return u=J("tunedModels",f._url),d=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),s.then(m=>{const p=XE(this.apiClient,m),h=new df;return Object.assign(h,p),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=ZE(this.apiClient,e);return o=J("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>Fa(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zE(this.apiClient,e);return o=J("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>eI(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oI{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sI=1024*1024*8,lI=3,aI=1e3,uI=2,Nl="x-goog-upload-status";async function cI(t,e,n){var r,i,o;let s=0,u=0,d=new Aa(new Response),f="upload";for(s=t.size;u<s;){const p=Math.min(sI,s-u),h=t.slice(u,u+p);u+p>=s&&(f+=", finalize");let g=0,y=aI;for(;g<lI&&(d=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[Nl]));)g++,await fI(y),y=y*uI;if(u+=p,((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[Nl])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const m=await(d==null?void 0:d.json());if(((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[Nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return m.file}async function dI(t){return{size:t.size,type:t.type}}function fI(t){return new Promise(e=>setTimeout(e,t))}class mI{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cI(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dI(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pI{create(e,n,r){return new hI(e,n,r)}}class hI{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vf="x-goog-api-key";class gI{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Vf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Vf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yI="gl-node/";class Uh{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=v0(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new gI(this.apiKey);this.apiClient=new bS({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:yI+"web",uploader:new mI,downloader:new oI}),this.models=new KS(this.apiClient),this.live=new qS(this.apiClient,i,new pI),this.chats=new qC(this.models,this.apiClient),this.caches=new BC(this.apiClient),this.files=new iT(this.apiClient),this.operations=new lE(this.apiClient),this.authTokens=new VE(this.apiClient),this.tunings=new iI(this.apiClient)}}var vI={};const Uf=vI.API_KEY;let Va=null;Uf?Va=new Uh({apiKey:Uf}):console.error("Gemini API Key is not configured. Calorie calculator will not work.");const xI=t=>k.activityLevels[t]||String(t),CI=t=>k.calorieGoals[t]||String(t),TI=async t=>{if(!Va)return Promise.reject("Gemini API client not initialized. API Key might be missing.");const e=t.gender==="male"?k.male:k.female,n=xI(t.activityLevel),r=CI(t.goal),i=`
    أنت خبير تغذية. برجاء حساب السعرات الحرارية اليومية المطلوبة لشخص بناءً على البيانات التالية:
    - العمر: ${t.age} سنة
    - الوزن: ${t.weight} كجم
    - الطول: ${t.height} سم
    - الجنس: ${e}
    - مستوى النشاط: ${n}
    - الهدف: ${r}

    قدم الناتج كرقم يمثل عدد السعرات الحرارية فقط، بدون أي نص إضافي. على سبيل المثال: 2500
  `;try{const s=((await Va.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:i})).text??"").trim();if(/^\d+$/.test(s))return s;{console.warn("Gemini response was not a plain number:",s);const u=s.match(/\d+/);return u&&u[0]?u[0]:Promise.reject("لم يتمكن الذكاء الاصطناعي من حساب السعرات. حاول تعديل المدخلات.")}}catch(o){return console.error("Error calling Gemini API:",o),Promise.reject("حدث خطأ أثناء الاتصال بخدمة الذكاء الاصطناعي لحساب السعرات.")}},wI=({size:t="md"})=>{const e={sm:"w-6 h-6 border-2",md:"w-10 h-10 border-4",lg:"w-16 h-16 border-4"};return c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:`animate-spin rounded-full ${e[t]} border-t-transparent border-blue-400`})})},_I=()=>{const[t,e]=w.useState({age:30,weight:70,height:170,activityLevel:Bn.MODERATE,goal:Ai.MAINTAIN_WEIGHT,gender:"male"}),[n,r]=w.useState(null),[i,o]=w.useState(null),[s,u]=w.useState(!1),d=Object.entries(k.activityLevels).map(([g,y])=>({value:g,label:y})),f=Object.entries(k.calorieGoals).map(([g,y])=>({value:g,label:y})),m=[{value:"male",label:k.male},{value:"female",label:k.female}],p=g=>{const{name:y,value:x}=g.target;e(S=>({...S,[y]:y==="age"||y==="weight"||y==="height"?parseFloat(x):x}))},h=async g=>{g.preventDefault(),o(null),r(null),u(!0);try{const y=await TI(t);r(y)}catch(y){o(y.message||"حدث خطأ غير متوقع.")}finally{u(!1)}};return c.jsxs("div",{className:"p-6 bg-gray-800 shadow-lg rounded-lg max-w-2xl mx-auto text-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-center text-blue-400 mb-6",children:k.calorieCalculator}),c.jsx("p",{className:"text-gray-400 text-center mb-6",children:"استخدم هذه الحاسبة المدعومة بالذكاء الاصطناعي لتقدير احتياجاتك اليومية من السعرات الحرارية."}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(ge,{label:k.age,type:"number",name:"age",value:t.age,onChange:p,required:!0,min:"15",max:"100"}),c.jsx(ge,{label:k.weight,type:"number",name:"weight",value:t.weight,onChange:p,required:!0,min:"30",max:"300",step:"0.1"}),c.jsx(ge,{label:k.height,type:"number",name:"height",value:t.height,onChange:p,required:!0,min:"100",max:"250"}),c.jsx(yt,{label:k.gender,name:"gender",value:t.gender,onChange:p,options:m})]}),c.jsx(yt,{label:k.activityLevel,name:"activityLevel",value:t.activityLevel,onChange:p,options:d}),c.jsx(yt,{label:k.goal,name:"goal",value:t.goal,onChange:p,options:f}),c.jsx(ne,{type:"submit",isLoading:s,className:"w-full",children:k.calculate})]}),s&&c.jsx("div",{className:"mt-6",children:c.jsx(wI,{})}),i&&c.jsx("p",{className:"mt-6 text-center text-red-400 bg-red-900 bg-opacity-30 p-3 rounded-md",children:i}),n&&!s&&c.jsxs("div",{className:"mt-8 p-6 bg-green-700 bg-opacity-30 border-s-4 border-green-500 rounded-md shadow",children:[c.jsx("h3",{className:"text-xl font-semibold text-green-300",children:k.dailyCalories}),c.jsxs("p",{className:"text-3xl font-bold text-green-200 mt-2",children:[n," سعرة حرارية/يوم"]})]})]})},NI=()=>{var y;const{user:t,updateUser:e,actionLoading:n,plans:r,fetchPlans:i}=Ae(),[o,s]=w.useState(!1),[u,d]=w.useState({}),[f,m]=w.useState("");if(w.useEffect(()=>{t&&d({name:t.name,email:t.email,phoneNumber:t.phoneNumber,country:t.country})},[t]),w.useEffect(()=>{r.length||i()},[r,i]),!t)return c.jsx("p",{className:"text-blue-300",children:"جاري تحميل بيانات المستخدم..."});const p=x=>{d({...u,[x.target.name]:x.target.value})},h=async x=>{if(x.preventDefault(),m(""),!u.phoneNumber||!u.country){m("رقم الهاتف والدولة حقول إجبارية.");return}const S={};u.name!==void 0&&(S.name=u.name),u.email!==void 0&&(S.email=u.email),u.phoneNumber!==void 0&&(S.phoneNumber=u.phoneNumber),u.country!==void 0&&(S.country=u.country),await e(t.id,S)?(m("تم تحديث الملف الشخصي بنجاح!"),s(!1)):m("فشل تحديث الملف الشخصي.")},g=r.find(x=>x.id===t.selectedPlanId);return c.jsxs("div",{className:"bg-gray-800 p-6 md:p-8 rounded-lg shadow-xl max-w-2xl mx-auto text-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:k.viewProfile}),!o&&c.jsxs(ne,{onClick:()=>s(!0),variant:"secondary",children:[c.jsx("i",{className:"fas fa-edit me-2"}),k.edit]})]}),f&&c.jsx("p",{className:`mb-4 p-3 rounded text-sm ${f.includes("نجاح")?"bg-green-700 bg-opacity-40 text-green-300":"bg-red-700 bg-opacity-40 text-red-300"}`,children:f}),o?c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsx(ge,{label:k.name,name:"name",value:u.name||"",onChange:p}),c.jsx(ge,{label:k.email,name:"email",type:"email",value:u.email||"",onChange:p}),c.jsx(ge,{label:k.phoneNumber,name:"phoneNumber",type:"tel",value:u.phoneNumber||"",onChange:p,required:!0}),c.jsx(yt,{label:k.country,name:"country",value:u.country||"",onChange:p,options:Ki,required:!0}),c.jsxs("div",{className:"flex space-s-3 pt-4",children:[c.jsx(ne,{type:"submit",isLoading:n,variant:"primary",children:k.save}),c.jsx(ne,{type:"button",onClick:()=>{s(!1),m("")},variant:"secondary",disabled:n,children:k.cancel})]})]}):c.jsxs("div",{className:"space-y-5",children:[c.jsx(Vn,{label:k.name,value:t.name||"غير محدد",icon:"fas fa-user"}),c.jsx(Vn,{label:k.email,value:t.email||"غير محدد",icon:"fas fa-envelope"}),c.jsx(Vn,{label:k.phoneNumber,value:t.phoneNumber,icon:"fas fa-phone"}),c.jsx(Vn,{label:k.country,value:((y=Ki.find(x=>x.value===t.country))==null?void 0:y.label)||t.country,icon:"fas fa-flag"}),c.jsx(Vn,{label:"الدور",value:k[t.role]||t.role,icon:"fas fa-user-tag"}),c.jsx(Vn,{label:"حالة الحساب",value:k[t.status]||t.status,icon:"fas fa-check-circle"}),g&&c.jsx(Vn,{label:"الخطة التدريبية",value:`${g.name} (${g.price} ر.س)`,icon:"fas fa-clipboard-list"})]})]})},Vn=({label:t,value:e,icon:n})=>c.jsxs("div",{className:"flex items-start",children:[n&&c.jsx("i",{className:`${n} text-blue-400 w-6 text-center me-3 mt-1`}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:t}),c.jsx("p",{className:"text-md text-gray-100",children:e})]})]}),SI=()=>{const{user:t,userNotifications:e,fetchNotifications:n,markNotificationAsRead:r,actionLoading:i}=Ae();w.useEffect(()=>{t&&n()},[t,n]);const o=async s=>{await r(s)};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-3xl mx-auto text-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-6",children:k.notifications}),i&&e.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الإشعارات..."}),!i&&e.length===0&&c.jsxs("p",{className:"text-gray-400 text-center py-8",children:[k.noDataAvailable," لا توجد إشعارات جديدة."]}),e.length>0&&c.jsx("ul",{className:"space-y-4",children:e.map(s=>c.jsxs("li",{className:`p-4 rounded-lg border-s-4 ${s.read?"bg-gray-750 border-gray-600":"bg-blue-700 bg-opacity-30 border-blue-500 shadow-sm"}`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-semibold ${s.read?"text-gray-300":"text-blue-300"}`,children:s.title}),c.jsx("p",{className:`text-sm mt-1 ${s.read?"text-gray-400":"text-gray-200"}`,children:s.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(s.sentAt).toLocaleString("ar-SA",{dateStyle:"medium",timeStyle:"short"})})]}),!s.read&&c.jsxs("button",{onClick:()=>o(s.id),className:"text-xs text-blue-400 hover:text-blue-300 font-medium",title:"وضع علامة كمقروء",disabled:i,children:[c.jsx("i",{className:"fas fa-check-circle me-1"})," تمييز كمقروء"]})]}),s.link&&c.jsxs(Re,{to:s.link,className:"text-sm text-blue-400 hover:underline mt-2 inline-block",children:[c.jsx("i",{className:"fas fa-link me-1"})," اذهب إلى الرابط"]})]},s.id))})]})},EI=()=>{const{user:t}=Ae(),e=sr();if(!t)return c.jsx(je,{to:"/login"});const n=[{path:"profile",label:k.viewProfile,icon:"fas fa-user-circle"},{path:"calculator",label:k.calorieCalculator,icon:"fas fa-calculator"},{path:"notifications",label:k.notifications,icon:"fas fa-bell"}];let r=[];switch(t.role){case q.ADMIN:r=[{path:"admin",label:k.adminDashboard,icon:"fas fa-tachometer-alt"},{path:"admin/users",label:k.userManagement,icon:"fas fa-users-cog"},{path:"admin/plans",label:k.planManagement,icon:"fas fa-clipboard-list"},{path:"admin/send-notification",label:k.sendNotification,icon:"fas fa-paper-plane"},{path:"admin/ratings",label:"مراجعة التقييمات",icon:"fas fa-star-half-alt"}];break;case q.TRAINER:r=[{path:"trainer",label:k.trainerDashboard,icon:"fas fa-chalkboard-teacher"},{path:"trainer/my-trainees",label:k.myTrainees,icon:"fas fa-users"},{path:"trainer/videos",label:k.trainingVideos,icon:"fas fa-video"},{path:"trainer/nutrition",label:k.nutritionFiles,icon:"fas fa-apple-alt"},{path:"trainer/manage-schedules",label:"إدارة جداول المتدربين",icon:"fas fa-calendar-check"}];break;case q.TRAINEE:r=[{path:"trainee",label:k.traineeDashboard,icon:"fas fa-dumbbell"},{path:"trainee/videos",label:k.trainingVideos,icon:"fas fa-video"},{path:"trainee/nutrition",label:k.nutritionFiles,icon:"fas fa-apple-alt"},{path:"trainee/schedule",label:k.mySchedule,icon:"fas fa-calendar-alt"},{path:"trainee/chat",label:k.chatWithTrainer,icon:"fas fa-comments"},{path:"trainee/rate-plan",label:k.ratePlan,icon:"fas fa-star"},{path:"trainee/rate-trainer",label:k.rateTrainer,icon:"fas fa-user-check"}];break}const i=[...r,...n],o=e.pathname.split("/")[2];return c.jsxs("div",{className:"flex flex-col md:flex-row min-h-[calc(100vh-150px)]",children:[c.jsxs("aside",{className:"w-full md:w-64 bg-gray-800 text-gray-300 p-4 space-y-2 md:sticky md:top-0 md:h-screen overflow-y-auto",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 border-b border-gray-700 pb-2 text-gray-100",children:k.dashboard}),i.map(s=>{const u=e.pathname===`/dashboard/${s.path}`||o&&s.path.startsWith(o)&&e.pathname.startsWith(`/dashboard/${o}`);return c.jsxs(Re,{to:`/dashboard/${s.path}`,className:`block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white ${u?"bg-blue-500 text-white":"text-gray-300"}`,children:[c.jsx("i",{className:`${s.icon} me-2 w-5 text-center`}),s.label]},s.path)})]}),c.jsx("div",{className:"flex-1 p-6 bg-gray-900 shadow-lg md:ms-4",children:c.jsxs(js,{children:[t.role===q.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(z,{index:!0,element:c.jsx(je,{to:"admin"})}),c.jsx(z,{path:"admin",element:c.jsx(ai,{})}),c.jsx(z,{path:"admin/users",element:c.jsx(ai,{activeTab:"users"})}),c.jsx(z,{path:"admin/plans",element:c.jsx(ai,{activeTab:"plans"})}),c.jsx(z,{path:"admin/send-notification",element:c.jsx(ai,{activeTab:"send-notification"})}),c.jsx(z,{path:"admin/ratings",element:c.jsx(ai,{activeTab:"ratings"})})]}),t.role===q.TRAINER&&c.jsxs(c.Fragment,{children:[c.jsx(z,{index:!0,element:c.jsx(je,{to:"trainer"})}),c.jsx(z,{path:"trainer",element:c.jsx(ui,{})}),c.jsx(z,{path:"trainer/my-trainees",element:c.jsx(ui,{activeTab:"my-trainees"})}),c.jsx(z,{path:"trainer/videos",element:c.jsx(ui,{activeTab:"videos"})}),c.jsx(z,{path:"trainer/nutrition",element:c.jsx(ui,{activeTab:"nutrition"})}),c.jsx(z,{path:"trainer/manage-schedules",element:c.jsx(ui,{activeTab:"manage-schedules"})})]}),t.role===q.TRAINEE&&c.jsxs(c.Fragment,{children:[c.jsx(z,{index:!0,element:c.jsx(je,{to:"trainee"})}),c.jsx(z,{path:"trainee",element:c.jsx(Ln,{})}),c.jsx(z,{path:"trainee/videos",element:c.jsx(Ln,{activeTab:"videos"})}),c.jsx(z,{path:"trainee/nutrition",element:c.jsx(Ln,{activeTab:"nutrition"})}),c.jsx(z,{path:"trainee/schedule",element:c.jsx(Ln,{activeTab:"schedule"})}),c.jsx(z,{path:"trainee/chat",element:c.jsx(Ln,{activeTab:"chat"})}),c.jsx(z,{path:"trainee/rate-plan",element:c.jsx(Ln,{activeTab:"rate-plan"})}),c.jsx(z,{path:"trainee/rate-trainer",element:c.jsx(Ln,{activeTab:"rate-trainer"})})]}),c.jsx(z,{path:"profile",element:c.jsx(NI,{})}),c.jsx(z,{path:"calculator",element:c.jsx(_I,{})}),c.jsx(z,{path:"notifications",element:c.jsx(SI,{})}),c.jsx(z,{path:"*",element:c.jsx(je,{to:t.role})})]})})]})},II=()=>{const{user:t,logout:e}=Ae(),n=kn(),r=()=>{e(),n("/login")};return c.jsx("nav",{className:"bg-gray-800 text-gray-200 shadow-lg",children:c.jsxs("div",{className:"container mx-auto px-6 py-3 flex justify-between items-center",children:[c.jsx(Re,{to:"/",className:"text-2xl font-bold text-blue-400 hover:text-blue-300 transition-colors",children:vx}),c.jsx("div",{className:"flex items-center space-s-4",children:t?c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"text-sm hidden md:inline text-gray-300",children:["مرحباً, ",t.name||t.email||t.phoneNumber]}),t.role===q.ADMIN&&c.jsx(Re,{to:"/dashboard/admin",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:k.adminDashboard}),t.role===q.TRAINER&&c.jsx(Re,{to:"/dashboard/trainer",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:k.trainerDashboard}),t.role===q.TRAINEE&&c.jsx(Re,{to:"/dashboard/trainee",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:k.traineeDashboard}),c.jsx(Re,{to:"/dashboard/calculator",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:k.calorieCalculator}),c.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded transition-colors",children:k.logout})]}):c.jsxs(c.Fragment,{children:[c.jsx(Re,{to:"/login",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:k.login}),c.jsx(Re,{to:"/signup",className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded transition-colors",children:k.signup})]})})]})})},AI=()=>c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] text-center px-4",children:[c.jsx("h1",{className:"text-9xl font-bold text-blue-500",children:"404"}),c.jsx("h2",{className:"text-3xl font-semibold text-gray-100 mt-4 mb-2",children:"الصفحة غير موجودة"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"عذراً، لم نتمكن من العثور على الصفحة التي تبحث عنها."}),c.jsx(Re,{to:"/",className:"px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300",children:"العودة إلى الصفحة الرئيسية"})]}),kI=()=>{const{user:t,loading:e}=Ae();return e?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:c.jsx("div",{className:"text-xl font-semibold text-blue-400",children:"جاري التحميل..."})}):c.jsx(ah,{children:c.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-900",children:[c.jsx(II,{}),c.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:c.jsxs(js,{children:[c.jsx(z,{path:"/login",element:t?c.jsx(je,{to:"/dashboard"}):c.jsx(Cx,{})}),c.jsx(z,{path:"/signup",element:t?c.jsx(je,{to:"/dashboard"}):c.jsx(wx,{})}),c.jsx(z,{path:"/dashboard/*",element:t?c.jsx(EI,{}):c.jsx(je,{to:"/login"})}),c.jsx(z,{path:"/",element:c.jsx(je,{to:t?"/dashboard":"/login"})}),c.jsx(z,{path:"*",element:c.jsx(AI,{})})]})}),c.jsxs("footer",{className:"bg-gray-800 text-gray-300 text-center p-4",children:["© ",new Date().getFullYear()," منصة التدريب الرياضي. جميع الحقوق محفوظة."]})]})})},jh=document.getElementById("root");if(!jh)throw new Error("Could not find root element to mount to");const MI=Oo.createRoot(jh);MI.render(c.jsx(Ga.StrictMode,{children:c.jsx(yx,{children:c.jsx(kI,{})})}));var H=(t=>(t.ADMIN="admin",t.TRAINER="trainer",t.TRAINEE="trainee",t))(H||{}),Le=(t=>(t.PENDING="pending",t.ACTIVE="active",t.REJECTED="rejected",t))(Le||{}),Mi=(t=>(t.LOSE_WEIGHT="lose_weight",t.MAINTAIN_WEIGHT="maintain_weight",t.GAIN_WEIGHT="gain_weight",t))(Mi||{}),Gn=(t=>(t.SEDENTARY="sedentary",t.LIGHT="light",t.MODERATE="moderate",t.ACTIVE="active",t.VERY_ACTIVE="very_active",t))(Gn||{});const $h=w.createContext(void 0);async function ce(t,e={},n,r){const i={"Content-Type":"application/json"};n&&(i["x-user-id"]=n),r&&(i["x-user-role"]=r);const o={...e,headers:{...i,...e.headers}},s=await fetch(`/api${t}`,o);if(!s.ok){const u=await s.json().catch(()=>({message:"An unknown error occurred on the API server."}));throw console.error(`API Error (${s.status}) for ${t}:`,u),new Error(u.message||`Request failed with status ${s.status}`)}return s.status===204?null:s.json()}const PI=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState([]),[o,s]=w.useState([]),[u,d]=w.useState([]),[f,m]=w.useState([]),[p,h]=w.useState([]),[g,y]=w.useState([]),[x,S]=w.useState([]),[C,T]=w.useState([]),[v,I]=w.useState(!0),[R,_]=w.useState(!1),D=()=>{n(null),i([]),s([]),d([]),m([]),h([]),y([]),S([]),T([]),localStorage.removeItem("currentUserId")},A=async(N,E)=>{_(!0);try{const P=await ce("/login",{method:"POST",body:JSON.stringify({emailOrPhone:N,password:E})});return P&&P.user?(n(P.user),localStorage.setItem("currentUserId",P.user.id),await ee(P.user),!0):!1}catch(P){return alert(`فشل تسجيل الدخول: ${P.message}`),!1}finally{_(!1)}},U=async N=>{_(!0);try{const E=await ce("/signup",{method:"POST",body:JSON.stringify(N)});return alert(E.message||"تم التسجيل بنجاح! حسابك قيد المراجعة."),{success:!0,message:E.message}}catch(E){return alert(`فشل إنشاء الحساب: ${E.message}`),{success:!1,message:E.message}}finally{_(!1)}},V=()=>{D()},ee=w.useCallback(async N=>{N&&(I(!0),await $(),await Dn(),N.role===H.ADMIN?(await xe(),await Xr(),await le(),await st()):N.role===H.TRAINER?(await xe(),await le(N.id),await st({uploadedById:N.id})):N.role===H.TRAINEE&&(N.trainerId?await le(N.trainerId):await le(),await st({forTraineeId:N.id}),await Nt(N.id),N.trainerId&&await Qr(N.trainerId)),I(!1))},[]);w.useEffect(()=>{(async()=>{I(!0);const E=localStorage.getItem("currentUserId");if(E)try{_(!0);const P=await ce(`/get-current-user?userId=${E}`);P&&P.user?(n(P.user),await ee(P.user)):D()}catch(P){console.error("Auto-login failed:",P),D()}finally{_(!1)}I(!1)})()},[ee]);const xe=async()=>{if(!((e==null?void 0:e.role)!==H.ADMIN&&(e==null?void 0:e.role)!==H.TRAINER)){_(!0);try{const N=await ce("/get-users",{},e==null?void 0:e.id,e==null?void 0:e.role);N&&N.users&&i(N.users)}catch(N){console.error("Failed to fetch users:",N.message)}finally{_(!1)}}},b=async(N,E)=>{if((e==null?void 0:e.role)!==H.ADMIN)return alert("غير مصرح لك."),!1;_(!0);try{const P=await ce("/admin-manage-user",{method:"PUT",body:JSON.stringify({userId:N,...E})},e.id,e.role);return P&&P.user?(i(W=>W.map(Se=>Se.id===N?{...Se,...P.user}:Se)),e.id===N&&n(W=>W?{...W,...P.user}:null),!0):!1}catch(P){return alert(`فشل تحديث المستخدم: ${P.message}`),!1}finally{_(!1)}},Me=async(N,E)=>b(N,{status:E}),ot=async N=>b(N,{role:H.TRAINER,status:Le.ACTIVE}),Rn=async(N,E)=>{if(!e||e.id!==N&&e.role!==H.ADMIN)return alert("غير مصرح لك."),!1;_(!0);try{const P=await ce("/admin-manage-user",{method:"PUT",body:JSON.stringify({userId:N,...E})},e.id,e.role);return P&&P.user?(e.role===H.ADMIN&&i(W=>W.map(Se=>Se.id===N?{...Se,...P.user}:Se)),e.id===N&&n(W=>W?{...W,...P.user}:null),!0):!1}catch(P){return alert(`فشل تحديث الملف الشخصي: ${P.message}`),!1}finally{_(!1)}},bn=async(N,E)=>b(N,{trainerId:E}),$=async()=>{try{const N=await ce("/get-plans",{},e==null?void 0:e.id,e==null?void 0:e.role);N&&N.plans&&s(N.plans)}catch(N){console.error("Failed to fetch plans:",N.message)}},K=async N=>{if((e==null?void 0:e.role)!==H.ADMIN)return alert("غير مصرح لك."),null;_(!0);try{const E=await ce("/admin-manage-plan",{method:"POST",body:JSON.stringify(N)},e.id,e.role);return E&&E.plan?(s(P=>[...P,E.plan]),E.plan):null}catch(E){return alert(`فشل إضافة الخطة: ${E.message}`),null}finally{_(!1)}},Q=async(N,E)=>{if((e==null?void 0:e.role)!==H.ADMIN)return alert("غير مصرح لك."),null;_(!0);try{const P=await ce("/admin-manage-plan",{method:"PUT",body:JSON.stringify({planId:N,...E})},e.id,e.role);return P&&P.plan?(s(W=>W.map(Se=>Se.id===N?P.plan:Se)),P.plan):null}catch(P){return alert(`فشل تعديل الخطة: ${P.message}`),null}finally{_(!1)}},me=async N=>{if((e==null?void 0:e.role)!==H.ADMIN)return alert("غير مصرح لك."),{success:!1,message:"Unauthorized"};_(!0);try{return await ce("/admin-manage-plan",{method:"DELETE",body:JSON.stringify({planId:N})},e.id,e.role),s(E=>E.filter(P=>P.id!==N)),{success:!0,message:"تم حذف الخطة بنجاح."}}catch(E){return alert(`فشل حذف الخطة: ${E.message}`),{success:!1,message:E.message}}finally{_(!1)}},le=async N=>{_(!0);try{const E=N?`/training-videos?uploadedBy=${N}`:"/training-videos",P=await ce(E,{},e==null?void 0:e.id,e==null?void 0:e.role);P&&P.videos&&d(P.videos)}catch(E){console.error("Failed to fetch videos:",E.message)}finally{_(!1)}},Xt=async N=>{if(!e||e.role!==H.ADMIN&&e.role!==H.TRAINER)return alert("غير مصرح لك."),null;_(!0);try{const E={...N,uploadedBy:e.id},P=await ce("/training-videos",{method:"POST",body:JSON.stringify(E)},e.id,e.role);return P&&P.video?(d(W=>[P.video,...W]),P.video):null}catch(E){return alert(`Failed to add video: ${E.message}`),null}finally{_(!1)}},wt=async N=>{if(!e||e.role!==H.ADMIN&&e.role!==H.TRAINER)return alert("غير مصرح لك."),!1;_(!0);try{return await ce(`/training-videos?videoId=${N}`,{method:"DELETE"},e.id,e.role),d(E=>E.filter(P=>P.id!==N)),!0}catch(E){return alert(`Failed to delete video: ${E.message}`),!1}finally{_(!1)}},st=async N=>{_(!0);try{let E="/nutrition-files";N!=null&&N.uploadedById?E+=`?uploadedBy=${N.uploadedById}`:N!=null&&N.forTraineeId&&(E+=`?forTraineeId=${N.forTraineeId}`);const P=await ce(E,{},e==null?void 0:e.id,e==null?void 0:e.role);P&&P.files&&m(P.files)}catch(E){console.error("Failed to fetch nutrition files:",E.message)}finally{_(!1)}},_t=async N=>{if(!e||e.role!==H.ADMIN&&e.role!==H.TRAINER)return alert("غير مصرح لك."),null;_(!0);try{const E={...N,uploadedBy:e.id},P=await ce("/nutrition-files",{method:"POST",body:JSON.stringify(E)},e.id,e.role);return P&&P.file?(m(W=>[P.file,...W]),P.file):null}catch(E){return alert(`Failed to add nutrition file: ${E.message}`),null}finally{_(!1)}},en=async N=>{if(!e||e.role!==H.ADMIN&&e.role!==H.TRAINER)return alert("غير مصرح لك."),!1;_(!0);try{return await ce(`/nutrition-files?fileId=${N}`,{method:"DELETE"},e.id,e.role),m(E=>E.filter(P=>P.id!==N)),!0}catch(E){return alert(`Failed to delete nutrition file: ${E.message}`),!1}finally{_(!1)}},Nt=async N=>{if(e){_(!0);try{const E=await ce(`/trainee-schedules?traineeId=${N}`,{},e.id,e.role);E&&E.schedule?h(E.schedule):h([])}catch(E){console.error("Failed to fetch schedule:",E.message),h([])}finally{_(!1)}}},Gs=async N=>{if((e==null?void 0:e.role)!==H.TRAINER&&(e==null?void 0:e.role)!==H.ADMIN)return alert("غير مصرح لك."),null;_(!0);try{const E=await ce("/trainee-schedules",{method:"POST",body:JSON.stringify(N)},e.id,e.role);return E&&E.item?(Nt(N.traineeId),E.item):null}catch(E){return alert(`Failed to save schedule item: ${E.message}`),null}finally{_(!1)}},zs=async(N,E)=>{if((e==null?void 0:e.role)!==H.TRAINER&&(e==null?void 0:e.role)!==H.ADMIN)return alert("غير مصرح لك."),null;_(!0);try{const P={itemId:N,...E},W=await ce("/trainee-schedules",{method:"PUT",body:JSON.stringify(P)},e.id,e.role);return W&&W.item?(Nt(W.item.traineeId),W.item):null}catch(P){return alert(`Failed to update schedule item: ${P.message}`),null}finally{_(!1)}},qs=async N=>{if((e==null?void 0:e.role)!==H.TRAINER&&(e==null?void 0:e.role)!==H.ADMIN)return alert("غير مصرح لك."),!1;_(!0);try{const E=p.find(P=>P.id===N);return await ce(`/trainee-schedules?itemId=${N}`,{method:"DELETE"},e.id,e.role),E&&Nt(E.traineeId),!0}catch(E){return alert(`Failed to delete schedule item: ${E.message}`),!1}finally{_(!1)}},Qr=async N=>{if(e){_(!0);try{const E=await ce(`/messages?chatPartnerId=${N}`,{},e.id,e.role);E&&E.messages?y(E.messages):y([])}catch(E){console.error("Failed to fetch messages:",E.message),y([])}finally{_(!1)}}},Hs=async N=>{if(!e)return null;_(!0);try{const E={...N,senderId:e.id},P=await ce("/messages",{method:"POST",body:JSON.stringify(E)},e.id,e.role);return P&&P.message?(y(W=>[...W,P.message]),P.message):null}catch(E){return alert(`Failed to send message: ${E.message}`),null}finally{_(!1)}},Dn=async()=>{if(e){_(!0);try{const N=await ce("/notifications-crud",{},e.id,e.role);N&&N.notifications?S(N.notifications):S([])}catch(N){console.error("Failed to fetch notifications:",N.message),S([])}finally{_(!1)}}},Ws=async N=>{if(!e||e.role!==H.ADMIN&&e.role!==H.TRAINER)return alert("غير مصرح لك."),null;_(!0);try{const E=await ce("/notifications-crud",{method:"POST",body:JSON.stringify(N)},e.id,e.role);return E&&E.notification?(Dn(),E.notification):null}catch(E){return alert(`Failed to send notification: ${E.message}`),null}finally{_(!1)}},Js=async N=>{if(!e)return!1;_(!0);try{const E=await ce(`/notifications-crud?notificationId=${N}`,{method:"PUT"},e.id,e.role);return E&&E.notification?(S(P=>P.map(W=>W.id===N?{...W,read:!0}:W)),!0):!1}catch(E){return alert(`Failed to mark notification as read: ${E.message}`),!1}finally{_(!1)}},Ys=async N=>{if(!e||e.role!==H.TRAINEE)return alert("فقط المتدربون يمكنهم التقييم."),null;_(!0);try{const E={...N,userId:e.id},P=await ce("/ratings",{method:"POST",body:JSON.stringify(E)},e.id,e.role);return P&&P.rating?P.rating:null}catch(E){return alert(`Failed to submit rating: ${E.message}`),null}finally{_(!1)}},Xr=async()=>{if((e==null?void 0:e.role)===H.ADMIN){_(!0);try{const N=await ce("/ratings",{},e.id,e.role);N&&N.ratings?T(N.ratings):T([])}catch(N){console.error("Failed to fetch ratings:",N.message),T([])}finally{_(!1)}}};return c.jsx($h.Provider,{value:{user:e,users:r,plans:o,trainingVideos:u,nutritionFiles:f,traineeSchedule:p,chatMessages:g,userNotifications:x,allRatings:C,loading:v,actionLoading:R,login:A,signup:U,logout:V,fetchUsers:xe,updateUserStatus:Me,assignTrainerRole:ot,updateUser:Rn,fetchPlans:$,addPlan:K,editPlan:Q,deletePlan:me,linkTraineeToTrainer:bn,fetchTrainingVideos:le,addTrainingVideo:Xt,deleteTrainingVideo:wt,fetchNutritionFiles:st,addNutritionFile:_t,deleteNutritionFile:en,fetchTraineeSchedule:Nt,saveTraineeScheduleItem:Gs,updateTraineeScheduleItem:zs,deleteTraineeScheduleItem:qs,fetchMessages:Qr,sendMessage:Hs,fetchNotifications:Dn,sendNotification:Ws,markNotificationAsRead:Js,submitRating:Ys,fetchAllRatings:Xr},children:t})},ke=()=>{const t=w.useContext($h);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},ye=({label:t,id:e,error:n,icon:r,className:i,...o})=>c.jsxs("div",{className:"mb-4 w-full",children:[t&&c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),c.jsxs("div",{className:"relative",children:[r&&c.jsx("div",{className:"absolute inset-y-0 start-0 ps-3 flex items-center pointer-events-none text-gray-500",children:r}),c.jsx("input",{id:e,className:`block w-full px-3 py-2 border ${n?"border-red-500":"border-gray-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400 ${r?"ps-10":""} ${i}`,...o})]}),n&&c.jsx("p",{className:"mt-1 text-xs text-red-400",children:n})]}),vt=({label:t,id:e,error:n,options:r,className:i,...o})=>c.jsxs("div",{className:"mb-4 w-full",children:[t&&c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),c.jsx("select",{id:e,className:`block w-full px-3 py-2 border ${n?"border-red-500":"border-gray-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 ${i}`,...o,children:r.map(s=>c.jsx("option",{value:s.value,className:"bg-gray-700 text-gray-200",children:s.label},s.value))}),n&&c.jsx("p",{className:"mt-1 text-xs text-red-400",children:n})]}),re=({children:t,variant:e="primary",size:n="default",isLoading:r=!1,className:i="",...o})=>{const s="font-semibold rounded focus:outline-none focus:ring-2 focus:ring-opacity-60 transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",u={default:"py-2 px-4 text-base",sm:"py-1 px-2 text-xs"},d={primary:"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400",secondary:"bg-gray-600 hover:bg-gray-700 text-gray-100 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400",warning:"bg-yellow-500 hover:bg-yellow-600 text-black focus:ring-yellow-400",link:"bg-transparent hover:bg-gray-700 text-blue-400 hover:text-blue-300 focus:ring-blue-400"};return c.jsx("button",{className:`${s} ${u[n]} ${d[e]} ${i}`,disabled:r||o.disabled,...o,children:r?c.jsxs("svg",{className:`animate-spin -ms-1 me-3 ${n==="sm"?"h-4 w-4":"h-5 w-5"} text-white`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):t})},RI="منصة التدريب الرياضي",M={login:"تسجيل الدخول",signup:"إنشاء حساب",dashboard:"لوحة التحكم",adminDashboard:"لوحة تحكم المدير",trainerDashboard:"لوحة تحكم المدرب",traineeDashboard:"لوحة تحكم المتدرب",email:"البريد الإلكتروني",password:"كلمة المرور",name:"الاسم الكامل",phoneNumber:"رقم الهاتف",country:"الدولة",selectPlan:"اختر خطة تدريبية",users:"المستخدمون",trainers:"المدربون",trainees:"المتدربون",plans:"الخطط التدريبية",notifications:"الإشعارات",settings:"الإعدادات",logout:"تسجيل الخروج",calorieCalculator:"حاسبة السعرات الحرارية",age:"العمر (سنوات)",weight:"الوزن (كجم)",height:"الطول (سم)",activityLevel:"مستوى النشاط",goal:"الهدف",gender:"الجنس",male:"ذكر",female:"أنثى",calculate:"احسب",dailyCalories:"السعرات الحرارية اليومية المقدرة:",activityLevels:{[Gn.SEDENTARY]:"خامل (تمارين قليلة أو معدومة)",[Gn.LIGHT]:"خفيف (تمارين خفيفة 1-3 أيام/أسبوع)",[Gn.MODERATE]:"متوسط (تمارين متوسطة 3-5 أيام/أسبوع)",[Gn.ACTIVE]:"نشيط (تمارين قاسية 6-7 أيام/أسبوع)",[Gn.VERY_ACTIVE]:"نشيط جداً (تمارين قاسية جداً وعمل بدني)"},calorieGoals:{[Mi.LOSE_WEIGHT]:"إنقاص الوزن",[Mi.MAINTAIN_WEIGHT]:"الحفاظ على الوزن",[Mi.GAIN_WEIGHT]:"زيادة الوزن"},approve:"موافقة",reject:"رفض",pendingAccounts:"الحسابات المعلقة",activeAccounts:"الحسابات النشطة",assignAsTrainer:"تعيين كمدرب",manageUsers:"إدارة المستخدمين",addPlan:"إضافة خطة",editPlan:"تعديل خطة",deletePlan:"حذف خطة",planName:"اسم الخطة",planDescription:"وصف الخطة",planPrice:"سعر الخطة (بالعملة المحلية)",planDuration:"مدة الخطة (أشهر)",save:"حفظ",cancel:"إلغاء",sendNotification:"إرسال إشعار",recipient:"المستلم",title:"العنوان",message:"الرسالة",send:"إرسال",allUsers:"جميع المستخدمين",allTrainers:"جميع المدربين",allTrainees:"جميع المتدربين",myTrainees:"المتدربون الخاصون بي",addTrainingVideo:"إضافة فيديو تدريبي",videoTitle:"عنوان الفيديو",youtubeLink:"رابط يوتيوب",uploadNutritionFile:"رفع ملف تغذية",fileName:"اسم الملف",viewProfile:"عرض الملف الشخصي",trainingVideos:"فيديوهات التدريب",nutritionFiles:"ملفات التغذية",mySchedule:"جدولي التدريبي",chatWithTrainer:"محادثة مع المدرب",ratePlan:"تقييم الخطة",rateTrainer:"تقييم المدرب",submitRating:"إرسال التقييم",comments:"تعليقات (اختياري)",stars:"نجوم",noDataAvailable:"لا توجد بيانات متاحة.",confirmAction:"تأكيد الإجراء",areYouSure:"هل أنت متأكد أنك تريد المتابعة؟",yes:"نعم",no:"لا",status:"الحالة",actions:"إجراءات",viewDetails:"عرض التفاصيل",edit:"تعديل",delete:"حذف",userManagement:"إدارة المستخدمين",planManagement:"إدارة الخطط",statistics:"الإحصائيات",filterByStatus:"فلترة حسب الحالة",selectUser:"اختر مستخدم",selectTrainer:"اختر مدرب",linkTraineeToTrainer:"ربط متدرب بمدرب",[H.ADMIN]:"مدير",[H.TRAINER]:"مدرب",[H.TRAINEE]:"متدرب",[Le.ACTIVE]:"نشط",[Le.PENDING]:"معلق",[Le.REJECTED]:"مرفوض"},Qi=[{value:"SA",label:"المملكة العربية السعودية"},{value:"EG",label:"مصر"},{value:"AE",label:"الإمارات العربية المتحدة"},{value:"KW",label:"الكويت"},{value:"QA",label:"قطر"},{value:"JO",label:"الأردن"}],bI=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,o]=w.useState(""),{login:s,loading:u}=ke(),d=kn(),f=async m=>{if(m.preventDefault(),o(""),!t||!n){o("يرجى ملء جميع الحقول.");return}await s(t,n)&&d("/dashboard")};return c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[i&&c.jsx("p",{className:"text-red-400 text-sm text-center bg-red-900 bg-opacity-30 p-2 rounded",children:i}),c.jsx(ye,{id:"emailOrPhone",label:M.email+" / "+M.phoneNumber,type:"text",value:t,onChange:m=>e(m.target.value),required:!0,placeholder:"example@example.com أو 05xxxxxxxx",icon:c.jsx("i",{className:"fas fa-user"})}),c.jsx(ye,{id:"password",label:M.password,type:"password",value:n,onChange:m=>r(m.target.value),required:!0,placeholder:"********",icon:c.jsx("i",{className:"fas fa-lock"})}),c.jsx("div",{children:c.jsx(re,{type:"submit",isLoading:u,className:"w-full",children:M.login})})]})},DI=()=>c.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-900",children:c.jsxs("div",{className:"max-w-md w-full space-y-8 p-10 bg-gray-800 shadow-xl rounded-lg",children:[c.jsx("div",{children:c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-100",children:M.login})}),c.jsx(bI,{})]})}),LI=()=>{var D;const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,o]=w.useState(""),[s,u]=w.useState(((D=Qi[0])==null?void 0:D.value)||""),[d,f]=w.useState(""),[m,p]=w.useState(""),[h,g]=w.useState(""),[y,x]=w.useState(""),{signup:S,actionLoading:C,plans:T,fetchPlans:v}=ke(),I=kn();w.useEffect(()=>{T.length||v()},[T,v]),w.useEffect(()=>{T.length>0&&!h&&g(T[0].id)},[T,h]);const R=T.map(A=>({value:A.id,label:`${A.name} (${A.price} ر.س)`})),_=async A=>{if(A.preventDefault(),x(""),!i||!s||!h||!d){x("رقم الهاتف، الدولة، كلمة المرور والخطة التدريبية حقول إجبارية.");return}if(d!==m){x("كلمتا المرور غير متطابقتين.");return}const U={phoneNumber:i,country:s,password:d,selectedPlanId:h};t&&(U.name=t),n&&(U.email=n);const V=await S(U);V.success?I("/login"):x(V.message||"فشل إنشاء الحساب. يرجى المحاولة مرة أخرى.")};return c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[y&&c.jsx("p",{className:"text-red-400 text-sm text-center bg-red-900 bg-opacity-30 p-2 rounded",children:y}),c.jsx(ye,{id:"name",label:M.name+" (اختياري)",type:"text",value:t,onChange:A=>e(A.target.value),placeholder:"اسمك الكامل",icon:c.jsx("i",{className:"fas fa-id-card"})}),c.jsx(ye,{id:"email",label:M.email+" (اختياري)",type:"email",value:n,onChange:A=>r(A.target.value),placeholder:"example@example.com",icon:c.jsx("i",{className:"fas fa-envelope"})}),c.jsx(ye,{id:"phoneNumber",label:M.phoneNumber+" (إجباري)",type:"tel",value:i,onChange:A=>o(A.target.value),required:!0,placeholder:"05xxxxxxxx",icon:c.jsx("i",{className:"fas fa-phone"})}),c.jsx(vt,{id:"country",label:M.country+" (إجباري)",value:s,onChange:A=>u(A.target.value),options:Qi,required:!0}),c.jsx(ye,{id:"password",label:M.password+" (إجباري)",type:"password",value:d,onChange:A=>f(A.target.value),required:!0,placeholder:"********",icon:c.jsx("i",{className:"fas fa-lock"})}),c.jsx(ye,{id:"confirmPassword",label:"تأكيد "+M.password+" (إجباري)",type:"password",value:m,onChange:A=>p(A.target.value),required:!0,placeholder:"********",icon:c.jsx("i",{className:"fas fa-lock"})}),R.length>0?c.jsx(vt,{id:"plan",label:M.selectPlan+" (إجباري)",value:h,onChange:A=>g(A.target.value),options:R,required:!0}):c.jsx("p",{className:"text-gray-400 text-sm",children:"جاري تحميل الخطط التدريبية..."}),c.jsx("div",{children:c.jsx(re,{type:"submit",isLoading:C,className:"w-full",children:M.signup})})]})},FI=()=>c.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-900",children:c.jsxs("div",{className:"max-w-lg w-full space-y-8 p-10 bg-gray-800 shadow-xl rounded-lg",children:[c.jsx("div",{children:c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-100",children:M.signup})}),c.jsx(LI,{})]})}),qr=({isOpen:t,onClose:e,title:n,children:r,footer:i})=>t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 transition-opacity duration-300 ease-in-out",onClick:e,children:c.jsxs("div",{className:"bg-gray-800 text-gray-200 rounded-lg shadow-xl p-6 w-full max-w-lg transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modalShow",onClick:o=>o.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-700",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:n}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-200 transition-colors","aria-label":"Close modal",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mt-4 max-h-[60vh] overflow-y-auto text-gray-300",children:r}),i&&c.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700 flex justify-end space-s-3",children:i})]})}):null,VI=()=>{const{users:t,updateUserStatus:e,assignTrainerRole:n,updateUser:r,actionLoading:i,fetchUsers:o,user:s}=ke(),[u,d]=w.useState("all"),[f,m]=w.useState("all"),[p,h]=w.useState(!1),[g,y]=w.useState(!1),[x,S]=w.useState(null),[C,T]=w.useState({});w.useEffect(()=>{(s==null?void 0:s.role)===H.ADMIN&&o()},[s,o]);const v=async b=>{await e(b,Le.ACTIVE)},I=async b=>{await e(b,Le.REJECTED)},R=b=>{S(b),T({name:b.name,email:b.email,phoneNumber:b.phoneNumber,country:b.country}),h(!0)},_=b=>{T({...C,[b.target.name]:b.target.value})},D=async()=>{if(x&&C){const b={};C.name!==void 0&&(b.name=C.name),C.email!==void 0&&(b.email=C.email),C.phoneNumber!==void 0&&(b.phoneNumber=C.phoneNumber),C.country!==void 0&&(b.country=C.country),Object.keys(b).length>0&&await r(x.id,b),h(!1),S(null)}},A=b=>{if(b.role===H.TRAINER){alert("هذا المستخدم مدرب بالفعل.");return}S(b),y(!0)},U=async()=>{x&&(await n(x.id),y(!1),S(null))},V=w.useMemo(()=>t.filter(b=>{const Me=u==="all"||b.status===u,ot=f==="all"||b.role===f;return b.email==="lolelarap@gmail.com"&&b.role===H.ADMIN?!1:Me&&ot}),[t,u,f]),ee=[{value:"all",label:"الكل"},{value:Le.PENDING,label:M.pending},{value:Le.ACTIVE,label:M.active},{value:Le.REJECTED,label:M.rejected}],xe=[{value:"all",label:"الكل"},{value:H.TRAINEE,label:M.trainee},{value:H.TRAINER,label:M.trainer}];return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:M.userManagement}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsx(vt,{label:M.filterByStatus,options:ee,value:u,onChange:b=>d(b.target.value)}),c.jsx(vt,{label:"فلترة حسب الدور",options:xe,value:f,onChange:b=>m(b.target.value)})]}),i&&t.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل المستخدمين..."}),!V.length&&!i&&c.jsx("p",{className:"text-gray-400",children:M.noDataAvailable}),c.jsx("div",{className:"overflow-x-auto mt-4",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-750",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:M.name}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:M.email}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:M.phoneNumber}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"الدور"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:M.status}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:M.actions})]})}),c.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:V.map(b=>c.jsxs("tr",{className:"hover:bg-gray-750 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:b.name||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:b.email||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:b.phoneNumber}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:M[b.role]||b.role}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b.status===Le.ACTIVE?"bg-green-700 text-green-100":b.status===Le.PENDING?"bg-yellow-700 text-yellow-100":"bg-red-700 text-red-100"}`,children:M[b.status]||b.status})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-s-2",children:[b.status===Le.PENDING&&c.jsxs(c.Fragment,{children:[c.jsxs(re,{variant:"success",size:"sm",onClick:()=>v(b.id),disabled:i,children:[c.jsx("i",{className:"fas fa-check me-1"})," ",M.approve]}),c.jsxs(re,{variant:"danger",size:"sm",onClick:()=>I(b.id),disabled:i,children:[c.jsx("i",{className:"fas fa-times me-1"})," ",M.reject]})]}),b.status!==Le.PENDING&&c.jsxs(re,{variant:"secondary",size:"sm",onClick:()=>R(b),disabled:i,children:[c.jsx("i",{className:"fas fa-edit me-1"})," ",M.edit]}),b.status===Le.ACTIVE&&b.role===H.TRAINEE&&c.jsxs(re,{variant:"primary",size:"sm",onClick:()=>A(b),disabled:i,className:"ms-2",children:[c.jsx("i",{className:"fas fa-user-plus me-1"})," ",M.assignAsTrainer]})]})]},b.id))})]})}),c.jsxs(qr,{isOpen:p,onClose:()=>h(!1),title:`تعديل بيانات: ${(x==null?void 0:x.name)||""}`,children:[c.jsx(ye,{label:M.name,name:"name",value:(C==null?void 0:C.name)||"",onChange:_}),c.jsx(ye,{label:M.email,name:"email",type:"email",value:(C==null?void 0:C.email)||"",onChange:_}),c.jsx(ye,{label:M.phoneNumber,name:"phoneNumber",type:"tel",value:(C==null?void 0:C.phoneNumber)||"",onChange:_}),c.jsx(vt,{label:M.country,name:"country",value:(C==null?void 0:C.country)||"",onChange:_,options:Qi}),c.jsxs("div",{className:"mt-4 flex justify-end space-s-2",children:[c.jsx(re,{variant:"secondary",onClick:()=>h(!1),children:M.cancel}),c.jsx(re,{onClick:D,isLoading:i,children:M.save})]})]}),c.jsxs(qr,{isOpen:g,onClose:()=>y(!1),title:`${M.assignAsTrainer}: ${(x==null?void 0:x.name)||""}`,children:[c.jsxs("p",{className:"text-gray-300",children:["هل أنت متأكد أنك تريد تعيين ",x==null?void 0:x.name," كمدرب؟ سيتم تفعيل حسابه كمدرب."]}),c.jsxs("div",{className:"mt-4 flex justify-end space-s-2",children:[c.jsx(re,{variant:"secondary",onClick:()=>y(!1),children:M.no}),c.jsx(re,{onClick:U,isLoading:i,children:M.yes})]})]})]})},UI=()=>{const{plans:t,addPlan:e,editPlan:n,deletePlan:r,actionLoading:i,fetchPlans:o,user:s}=ke(),[u,d]=w.useState(!1),[f,m]=w.useState({}),[p,h]=w.useState(!1);w.useEffect(()=>{(s==null?void 0:s.role)===H.ADMIN&&o()},[s,o]);const g=()=>{m({name:"",description:"",price:0,durationMonths:1}),h(!1),d(!0)},y=v=>{m({...v}),h(!0),d(!0)},x=()=>{d(!1),m({})},S=v=>{const{name:I,value:R}=v.target;m(_=>({..._,[I]:I==="price"||I==="durationMonths"?Number(R):R}))},C=async()=>{if(!f.name||!f.description||f.price==null||f.durationMonths==null){alert("يرجى ملء جميع الحقول.");return}if(p&&f.id){const{id:v,createdAt:I,updatedAt:R,..._}=f;await n(v,_)}else await e(f);x()},T=async v=>{window.confirm(M.areYouSure+" "+M.deletePlan+"?")&&(await r(v)).success};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:M.planManagement}),c.jsxs(re,{onClick:g,variant:"success",children:[c.jsx("i",{className:"fas fa-plus me-2"})," ",M.addPlan]})]}),i&&t.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الخطط..."}),!t.length&&!i&&c.jsx("p",{className:"text-gray-400",children:M.noDataAvailable}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:t.map(v=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow hover:shadow-xl transition-shadow",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:v.name}),c.jsx("p",{className:"text-sm text-gray-300 mt-1 h-16 overflow-hidden",children:v.description}),c.jsxs("p",{className:"text-md font-bold text-green-400 mt-2",children:[v.price," ر.س"]}),c.jsxs("p",{className:"text-xs text-gray-400",children:[M.planDuration,": ",v.durationMonths," أشهر"]}),c.jsxs("div",{className:"mt-4 flex space-s-2",children:[c.jsxs(re,{variant:"primary",size:"sm",onClick:()=>y(v),disabled:i,children:[c.jsx("i",{className:"fas fa-edit me-1"})," ",M.edit]}),c.jsxs(re,{variant:"danger",size:"sm",onClick:()=>T(v.id),disabled:i,children:[c.jsx("i",{className:"fas fa-trash me-1"})," ",M.delete]})]})]},v.id))}),c.jsxs(qr,{isOpen:u,onClose:x,title:p?M.editPlan:M.addPlan,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(ye,{label:M.planName,name:"name",value:f.name||"",onChange:S,required:!0}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:M.planDescription}),c.jsx("textarea",{id:"description",name:"description",value:f.description||"",onChange:S,rows:3,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400",required:!0})]}),c.jsx(ye,{label:M.planPrice,name:"price",type:"number",value:String(f.price||0),onChange:S,required:!0,min:"0"}),c.jsx(ye,{label:M.planDuration,name:"durationMonths",type:"number",value:String(f.durationMonths||1),onChange:S,required:!0,min:"1"})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-s-2",children:[c.jsx(re,{variant:"secondary",onClick:x,disabled:i,children:M.cancel}),c.jsx(re,{onClick:C,isLoading:i,children:M.save})]})]})]})},jI=()=>{const{users:t,sendNotification:e,actionLoading:n}=ke(),[r,i]=w.useState("all"),[o,s]=w.useState(""),[u,d]=w.useState(""),f=[{value:"all",label:M.allUsers},{value:H.TRAINER,label:M.allTrainers},{value:H.TRAINEE,label:M.allTrainees},...t.map(p=>({value:p.id,label:`${p.name||p.email} (${M[p.role]||p.role})`}))],m=async p=>{if(p.preventDefault(),!o||!u){alert("يرجى ملء العنوان والرسالة.");return}await e({recipientSpecifier:r,title:o,message:u})&&(s(""),d(""),alert("تم إرسال الإشعار بنجاح!"))};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-lg mx-auto text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-center text-gray-100",children:M.sendNotification}),c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsx(vt,{label:M.recipient,options:f,value:r,onChange:p=>i(p.target.value)}),c.jsx(ye,{label:M.title,value:o,onChange:p=>s(p.target.value),required:!0}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:M.message}),c.jsx("textarea",{id:"message",value:u,onChange:p=>d(p.target.value),rows:4,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400",required:!0})]}),c.jsxs(re,{type:"submit",isLoading:n,className:"w-full",children:[c.jsx("i",{className:"fas fa-paper-plane me-2"}),M.send]})]})]})},$I=()=>{const{users:t,plans:e}=ke(),n=t.length,r=t.filter(f=>f.status===Le.ACTIVE).length,i=t.filter(f=>f.status===Le.PENDING).length,o=t.filter(f=>f.role===H.TRAINER&&f.status===Le.ACTIVE).length,s=t.filter(f=>f.role===H.TRAINEE&&f.status===Le.ACTIVE).length,u=e.length,d=[{label:"إجمالي المستخدمين",value:n,icon:"fas fa-users",color:"bg-blue-600"},{label:"المستخدمون النشطون",value:r,icon:"fas fa-user-check",color:"bg-green-600"},{label:"الحسابات المعلقة",value:i,icon:"fas fa-user-clock",color:"bg-yellow-500"},{label:"إجمالي المدربين",value:o,icon:"fas fa-chalkboard-teacher",color:"bg-indigo-600"},{label:"إجمالي المتدربين",value:s,icon:"fas fa-running",color:"bg-purple-600"},{label:"إجمالي الخطط التدريبية",value:u,icon:"fas fa-clipboard-list",color:"bg-pink-600"}];return c.jsxs("div",{className:"p-4 text-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-6",children:M.statistics}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(f=>c.jsx("div",{className:`p-6 rounded-lg shadow-lg ${f.color} ${f.color==="bg-yellow-500"?"text-black":"text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-4xl font-bold",children:f.value}),c.jsx("p",{className:"text-lg",children:f.label})]}),c.jsx("i",{className:`${f.icon} text-4xl opacity-70`})]})},f.label))}),c.jsxs("div",{className:"mt-8 bg-gray-800 p-6 rounded-lg shadow-lg",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-4",children:"نظرة عامة على النشاط"}),c.jsx("p",{className:"text-gray-400",children:"سيتم عرض مخططات بيانية هنا قريباً توضح نمو المستخدمين، أشهر الخطط، وتقييمات المدربين."}),c.jsx("div",{className:"mt-4 rounded-md shadow-sm bg-gray-700 aspect-[16/6] flex items-center justify-center",children:c.jsx("p",{className:"text-gray-500 text-lg",children:"Placeholder Chart Area"})})]})]})},Oh=({count:t=5,initialRating:e=0,onRatingChange:n,readOnly:r=!1,size:i=24})=>{const[o,s]=w.useState(e),[u,d]=w.useState(0),f=h=>{if(r)return;const g=h+1;s(g),n&&n(g)},m=h=>{r||d(h+1)},p=()=>{r||d(0)};return c.jsx("div",{className:"flex items-center",children:[...Array(t)].map((h,g)=>{const y=g+1;return c.jsx("span",{style:{fontSize:`${i}px`,color:(u||o)>=y?"#FFD700":"#6b7280",cursor:r?"default":"pointer"},onClick:()=>f(g),onMouseEnter:()=>m(g),onMouseLeave:p,className:"transition-colors duration-150",children:"★"},g)})})},OI=()=>{const{user:t,allRatings:e,fetchAllRatings:n,actionLoading:r}=ke();return w.useEffect(()=>{t&&n()},[t,n]),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-100",children:"مراجعة تقييمات العملاء"}),r&&e.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل التقييمات..."}),!r&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[M.noDataAvailable," لا توجد تقييمات لعرضها حاليًا."]}),e.length>0&&c.jsx("div",{className:"space-y-4",children:e.map(i=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsxs("h3",{className:"text-lg font-semibold text-blue-400",children:["تقييم لـ: ",i.ratedItemType==="plan"?"خطة":"مدرب",' "',i.ratedItemId,'"']}),c.jsx(Oh,{initialRating:i.stars,readOnly:!0,size:20})]}),c.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:["بواسطة: ",i.userName||i.userId," - بتاريخ: ",new Date(i.ratingTimestamp).toLocaleDateString("ar-SA")]}),i.comment&&c.jsxs("p",{className:"text-gray-300 bg-gray-600 p-2 rounded text-sm",children:["التعليق: ",i.comment]})]},i.id))})]})},di=({activeTab:t="stats"})=>{const e=()=>{switch(t){case"users":return c.jsx(VI,{});case"plans":return c.jsx(UI,{});case"send-notification":return c.jsx(jI,{});case"ratings":return c.jsx(OI,{});case"stats":default:return c.jsx($I,{})}};return c.jsxs("div",{className:"p-2 md:p-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6 border-b border-gray-700 pb-2",children:M.adminDashboard}),e()]})},BI=()=>{const{user:t,users:e}=ke();if(!t||t.role!==H.TRAINER)return c.jsx("p",{className:"text-red-400",children:"غير مصرح لك بالدخول."});const n=e.filter(r=>r.role===H.TRAINEE&&r.trainerId===t.id);return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:M.myTrainees}),n.length===0?c.jsxs("p",{className:"text-gray-400",children:[M.noDataAvailable," حاليًا لا يوجد متدربون مرتبطون بك."]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-750",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:M.name}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:M.email}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:M.phoneNumber}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:M.actions})]})}),c.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:n.map(r=>c.jsxs("tr",{className:"hover:bg-gray-750 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:r.name||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:r.email||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:r.phoneNumber}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs(re,{variant:"primary",size:"sm",onClick:()=>alert(`عرض تفاصيل ${r.name}`),children:[c.jsx("i",{className:"fas fa-eye me-1"})," ",M.viewDetails]})})]},r.id))})]})})]})},GI=()=>{const{user:t,trainingVideos:e,addTrainingVideo:n,deleteTrainingVideo:r,fetchTrainingVideos:i,actionLoading:o}=ke(),[s,u]=w.useState(!1),[d,f]=w.useState(""),[m,p]=w.useState("");w.useEffect(()=>{t&&i(t.id)},[t,i]);const h=async()=>{if(!d||!m||!t){alert("يرجى ملء جميع الحقول.");return}if(!m.includes("youtube.com/")&&!m.includes("youtu.be/")){alert("يرجى إدخال رابط يوتيوب صالح.");return}await n({title:d,youtubeUrl:m})&&(u(!1),f(""),p(""))},g=async x=>{window.confirm("هل أنت متأكد أنك تريد حذف هذا الفيديو؟")&&await r(x)},y=x=>{let S="";return x.includes("youtube.com/watch?v=")?S=x.split("v=")[1].split("&")[0]:x.includes("youtu.be/")&&(S=x.split("youtu.be/")[1].split("?")[0]),S?`https://www.youtube.com/embed/${S}`:""};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:M.trainingVideos}),c.jsxs(re,{onClick:()=>u(!0),variant:"success",disabled:o,children:[c.jsx("i",{className:"fas fa-plus me-2"})," ",M.addTrainingVideo]})]}),o&&e.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الفيديوهات..."}),!o&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[M.noDataAvailable," لم تقم بإضافة أي فيديوهات بعد."]}),e.length>0&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:e.map(x=>{const S=y(x.youtubeUrl);return c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow relative",children:[c.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-2",children:x.title}),S?c.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded overflow-hidden",children:c.jsx("iframe",{src:S,title:x.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}):c.jsx("p",{className:"text-red-400",children:"رابط فيديو غير صالح."}),c.jsx(re,{variant:"danger",size:"sm",onClick:()=>g(x.id),disabled:o,className:"absolute top-2 end-2 opacity-75 hover:opacity-100","aria-label":"Delete video",children:c.jsx("i",{className:"fas fa-trash"})})]},x.id)})}),c.jsxs(qr,{isOpen:s,onClose:()=>u(!1),title:M.addTrainingVideo,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(ye,{label:M.videoTitle,value:d,onChange:x=>f(x.target.value),required:!0}),c.jsx(ye,{label:M.youtubeLink,type:"url",value:m,onChange:x=>p(x.target.value),placeholder:"https://www.youtube.com/watch?v=...",required:!0})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-s-2",children:[c.jsx(re,{variant:"secondary",onClick:()=>u(!1),disabled:o,children:M.cancel}),c.jsx(re,{onClick:h,isLoading:o,children:M.addPlan})," "]})]})]})},zI=()=>{const{user:t,users:e,nutritionFiles:n,addNutritionFile:r,deleteNutritionFile:i,fetchNutritionFiles:o,actionLoading:s}=ke(),[u,d]=w.useState(!1),[f,m]=w.useState(""),[p,h]=w.useState(""),[g,y]=w.useState(void 0);w.useEffect(()=>{t&&o({uploadedById:t.id})},[t,o]);const x=e.filter(v=>v.trainerId===(t==null?void 0:t.id)),S=[{value:"",label:"عام (لجميع متدربيك)"},...x.map(v=>({value:v.id,label:v.name||v.email||v.phoneNumber}))],C=async()=>{if(!f||!p||!t){alert("يرجى إدخال اسم للملف ورابط الملف.");return}try{new URL(p)}catch{alert("الرجاء إدخال رابط URL صالح.");return}await r({name:f,fileUrl:p,traineeId:g||null})&&(d(!1),m(""),h(""),y(void 0))},T=async v=>{window.confirm("هل أنت متأكد أنك تريد حذف هذا الملف؟")&&await i(v)};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:M.nutritionFiles}),c.jsxs(re,{onClick:()=>d(!0),variant:"success",disabled:s,children:[c.jsx("i",{className:"fas fa-plus me-2"})," إضافة ملف تغذية"]})]}),s&&n.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الملفات..."}),!s&&n.length===0&&c.jsxs("p",{className:"text-gray-400",children:[M.noDataAvailable," لم تقم بإضافة أي ملفات تغذية بعد."]}),n.length>0&&c.jsx("ul",{className:"space-y-3 mt-4",children:n.map(v=>{var I;return c.jsxs("li",{className:"bg-gray-700 p-3 rounded-md shadow-sm flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("i",{className:"fas fa-file-alt text-blue-400 me-2"}),c.jsx("span",{className:"text-gray-200",children:v.name}),v.traineeId&&c.jsxs("span",{className:"text-xs text-gray-400 ms-2",children:["(خاص بـ: ",((I=e.find(R=>R.id===v.traineeId))==null?void 0:I.name)||"متدرب",")"]})]}),c.jsxs("div",{className:"flex items-center space-s-2",children:[c.jsx("a",{href:v.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",title:"فتح الملف في تبويب جديد",children:c.jsx("i",{className:"fas fa-external-link-alt"})}),c.jsx(re,{variant:"danger",size:"sm",onClick:()=>T(v.id),disabled:s,"aria-label":"Delete file",children:c.jsx("i",{className:"fas fa-trash"})})]})]},v.id)})}),c.jsxs(qr,{isOpen:u,onClose:()=>d(!1),title:"إضافة ملف تغذية جديد",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(ye,{label:M.fileName,value:f,onChange:v=>m(v.target.value),required:!0}),c.jsx(ye,{label:"رابط الملف (مثل Google Drive, Dropbox)",type:"url",value:p,onChange:v=>h(v.target.value),placeholder:"https://docs.google.com/document/d/...",required:!0}),c.jsx(vt,{label:"تخصيص لمتدرب (اختياري)",value:g||"",onChange:v=>y(v.target.value||void 0),options:S})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-s-2",children:[c.jsx(re,{variant:"secondary",onClick:()=>d(!1),disabled:s,children:M.cancel}),c.jsx(re,{onClick:C,isLoading:s,children:"إضافة الملف"})]})]})]})},qI=()=>{const{user:t,users:e,traineeSchedule:n,fetchTraineeSchedule:r,saveTraineeScheduleItem:i,updateTraineeScheduleItem:o,deleteTraineeScheduleItem:s,actionLoading:u}=ke(),[d,f]=w.useState(""),[m,p]=w.useState(!1),[h,g]=w.useState({}),[y,x]=w.useState(!1),S=e.filter(A=>A.role===H.TRAINEE&&A.trainerId===(t==null?void 0:t.id));w.useEffect(()=>{d&&r(d)},[d,r]);const C=S.map(A=>({value:A.id,label:A.name||A.email||`متدرب (${A.id.substring(0,6)})`})),T=()=>{if(!d){alert("يرجى اختيار متدرب أولاً.");return}g({traineeId:d,day:"",exercises:"",notes:""}),x(!1),p(!0)},v=A=>{g(A),x(!0),p(!0)},I=()=>{p(!1),g({})},R=A=>{g(U=>({...U,[A.target.name]:A.target.value}))},_=async()=>{if(!h.traineeId||!h.day||!h.exercises){alert("يرجى ملء جميع الحقول المطلوبة (اليوم، التمارين).");return}if(y&&h.id){const{id:A,traineeId:U,createdAt:V,updatedAt:ee,...xe}=h;await o(A,xe)}else await i(h);I()},D=async A=>{window.confirm("هل أنت متأكد أنك تريد حذف هذا البند من الجدول؟")&&await s(A)};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:"إدارة جداول المتدربين"}),c.jsx(vt,{label:"اختر متدرب لعرض/تعديل جدوله",options:[{value:"",label:"اختر متدرباً..."},...C],value:d,onChange:A=>f(A.target.value),className:"mb-4"}),d&&c.jsxs(re,{onClick:T,variant:"success",className:"my-3",disabled:u,children:[c.jsx("i",{className:"fas fa-plus me-2"})," إضافة بند جديد لجدول المتدرب"]}),u&&d&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الجدول..."}),d&&!u&&n.length===0&&c.jsx("p",{className:"text-gray-400 mt-4",children:"لا يوجد جدول لهذا المتدرب. قم بإضافة بنود جديدة."}),d&&n.length>0&&c.jsx("div",{className:"space-y-4 mt-4",children:n.map(A=>c.jsx("div",{className:"bg-gray-700 p-4 rounded-lg border-s-4 border-blue-500",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:A.day}),c.jsx("p",{className:"text-gray-300 mt-1 whitespace-pre-line",children:A.exercises}),A.notes&&c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:c.jsxs("em",{children:["ملاحظات: ",A.notes]})})]}),c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx(re,{variant:"primary",size:"sm",onClick:()=>v(A),disabled:u,children:c.jsx("i",{className:"fas fa-edit"})}),c.jsx(re,{variant:"danger",size:"sm",onClick:()=>D(A.id),disabled:u,children:c.jsx("i",{className:"fas fa-trash"})})]})]})},A.id))}),c.jsxs(qr,{isOpen:m,onClose:I,title:y?"تعديل بند في الجدول":"إضافة بند جديد للجدول",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(ye,{label:"اليوم (مثال: اليوم الأول، يوم الصدر)",name:"day",value:h.day||"",onChange:R,required:!0}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"exercises",className:"block text-sm font-medium text-gray-300 mb-1",children:"التمارين"}),c.jsx("textarea",{id:"exercises",name:"exercises",value:h.exercises||"",onChange:R,rows:4,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-300 mb-1",children:"ملاحظات (اختياري)"}),c.jsx("textarea",{id:"notes",name:"notes",value:h.notes||"",onChange:R,rows:2,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400"})]})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-s-2",children:[c.jsx(re,{variant:"secondary",onClick:I,disabled:u,children:M.cancel}),c.jsx(re,{onClick:_,isLoading:u,children:M.save})]})]})]})},fi=({activeTab:t="my-trainees"})=>{const e=()=>{switch(t){case"videos":return c.jsx(GI,{});case"nutrition":return c.jsx(zI,{});case"manage-schedules":return c.jsx(qI,{});case"my-trainees":default:return c.jsx(BI,{})}};return c.jsxs("div",{className:"p-2 md:p-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6 border-b border-gray-700 pb-2",children:M.trainerDashboard}),e()]})},HI=()=>{const{user:t,trainingVideos:e,fetchTrainingVideos:n,actionLoading:r}=ke();w.useEffect(()=>{t&&(t.trainerId?n(t.trainerId):n())},[t,n]);const i=o=>{let s="";return o.includes("youtube.com/watch?v=")?s=o.split("v=")[1].split("&")[0]:o.includes("youtu.be/")&&(s=o.split("youtu.be/")[1].split("?")[0]),s?`https://www.youtube.com/embed/${s}`:""};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:M.trainingVideos}),r&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الفيديوهات..."}),!r&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[M.noDataAvailable," لا توجد فيديوهات تدريبية متاحة لك حاليًا."]}),e.length>0&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:e.map(o=>{const s=i(o.youtubeUrl);return c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow",children:[c.jsx("h3",{className:"text-md font-semibold text-blue-400 mb-2",children:o.title}),c.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["بواسطة: ",o.uploadedByName||"مدرب"]}),s?c.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded overflow-hidden",children:c.jsx("iframe",{src:s,title:o.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}):c.jsx("p",{className:"text-red-400",children:"رابط فيديو غير صالح."})]},o.id)})})]})},WI=()=>{const{user:t,nutritionFiles:e,fetchNutritionFiles:n,actionLoading:r}=ke();return w.useEffect(()=>{t&&n({forTraineeId:t.id})},[t,n]),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:M.nutritionFiles}),r&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل ملفات التغذية..."}),!r&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[M.noDataAvailable," لا توجد ملفات تغذية متاحة لك حاليًا."]}),e.length>0&&c.jsx("ul",{className:"space-y-3 mt-4",children:e.map(i=>c.jsxs("li",{className:"bg-gray-700 p-3 rounded-md shadow-sm flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("i",{className:"fas fa-file-pdf text-red-400 me-2"}),c.jsx("span",{className:"text-gray-200",children:i.name}),c.jsxs("p",{className:"text-xs text-gray-400",children:["بواسطة: ",i.uploadedByName||"مدرب"]})]}),c.jsxs("a",{href:i.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",title:"فتح الملف في تبويب جديد",children:[c.jsx("i",{className:"fas fa-external-link-alt me-1"})," عرض الملف"]})]},i.id))})]})},JI=()=>{const{user:t,traineeSchedule:e,fetchTraineeSchedule:n,actionLoading:r}=ke();return w.useEffect(()=>{t&&n(t.id)},[t,n]),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:M.mySchedule}),r&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل جدولك التدريبي..."}),!r&&e.length===0&&c.jsxs("p",{className:"text-gray-400",children:[M.noDataAvailable," لم يتم تعيين جدول تدريبي لك بعد."]}),e.length>0&&c.jsx("div",{className:"space-y-4 mt-4",children:e.map(i=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg border-s-4 border-blue-500",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:i.day}),c.jsx("p",{className:"text-gray-300 mt-1 whitespace-pre-line",children:i.exercises}),i.notes&&c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:c.jsxs("em",{children:["ملاحظات: ",i.notes]})})]},i.id))})]})},YI=()=>{const{user:t,users:e,chatMessages:n,fetchMessages:r,sendMessage:i,actionLoading:o}=ke(),[s,u]=w.useState(""),[d,f]=w.useState(!1),m=w.useRef(null),p=e.find(y=>y.id===(t==null?void 0:t.trainerId));w.useEffect(()=>{t&&p&&(f(!0),r(p.id).finally(()=>f(!1)))},[t,p,r]),w.useEffect(()=>{var y;(y=m.current)==null||y.scrollIntoView({behavior:"smooth"})},[n]);const h=async()=>{!s.trim()||!t||!p||(f(!0),await i({receiverId:p.id,content:s}),u(""),f(!1))};if(!t)return c.jsx("p",{className:"text-gray-400",children:"جاري تحميل المستخدم..."});if(!p)return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:M.chatWithTrainer}),c.jsx("p",{className:"text-gray-400",children:"لم يتم تعيين مدرب لك بعد، أو لا يمكن العثور على معلومات المدرب."})]});const g=d||o;return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md h-[70vh] flex flex-col text-gray-200",children:[c.jsxs("h2",{className:"text-xl font-semibold mb-4 border-b border-gray-700 pb-2 text-gray-100",children:[M.chatWithTrainer,": ",(p==null?void 0:p.name)||"المدرب"]}),c.jsxs("div",{className:"flex-grow overflow-y-auto mb-4 space-y-3 p-2 bg-gray-750 rounded",children:[g&&n.length===0&&c.jsx("p",{className:"text-gray-400 text-center py-4",children:"جاري تحميل الرسائل..."}),!g&&n.length===0&&c.jsx("p",{className:"text-gray-400 text-center py-4",children:"ابدأ المحادثة..."}),n.map(y=>c.jsx("div",{className:`flex ${y.senderId===t.id?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow ${y.senderId===t.id?"bg-blue-600 text-white rounded-br-none":"bg-gray-600 text-gray-100 rounded-bl-none"}`,children:[c.jsx("p",{className:"text-sm",children:y.content}),c.jsx("p",{className:`text-xs mt-1 ${y.senderId===t.id?"text-blue-200":"text-gray-400"} text-right`,children:new Date(y.sentAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]})},y.id)),c.jsx("div",{ref:m})]}),c.jsxs("div",{className:"flex items-center border-t border-gray-700 pt-4",children:[c.jsx("input",{type:"text",value:s,onChange:y=>u(y.target.value),placeholder:"اكتب رسالتك هنا...",className:"flex-grow p-2 border border-gray-600 rounded-s-md focus:ring-blue-500 focus:border-blue-500 bg-gray-700 text-gray-200 placeholder-gray-400",onKeyPress:y=>y.key==="Enter"&&!g&&h(),disabled:g}),c.jsx(re,{onClick:h,className:"rounded-e-md rounded-s-none px-3",disabled:g,isLoading:g,children:c.jsx("i",{className:"fas fa-paper-plane"})})]})]})},jf=({itemType:t,itemId:e,itemName:n})=>{const{user:r,submitRating:i,actionLoading:o}=ke(),[s,u]=w.useState(0),[d,f]=w.useState(""),[m,p]=w.useState(!1),[h,g]=w.useState(""),y=async x=>{if(x.preventDefault(),g(""),s===0){g("يرجى اختيار تقييم بالنجوم.");return}if(!r){g("يجب أن تكون مسجلاً الدخول لتقديم تقييم.");return}if(r.role!=="trainee"){g("فقط المتدربون يمكنهم تقديم التقييمات.");return}await i({ratedItemId:e,ratedItemType:t,stars:s,comment:d})?p(!0):g("فشل إرسال التقييم. حاول مرة أخرى.")};return m?c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-md mx-auto text-center text-gray-200",children:[c.jsx("i",{className:"fas fa-check-circle text-green-400 text-5xl mb-4"}),c.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-100",children:"شكراً لتقييمك!"}),c.jsx("p",{className:"text-gray-300",children:"تقديرك يساعدنا على التحسين."})]}):c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-md mx-auto text-gray-200",children:[c.jsxs("h2",{className:"text-xl font-semibold mb-1 text-gray-100",children:[t==="plan"?M.ratePlan:M.rateTrainer,": ",c.jsx("span",{className:"text-blue-400",children:n})]}),c.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"شاركنا رأيك لمساعدتنا على تقديم خدمة أفضل."}),h&&c.jsx("p",{className:"text-red-400 text-sm bg-red-900 bg-opacity-30 p-2 rounded mb-3",children:h}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:[M.stars," (1-5)"]}),c.jsx(Oh,{initialRating:s,onRatingChange:u,size:32})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-300 mb-1",children:M.comments}),c.jsx("textarea",{id:"comment",value:d,onChange:x=>f(x.target.value),rows:3,className:"block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-700 text-gray-200 placeholder-gray-400",placeholder:"أخبرنا المزيد عن تجربتك..."})]}),c.jsxs(re,{type:"submit",isLoading:o,className:"w-full",children:[c.jsx("i",{className:"fas fa-paper-plane me-2"})," ",M.submitRating]})]})]})},Un=({activeTab:t="overview"})=>{const e=()=>{switch(t){case"videos":return c.jsx(HI,{});case"nutrition":return c.jsx(WI,{});case"schedule":return c.jsx(JI,{});case"chat":return c.jsx(YI,{});case"rate-plan":return c.jsx(jf,{itemType:"plan",itemId:"currentPlanId_placeholder",itemName:"الخطة التدريبية الحالية"});case"rate-trainer":return c.jsx(jf,{itemType:"trainer",itemId:"currentTrainerId_placeholder",itemName:"المدرب الشخصي"});case"overview":default:return c.jsx(KI,{})}};return c.jsxs("div",{className:"p-2 md:p-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-100 mb-6 border-b border-gray-700 pb-2",children:M.traineeDashboard}),e()]})},KI=()=>c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:"مرحباً بك في لوحة التحكم الخاصة بك!"}),c.jsx("p",{className:"text-gray-300",children:"من هنا يمكنك متابعة تقدمك، مشاهدة الفيديوهات التدريبية، الاطلاع على ملفات التغذية، والتواصل مع مدربك."}),c.jsx("div",{className:"mt-4 rounded-md shadow-sm bg-gray-700 aspect-[16/7] flex items-center justify-center",children:c.jsx("p",{className:"text-gray-500 text-lg",children:"Fitness Motivation Placeholder"})})]});var ZI={};const $f=ZI.API_KEY;let Ua=null;$f?Ua=new Uh({apiKey:$f}):console.error("Gemini API Key is not configured. Calorie calculator will not work.");const QI=t=>M.activityLevels[t]||String(t),XI=t=>M.calorieGoals[t]||String(t),eA=async t=>{if(!Ua)return Promise.reject("Gemini API client not initialized. API Key might be missing.");const e=t.gender==="male"?M.male:M.female,n=QI(t.activityLevel),r=XI(t.goal),i=`
    أنت خبير تغذية. برجاء حساب السعرات الحرارية اليومية المطلوبة لشخص بناءً على البيانات التالية:
    - العمر: ${t.age} سنة
    - الوزن: ${t.weight} كجم
    - الطول: ${t.height} سم
    - الجنس: ${e}
    - مستوى النشاط: ${n}
    - الهدف: ${r}

    قدم الناتج كرقم يمثل عدد السعرات الحرارية فقط، بدون أي نص إضافي. على سبيل المثال: 2500
  `;try{const s=(await Ua.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:i})).text.trim();if(/^\d+$/.test(s))return s;{console.warn("Gemini response was not a plain number:",s);const u=s.match(/\d+/);return u&&u[0]?u[0]:Promise.reject("لم يتمكن الذكاء الاصطناعي من حساب السعرات. حاول تعديل المدخلات.")}}catch(o){return console.error("Error calling Gemini API:",o),Promise.reject("حدث خطأ أثناء الاتصال بخدمة الذكاء الاصطناعي لحساب السعرات.")}},tA=({size:t="md"})=>{const e={sm:"w-6 h-6 border-2",md:"w-10 h-10 border-4",lg:"w-16 h-16 border-4"};return c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:`animate-spin rounded-full ${e[t]} border-t-transparent border-blue-400`})})},nA=()=>{const[t,e]=w.useState({age:30,weight:70,height:170,activityLevel:Gn.MODERATE,goal:Mi.MAINTAIN_WEIGHT,gender:"male"}),[n,r]=w.useState(null),[i,o]=w.useState(null),[s,u]=w.useState(!1),d=Object.entries(M.activityLevels).map(([g,y])=>({value:g,label:y})),f=Object.entries(M.calorieGoals).map(([g,y])=>({value:g,label:y})),m=[{value:"male",label:M.male},{value:"female",label:M.female}],p=g=>{const{name:y,value:x}=g.target;e(S=>({...S,[y]:y==="age"||y==="weight"||y==="height"?parseFloat(x):x}))},h=async g=>{g.preventDefault(),o(null),r(null),u(!0);try{const y=await eA(t);r(y)}catch(y){o(y.message||"حدث خطأ غير متوقع.")}finally{u(!1)}};return c.jsxs("div",{className:"p-6 bg-gray-800 shadow-lg rounded-lg max-w-2xl mx-auto text-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-center text-blue-400 mb-6",children:M.calorieCalculator}),c.jsx("p",{className:"text-gray-400 text-center mb-6",children:"استخدم هذه الحاسبة المدعومة بالذكاء الاصطناعي لتقدير احتياجاتك اليومية من السعرات الحرارية."}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(ye,{label:M.age,type:"number",name:"age",value:t.age,onChange:p,required:!0,min:"15",max:"100"}),c.jsx(ye,{label:M.weight,type:"number",name:"weight",value:t.weight,onChange:p,required:!0,min:"30",max:"300",step:"0.1"}),c.jsx(ye,{label:M.height,type:"number",name:"height",value:t.height,onChange:p,required:!0,min:"100",max:"250"}),c.jsx(vt,{label:M.gender,name:"gender",value:t.gender,onChange:p,options:m})]}),c.jsx(vt,{label:M.activityLevel,name:"activityLevel",value:t.activityLevel,onChange:p,options:d}),c.jsx(vt,{label:M.goal,name:"goal",value:t.goal,onChange:p,options:f}),c.jsx(re,{type:"submit",isLoading:s,className:"w-full",children:M.calculate})]}),s&&c.jsx("div",{className:"mt-6",children:c.jsx(tA,{})}),i&&c.jsx("p",{className:"mt-6 text-center text-red-400 bg-red-900 bg-opacity-30 p-3 rounded-md",children:i}),n&&!s&&c.jsxs("div",{className:"mt-8 p-6 bg-green-700 bg-opacity-30 border-s-4 border-green-500 rounded-md shadow",children:[c.jsx("h3",{className:"text-xl font-semibold text-green-300",children:M.dailyCalories}),c.jsxs("p",{className:"text-3xl font-bold text-green-200 mt-2",children:[n," سعرة حرارية/يوم"]})]})]})},rA=()=>{var y;const{user:t,updateUser:e,actionLoading:n,plans:r,fetchPlans:i}=ke(),[o,s]=w.useState(!1),[u,d]=w.useState({}),[f,m]=w.useState("");if(w.useEffect(()=>{t&&d({name:t.name,email:t.email,phoneNumber:t.phoneNumber,country:t.country})},[t]),w.useEffect(()=>{r.length||i()},[r,i]),!t)return c.jsx("p",{className:"text-blue-300",children:"جاري تحميل بيانات المستخدم..."});const p=x=>{d({...u,[x.target.name]:x.target.value})},h=async x=>{if(x.preventDefault(),m(""),!u.phoneNumber||!u.country){m("رقم الهاتف والدولة حقول إجبارية.");return}const S={};u.name!==void 0&&(S.name=u.name),u.email!==void 0&&(S.email=u.email),u.phoneNumber!==void 0&&(S.phoneNumber=u.phoneNumber),u.country!==void 0&&(S.country=u.country),await e(t.id,S)?(m("تم تحديث الملف الشخصي بنجاح!"),s(!1)):m("فشل تحديث الملف الشخصي.")},g=r.find(x=>x.id===t.selectedPlanId);return c.jsxs("div",{className:"bg-gray-800 p-6 md:p-8 rounded-lg shadow-xl max-w-2xl mx-auto text-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:M.viewProfile}),!o&&c.jsxs(re,{onClick:()=>s(!0),variant:"secondary",children:[c.jsx("i",{className:"fas fa-edit me-2"}),M.edit]})]}),f&&c.jsx("p",{className:`mb-4 p-3 rounded text-sm ${f.includes("نجاح")?"bg-green-700 bg-opacity-40 text-green-300":"bg-red-700 bg-opacity-40 text-red-300"}`,children:f}),o?c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsx(ye,{label:M.name,name:"name",value:u.name||"",onChange:p}),c.jsx(ye,{label:M.email,name:"email",type:"email",value:u.email||"",onChange:p}),c.jsx(ye,{label:M.phoneNumber,name:"phoneNumber",type:"tel",value:u.phoneNumber||"",onChange:p,required:!0}),c.jsx(vt,{label:M.country,name:"country",value:u.country||"",onChange:p,options:Qi,required:!0}),c.jsxs("div",{className:"flex space-s-3 pt-4",children:[c.jsx(re,{type:"submit",isLoading:n,variant:"primary",children:M.save}),c.jsx(re,{type:"button",onClick:()=>{s(!1),m("")},variant:"secondary",disabled:n,children:M.cancel})]})]}):c.jsxs("div",{className:"space-y-5",children:[c.jsx(jn,{label:M.name,value:t.name||"غير محدد",icon:"fas fa-user"}),c.jsx(jn,{label:M.email,value:t.email||"غير محدد",icon:"fas fa-envelope"}),c.jsx(jn,{label:M.phoneNumber,value:t.phoneNumber,icon:"fas fa-phone"}),c.jsx(jn,{label:M.country,value:((y=Qi.find(x=>x.value===t.country))==null?void 0:y.label)||t.country,icon:"fas fa-flag"}),c.jsx(jn,{label:"الدور",value:M[t.role]||t.role,icon:"fas fa-user-tag"}),c.jsx(jn,{label:"حالة الحساب",value:M[t.status]||t.status,icon:"fas fa-check-circle"}),g&&c.jsx(jn,{label:"الخطة التدريبية",value:`${g.name} (${g.price} ر.س)`,icon:"fas fa-clipboard-list"})]})]})},jn=({label:t,value:e,icon:n})=>c.jsxs("div",{className:"flex items-start",children:[n&&c.jsx("i",{className:`${n} text-blue-400 w-6 text-center me-3 mt-1`}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:t}),c.jsx("p",{className:"text-md text-gray-100",children:e})]})]}),iA=()=>{const{user:t,userNotifications:e,fetchNotifications:n,markNotificationAsRead:r,actionLoading:i}=ke();w.useEffect(()=>{t&&n()},[t,n]);const o=async s=>{await r(s)};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-3xl mx-auto text-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-6",children:M.notifications}),i&&e.length===0&&c.jsx("p",{className:"text-blue-300",children:"جاري تحميل الإشعارات..."}),!i&&e.length===0&&c.jsxs("p",{className:"text-gray-400 text-center py-8",children:[M.noDataAvailable," لا توجد إشعارات جديدة."]}),e.length>0&&c.jsx("ul",{className:"space-y-4",children:e.map(s=>c.jsxs("li",{className:`p-4 rounded-lg border-s-4 ${s.read?"bg-gray-750 border-gray-600":"bg-blue-700 bg-opacity-30 border-blue-500 shadow-sm"}`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-semibold ${s.read?"text-gray-300":"text-blue-300"}`,children:s.title}),c.jsx("p",{className:`text-sm mt-1 ${s.read?"text-gray-400":"text-gray-200"}`,children:s.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(s.sentAt).toLocaleString("ar-SA",{dateStyle:"medium",timeStyle:"short"})})]}),!s.read&&c.jsxs("button",{onClick:()=>o(s.id),className:"text-xs text-blue-400 hover:text-blue-300 font-medium",title:"وضع علامة كمقروء",disabled:i,children:[c.jsx("i",{className:"fas fa-check-circle me-1"})," تمييز كمقروء"]})]}),s.link&&c.jsxs(Re,{to:s.link,className:"text-sm text-blue-400 hover:underline mt-2 inline-block",children:[c.jsx("i",{className:"fas fa-link me-1"})," اذهب إلى الرابط"]})]},s.id))})]})},oA=()=>{const{user:t}=ke(),e=sr();if(!t)return c.jsx(je,{to:"/login"});const n=[{path:"profile",label:M.viewProfile,icon:"fas fa-user-circle"},{path:"calculator",label:M.calorieCalculator,icon:"fas fa-calculator"},{path:"notifications",label:M.notifications,icon:"fas fa-bell"}];let r=[];switch(t.role){case H.ADMIN:r=[{path:"admin",label:M.adminDashboard,icon:"fas fa-tachometer-alt"},{path:"admin/users",label:M.userManagement,icon:"fas fa-users-cog"},{path:"admin/plans",label:M.planManagement,icon:"fas fa-clipboard-list"},{path:"admin/send-notification",label:M.sendNotification,icon:"fas fa-paper-plane"},{path:"admin/ratings",label:"مراجعة التقييمات",icon:"fas fa-star-half-alt"}];break;case H.TRAINER:r=[{path:"trainer",label:M.trainerDashboard,icon:"fas fa-chalkboard-teacher"},{path:"trainer/my-trainees",label:M.myTrainees,icon:"fas fa-users"},{path:"trainer/videos",label:M.trainingVideos,icon:"fas fa-video"},{path:"trainer/nutrition",label:M.nutritionFiles,icon:"fas fa-apple-alt"},{path:"trainer/manage-schedules",label:"إدارة جداول المتدربين",icon:"fas fa-calendar-check"}];break;case H.TRAINEE:r=[{path:"trainee",label:M.traineeDashboard,icon:"fas fa-dumbbell"},{path:"trainee/videos",label:M.trainingVideos,icon:"fas fa-video"},{path:"trainee/nutrition",label:M.nutritionFiles,icon:"fas fa-apple-alt"},{path:"trainee/schedule",label:M.mySchedule,icon:"fas fa-calendar-alt"},{path:"trainee/chat",label:M.chatWithTrainer,icon:"fas fa-comments"},{path:"trainee/rate-plan",label:M.ratePlan,icon:"fas fa-star"},{path:"trainee/rate-trainer",label:M.rateTrainer,icon:"fas fa-user-check"}];break}const i=[...r,...n],o=e.pathname.split("/")[2];return c.jsxs("div",{className:"flex flex-col md:flex-row min-h-[calc(100vh-150px)]",children:[c.jsxs("aside",{className:"w-full md:w-64 bg-gray-800 text-gray-300 p-4 space-y-2 md:sticky md:top-0 md:h-screen overflow-y-auto",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 border-b border-gray-700 pb-2 text-gray-100",children:M.dashboard}),i.map(s=>{const u=e.pathname===`/dashboard/${s.path}`||o&&s.path.startsWith(o)&&e.pathname.startsWith(`/dashboard/${o}`);return c.jsxs(Re,{to:`/dashboard/${s.path}`,className:`block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white ${u?"bg-blue-500 text-white":"text-gray-300"}`,children:[c.jsx("i",{className:`${s.icon} me-2 w-5 text-center`}),s.label]},s.path)})]}),c.jsxs("div",{className:"flex-1 p-6 bg-gray-900 shadow-lg md:ms-4",children:[" ",c.jsxs(js,{children:[t.role===H.ADMIN&&c.jsxs(c.Fragment,{children:[c.jsx(z,{index:!0,element:c.jsx(je,{to:"admin"})}),c.jsx(z,{path:"admin",element:c.jsx(di,{})}),c.jsx(z,{path:"admin/users",element:c.jsx(di,{activeTab:"users"})}),c.jsx(z,{path:"admin/plans",element:c.jsx(di,{activeTab:"plans"})}),c.jsx(z,{path:"admin/send-notification",element:c.jsx(di,{activeTab:"send-notification"})}),c.jsx(z,{path:"admin/ratings",element:c.jsx(di,{activeTab:"ratings"})})]}),t.role===H.TRAINER&&c.jsxs(c.Fragment,{children:[c.jsx(z,{index:!0,element:c.jsx(je,{to:"trainer"})}),c.jsx(z,{path:"trainer",element:c.jsx(fi,{})}),c.jsx(z,{path:"trainer/my-trainees",element:c.jsx(fi,{activeTab:"my-trainees"})}),c.jsx(z,{path:"trainer/videos",element:c.jsx(fi,{activeTab:"videos"})}),c.jsx(z,{path:"trainer/nutrition",element:c.jsx(fi,{activeTab:"nutrition"})}),c.jsx(z,{path:"trainer/manage-schedules",element:c.jsx(fi,{activeTab:"manage-schedules"})})]}),t.role===H.TRAINEE&&c.jsxs(c.Fragment,{children:[c.jsx(z,{index:!0,element:c.jsx(je,{to:"trainee"})}),c.jsx(z,{path:"trainee",element:c.jsx(Un,{})}),c.jsx(z,{path:"trainee/videos",element:c.jsx(Un,{activeTab:"videos"})}),c.jsx(z,{path:"trainee/nutrition",element:c.jsx(Un,{activeTab:"nutrition"})}),c.jsx(z,{path:"trainee/schedule",element:c.jsx(Un,{activeTab:"schedule"})}),c.jsx(z,{path:"trainee/chat",element:c.jsx(Un,{activeTab:"chat"})}),c.jsx(z,{path:"trainee/rate-plan",element:c.jsx(Un,{activeTab:"rate-plan"})}),c.jsx(z,{path:"trainee/rate-trainer",element:c.jsx(Un,{activeTab:"rate-trainer"})})]}),c.jsx(z,{path:"profile",element:c.jsx(rA,{})}),c.jsx(z,{path:"calculator",element:c.jsx(nA,{})}),c.jsx(z,{path:"notifications",element:c.jsx(iA,{})}),c.jsx(z,{path:"*",element:c.jsx(je,{to:t.role})})," "]})]})]})},sA=()=>{const{user:t,logout:e}=ke(),n=kn(),r=()=>{e(),n("/login")};return c.jsx("nav",{className:"bg-gray-800 text-gray-200 shadow-lg",children:c.jsxs("div",{className:"container mx-auto px-6 py-3 flex justify-between items-center",children:[c.jsx(Re,{to:"/",className:"text-2xl font-bold text-blue-400 hover:text-blue-300 transition-colors",children:RI}),c.jsx("div",{className:"flex items-center space-s-4",children:t?c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"text-sm hidden md:inline text-gray-300",children:["مرحباً, ",t.name||t.email||t.phoneNumber]}),t.role===H.ADMIN&&c.jsx(Re,{to:"/dashboard/admin",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:M.adminDashboard}),t.role===H.TRAINER&&c.jsx(Re,{to:"/dashboard/trainer",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:M.trainerDashboard}),t.role===H.TRAINEE&&c.jsx(Re,{to:"/dashboard/trainee",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:M.traineeDashboard}),c.jsx(Re,{to:"/dashboard/calculator",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:M.calorieCalculator}),c.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded transition-colors",children:M.logout})]}):c.jsxs(c.Fragment,{children:[c.jsx(Re,{to:"/login",className:"px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:M.login}),c.jsx(Re,{to:"/signup",className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded transition-colors",children:M.signup})]})})]})})},lA=()=>c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] text-center px-4",children:[c.jsx("h1",{className:"text-9xl font-bold text-blue-500",children:"404"}),c.jsx("h2",{className:"text-3xl font-semibold text-gray-100 mt-4 mb-2",children:"الصفحة غير موجودة"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"عذراً، لم نتمكن من العثور على الصفحة التي تبحث عنها."}),c.jsx(Re,{to:"/",className:"px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300",children:"العودة إلى الصفحة الرئيسية"})]}),aA=()=>{const{user:t,loading:e}=ke();return e?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900",children:c.jsx("div",{className:"text-xl font-semibold text-blue-400",children:"جاري التحميل..."})}):c.jsx(ah,{children:c.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-900",children:[c.jsx(sA,{}),c.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:c.jsxs(js,{children:[c.jsx(z,{path:"/login",element:t?c.jsx(je,{to:"/dashboard"}):c.jsx(DI,{})}),c.jsx(z,{path:"/signup",element:t?c.jsx(je,{to:"/dashboard"}):c.jsx(FI,{})}),c.jsx(z,{path:"/dashboard/*",element:t?c.jsx(oA,{}):c.jsx(je,{to:"/login"})}),c.jsx(z,{path:"/",element:c.jsx(je,{to:t?"/dashboard":"/login"})}),c.jsx(z,{path:"*",element:c.jsx(lA,{})})]})}),c.jsxs("footer",{className:"bg-gray-800 text-gray-300 text-center p-4",children:["© ",new Date().getFullYear()," منصة التدريب الرياضي. جميع الحقوق محفوظة."]})]})})},Bh=document.getElementById("root");if(!Bh)throw new Error("Could not find root element to mount to");const uA=Oo.createRoot(Bh);uA.render(c.jsx(Ga.StrictMode,{children:c.jsx(PI,{children:c.jsx(aA,{})})}));
